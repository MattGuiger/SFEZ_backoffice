(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{"VO+5":function(i,t,e){"use strict";e.d(t,"a",(function(){return v})),e.d(t,"b",(function(){return N})),e.d(t,"c",(function(){return g}));var n=e("fXoL"),o=e("XNiG"),s=e("ofXK");function a(i,t){if(1&i){const i=n["\u0275\u0275getCurrentView"]();n["\u0275\u0275elementStart"](0,"li",1),n["\u0275\u0275elementStart"](1,"notifier-notification",2),n["\u0275\u0275listener"]("ready",(function(t){return n["\u0275\u0275restoreView"](i),n["\u0275\u0275nextContext"]().onNotificationReady(t)}))("dismiss",(function(t){return n["\u0275\u0275restoreView"](i),n["\u0275\u0275nextContext"]().onNotificationDismiss(t)})),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementEnd"]()}if(2&i){const i=t.$implicit;n["\u0275\u0275advance"](1),n["\u0275\u0275property"]("notification",i)}}const r=function(i){return{notification:i}};function c(i,t){if(1&i&&n["\u0275\u0275elementContainer"](0,2),2&i){const i=n["\u0275\u0275nextContext"]();n["\u0275\u0275property"]("ngTemplateOutlet",i.notification.template)("ngTemplateOutletContext",n["\u0275\u0275pureFunction1"](2,r,i.notification))}}function h(i,t){if(1&i){const i=n["\u0275\u0275getCurrentView"]();n["\u0275\u0275elementStart"](0,"button",5),n["\u0275\u0275listener"]("click",(function(){return n["\u0275\u0275restoreView"](i),n["\u0275\u0275nextContext"](2).onClickDismiss()})),n["\u0275\u0275namespaceSVG"](),n["\u0275\u0275elementStart"](1,"svg",6),n["\u0275\u0275element"](2,"path",7),n["\u0275\u0275elementEnd"](),n["\u0275\u0275elementEnd"]()}}function f(i,t){if(1&i&&(n["\u0275\u0275elementStart"](0,"p",3),n["\u0275\u0275text"](1),n["\u0275\u0275elementEnd"](),n["\u0275\u0275template"](2,h,3,0,"button",4)),2&i){const i=n["\u0275\u0275nextContext"]();n["\u0275\u0275advance"](1),n["\u0275\u0275textInterpolate"](i.notification.message),n["\u0275\u0275advance"](1),n["\u0275\u0275property"]("ngIf",i.config.behaviour.showDismissButton)}}class l{constructor(i){this.template=null,Object.assign(this,i),void 0===i.id&&(this.id=`ID_${(new Date).getTime()}`)}}let m=(()=>{class i{constructor(){this.actionStream=new o.b,this.actionQueue=[],this.isActionInProgress=!1}push(i){this.actionQueue.push(i),this.tryToRunNextAction()}continue(){this.isActionInProgress=!1,this.tryToRunNextAction()}tryToRunNextAction(){this.isActionInProgress||0===this.actionQueue.length||(this.isActionInProgress=!0,this.actionStream.next(this.actionQueue.shift()))}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=n["\u0275\u0275defineInjectable"]({token:i,factory:i.\u0275fac}),i})();class p{constructor(i={}){this.animations={enabled:!0,hide:{easing:"ease",offset:50,preset:"fade",speed:300},overlap:150,shift:{easing:"ease",speed:300},show:{easing:"ease",preset:"slide",speed:300}},this.behaviour={autoHide:7e3,onClick:!1,onMouseover:"pauseAutoHide",showDismissButton:!0,stacking:4},this.position={horizontal:{distance:12,position:"left"},vertical:{distance:12,gap:10,position:"bottom"}},this.theme="material",void 0!==i.theme&&(this.theme=i.theme),void 0!==i.animations&&(void 0!==i.animations.enabled&&(this.animations.enabled=i.animations.enabled),void 0!==i.animations.overlap&&(this.animations.overlap=i.animations.overlap),void 0!==i.animations.hide&&Object.assign(this.animations.hide,i.animations.hide),void 0!==i.animations.shift&&Object.assign(this.animations.shift,i.animations.shift),void 0!==i.animations.show&&Object.assign(this.animations.show,i.animations.show)),void 0!==i.behaviour&&Object.assign(this.behaviour,i.behaviour),void 0!==i.position&&(void 0!==i.position.horizontal&&Object.assign(this.position.horizontal,i.position.horizontal),void 0!==i.position.vertical&&Object.assign(this.position.vertical,i.position.vertical))}}const d=new n.InjectionToken("[angular-notifier] Notifier Options"),u=new n.InjectionToken("[anuglar-notifier] Notifier Config");let g=(()=>{class i{constructor(i,t){this.queueService=i,this.config=t}getConfig(){return this.config}show(i){this.queueService.push({payload:i,type:"SHOW"})}hide(i){this.queueService.push({payload:i,type:"HIDE"})}hideNewest(){this.queueService.push({type:"HIDE_NEWEST"})}hideOldest(){this.queueService.push({type:"HIDE_OLDEST"})}hideAll(){this.queueService.push({type:"HIDE_ALL"})}notify(i,t,e){let n={message:t,type:i};void 0!==e&&(n.id=e),this.show(n)}}return i.\u0275fac=function(t){return new(t||i)(n["\u0275\u0275inject"](m),n["\u0275\u0275inject"](u))},i.\u0275prov=n["\u0275\u0275defineInjectable"]({token:i,factory:i.\u0275fac}),i})(),v=(()=>{class i{constructor(i,t,e){this.changeDetector=i,this.queueService=t,this.config=e.getConfig(),this.notifications=[],this.queueServiceSubscription=this.queueService.actionStream.subscribe(i=>{this.handleAction(i).then(()=>{this.queueService.continue()})})}ngOnDestroy(){this.queueServiceSubscription&&this.queueServiceSubscription.unsubscribe()}identifyNotification(i,t){return t.id}onNotificationDismiss(i){this.queueService.push({payload:i,type:"HIDE"})}onNotificationReady(i){let t=this.notifications[this.notifications.length-1];t.component=i,this.continueHandleShowAction(t)}handleAction(i){switch(i.type){case"SHOW":return this.handleShowAction(i);case"HIDE":return this.handleHideAction(i);case"HIDE_OLDEST":return this.handleHideOldestAction(i);case"HIDE_NEWEST":return this.handleHideNewestAction(i);case"HIDE_ALL":return this.handleHideAllAction(i);default:return new Promise((i,t)=>{i()})}}handleShowAction(i){return new Promise((t,e)=>{this.tempPromiseResolver=t,this.addNotificationToList(new l(i.payload))})}continueHandleShowAction(i){const t=this.notifications.length;if(1===t)i.component.show().then(this.tempPromiseResolver);else{const e=2;if(!1===this.config.behaviour.stacking||this.config.behaviour.stacking<e)this.notifications[0].component.hide().then(()=>{this.removeNotificationFromList(this.notifications[0]),i.component.show().then(this.tempPromiseResolver)});else{const e=[];if(t>this.config.behaviour.stacking){const n=this.notifications.slice(1,t-1);this.config.animations.enabled?!1!==this.config.animations.overlap&&this.config.animations.overlap>0?(e.push(this.notifications[0].component.hide()),setTimeout(()=>{e.push(this.shiftNotifications(n,i.component.getHeight(),!0))},this.config.animations.hide.speed-this.config.animations.overlap),setTimeout(()=>{e.push(i.component.show())},this.config.animations.hide.speed+this.config.animations.shift.speed-this.config.animations.overlap)):e.push(new Promise((t,e)=>{this.notifications[0].component.hide().then(()=>{this.shiftNotifications(n,i.component.getHeight(),!0).then(()=>{i.component.show().then(t)})})})):(e.push(this.notifications[0].component.hide()),e.push(this.shiftNotifications(n,i.component.getHeight(),!0)),e.push(i.component.show()))}else{const n=this.notifications.slice(0,t-1);this.config.animations.enabled?!1!==this.config.animations.overlap&&this.config.animations.overlap>0?(e.push(this.shiftNotifications(n,i.component.getHeight(),!0)),setTimeout(()=>{e.push(i.component.show())},this.config.animations.shift.speed-this.config.animations.overlap)):e.push(new Promise((t,e)=>{this.shiftNotifications(n,i.component.getHeight(),!0).then(()=>{i.component.show().then(t)})})):(e.push(this.shiftNotifications(n,i.component.getHeight(),!0)),e.push(i.component.show()))}Promise.all(e).then(()=>{t>this.config.behaviour.stacking&&this.removeNotificationFromList(this.notifications[0]),this.tempPromiseResolver()})}}}handleHideAction(i){return new Promise((t,e)=>{const n=[],o=this.findNotificationById(i.payload);if(void 0===o)return void t();const s=this.findNotificationIndexById(i.payload);if(void 0===s)return void t();const a=this.notifications.slice(0,s);a.length>0?this.config.animations.enabled&&this.config.animations.hide.speed>0?!1!==this.config.animations.overlap&&this.config.animations.overlap>0?(n.push(o.component.hide()),setTimeout(()=>{n.push(this.shiftNotifications(a,o.component.getHeight(),!1))},this.config.animations.hide.speed-this.config.animations.overlap)):o.component.hide().then(()=>{n.push(this.shiftNotifications(a,o.component.getHeight(),!1))}):(n.push(o.component.hide()),n.push(this.shiftNotifications(a,o.component.getHeight(),!1))):n.push(o.component.hide()),Promise.all(n).then(()=>{this.removeNotificationFromList(o),t()})})}handleHideOldestAction(i){return 0===this.notifications.length?new Promise((i,t)=>{i()}):(i.payload=this.notifications[0].id,this.handleHideAction(i))}handleHideNewestAction(i){return 0===this.notifications.length?new Promise((i,t)=>{i()}):(i.payload=this.notifications[this.notifications.length-1].id,this.handleHideAction(i))}handleHideAllAction(i){return new Promise((i,t)=>{const e=this.notifications.length;if(0!==e)if(this.config.animations.enabled&&this.config.animations.hide.speed>0&&!1!==this.config.animations.hide.offset&&this.config.animations.hide.offset>0)for(let n=e-1;n>=0;n--)setTimeout(()=>{this.notifications[n].component.hide().then(()=>{("top"===this.config.position.vertical.position&&0===n||"bottom"===this.config.position.vertical.position&&n===e-1)&&(this.removeAllNotificationsFromList(),i())})},this.config.animations.hide.offset*("top"===this.config.position.vertical.position?e-1:n));else{let t=[];for(let i=e-1;i>=0;i--)t.push(this.notifications[i].component.hide());Promise.all(t).then(()=>{this.removeAllNotificationsFromList(),i()})}else i()})}shiftNotifications(i,t,e){return new Promise((n,o)=>{if(0===i.length)return void n();let s=[];for(let a=i.length-1;a>=0;a--)s.push(i[a].component.shift(t,e));Promise.all(s).then(n)})}addNotificationToList(i){this.notifications.push(i),this.changeDetector.markForCheck()}removeNotificationFromList(i){this.notifications=this.notifications.filter(t=>t.component!==i.component),this.changeDetector.markForCheck()}removeAllNotificationsFromList(){this.notifications=[],this.changeDetector.markForCheck()}findNotificationById(i){return this.notifications.find(t=>t.id===i)}findNotificationIndexById(i){const t=this.notifications.findIndex(t=>t.id===i);return-1!==t?t:void 0}}return i.\u0275fac=function(t){return new(t||i)(n["\u0275\u0275directiveInject"](n.ChangeDetectorRef),n["\u0275\u0275directiveInject"](m),n["\u0275\u0275directiveInject"](g))},i.\u0275cmp=n["\u0275\u0275defineComponent"]({type:i,selectors:[["notifier-container"]],hostAttrs:[1,"notifier__container"],decls:2,vars:2,consts:[["class","notifier__container-list",4,"ngFor","ngForOf","ngForTrackBy"],[1,"notifier__container-list"],[3,"notification","ready","dismiss"]],template:function(i,t){1&i&&(n["\u0275\u0275elementStart"](0,"ul"),n["\u0275\u0275template"](1,a,2,1,"li",0),n["\u0275\u0275elementEnd"]()),2&i&&(n["\u0275\u0275advance"](1),n["\u0275\u0275property"]("ngForOf",t.notifications)("ngForTrackBy",t.identifyNotification))},directives:function(){return[s.p,S]},encapsulation:2,changeDetection:0}),i})();const w={hide:()=>({from:{opacity:"1"},to:{opacity:"0"}}),show:()=>({from:{opacity:"0"},to:{opacity:"1"}})},y={hide:i=>{const t=i.component.getConfig(),e=i.component.getShift();let n,o;if("left"===t.position.horizontal.position)n={transform:`translate3d( 0, ${e}px, 0 )`},o={transform:`translate3d( calc( -100% - ${t.position.horizontal.distance}px - 10px ), ${e}px, 0 )`};else if("right"===t.position.horizontal.position)n={transform:`translate3d( 0, ${e}px, 0 )`},o={transform:`translate3d( calc( 100% + ${t.position.horizontal.distance}px + 10px ), ${e}px, 0 )`};else{let i;i="top"===t.position.vertical.position?`calc( -100% - ${t.position.horizontal.distance}px - 10px )`:`calc( 100% + ${t.position.horizontal.distance}px + 10px )`,n={transform:`translate3d( -50%, ${e}px, 0 )`},o={transform:`translate3d( -50%, ${i}, 0 )`}}return{from:n,to:o}},show:i=>{const t=i.component.getConfig();let e,n;if("left"===t.position.horizontal.position)e={transform:`translate3d( calc( -100% - ${t.position.horizontal.distance}px - 10px ), 0, 0 )`},n={transform:"translate3d( 0, 0, 0 )"};else if("right"===t.position.horizontal.position)e={transform:`translate3d( calc( 100% + ${t.position.horizontal.distance}px + 10px ), 0, 0 )`},n={transform:"translate3d( 0, 0, 0 )"};else{let i;i="top"===t.position.vertical.position?`calc( -100% - ${t.position.horizontal.distance}px - 10px )`:`calc( 100% + ${t.position.horizontal.distance}px + 10px )`,e={transform:`translate3d( -50%, ${i}, 0 )`},n={transform:"translate3d( -50%, 0, 0 )"}}return{from:e,to:n}}};let b=(()=>{class i{constructor(){this.animationPresets={fade:w,slide:y}}getAnimationData(i,t){let e,n,o;return"show"===i?(e=this.animationPresets[t.component.getConfig().animations.show.preset].show(t),n=t.component.getConfig().animations.show.speed,o=t.component.getConfig().animations.show.easing):(e=this.animationPresets[t.component.getConfig().animations.hide.preset].hide(t),n=t.component.getConfig().animations.hide.speed,o=t.component.getConfig().animations.hide.easing),{keyframes:[e.from,e.to],options:{duration:n,easing:o,fill:"forwards"}}}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=n["\u0275\u0275defineInjectable"]({token:i,factory:i.\u0275fac}),i})(),H=(()=>{class i{constructor(){this.now=0,this.remaining=0}start(i){return new Promise((t,e)=>{this.remaining=i,this.finishPromiseResolver=t,this.continue()})}pause(){clearTimeout(this.timerId),this.remaining-=(new Date).getTime()-this.now}continue(){this.now=(new Date).getTime(),this.timerId=window.setTimeout(()=>{this.finish()},this.remaining)}stop(){clearTimeout(this.timerId),this.remaining=0}finish(){this.finishPromiseResolver()}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275prov=n["\u0275\u0275defineInjectable"]({token:i,factory:i.\u0275fac}),i})(),S=(()=>{class i{constructor(i,t,e,o,s){this.config=e.getConfig(),this.ready=new n.EventEmitter,this.dismiss=new n.EventEmitter,this.timerService=o,this.animationService=s,this.renderer=t,this.element=i.nativeElement,this.elementShift=0}ngAfterViewInit(){this.setup(),this.elementHeight=this.element.offsetHeight,this.elementWidth=this.element.offsetWidth,this.ready.emit(this)}getConfig(){return this.config}getHeight(){return this.elementHeight}getWidth(){return this.elementWidth}getShift(){return this.elementShift}show(){return new Promise((i,t)=>{if(this.config.animations.enabled&&this.config.animations.show.speed>0){const t=this.animationService.getAnimationData("show",this.notification),e=Object.keys(t.keyframes[0]);for(let i=e.length-1;i>=0;i--)this.renderer.setStyle(this.element,e[i],t.keyframes[0][e[i]]);this.renderer.setStyle(this.element,"visibility","visible"),this.element.animate(t.keyframes,t.options).onfinish=()=>{this.startAutoHideTimer(),i()}}else this.renderer.setStyle(this.element,"visibility","visible"),this.startAutoHideTimer(),i()})}hide(){return new Promise((i,t)=>{if(this.stopAutoHideTimer(),this.config.animations.enabled&&this.config.animations.hide.speed>0){const t=this.animationService.getAnimationData("hide",this.notification);this.element.animate(t.keyframes,t.options).onfinish=()=>{i()}}else i()})}shift(i,t){return new Promise((e,n)=>{let o;o="top"===this.config.position.vertical.position&&t||"bottom"===this.config.position.vertical.position&&!t?this.elementShift+i+this.config.position.vertical.gap:this.elementShift-i-this.config.position.vertical.gap;const s="middle"===this.config.position.horizontal.position?"-50%":"0";if(this.config.animations.enabled&&this.config.animations.shift.speed>0){const i={keyframes:[{transform:`translate3d( ${s}, ${this.elementShift}px, 0 )`},{transform:`translate3d( ${s}, ${o}px, 0 )`}],options:{duration:this.config.animations.shift.speed,easing:this.config.animations.shift.easing,fill:"forwards"}};this.elementShift=o,this.element.animate(i.keyframes,i.options).onfinish=()=>{e()}}else this.renderer.setStyle(this.element,"transform",`translate3d( ${s}, ${o}px, 0 )`),this.elementShift=o,e()})}onClickDismiss(){this.dismiss.emit(this.notification.id)}onNotificationMouseover(){"pauseAutoHide"===this.config.behaviour.onMouseover?this.pauseAutoHideTimer():"resetAutoHide"===this.config.behaviour.onMouseover&&this.stopAutoHideTimer()}onNotificationMouseout(){"pauseAutoHide"===this.config.behaviour.onMouseover?this.continueAutoHideTimer():"resetAutoHide"===this.config.behaviour.onMouseover&&this.startAutoHideTimer()}onNotificationClick(){"hide"===this.config.behaviour.onClick&&this.onClickDismiss()}startAutoHideTimer(){!1!==this.config.behaviour.autoHide&&this.config.behaviour.autoHide>0&&this.timerService.start(this.config.behaviour.autoHide).then(()=>{this.onClickDismiss()})}pauseAutoHideTimer(){!1!==this.config.behaviour.autoHide&&this.config.behaviour.autoHide>0&&this.timerService.pause()}continueAutoHideTimer(){!1!==this.config.behaviour.autoHide&&this.config.behaviour.autoHide>0&&this.timerService.continue()}stopAutoHideTimer(){!1!==this.config.behaviour.autoHide&&this.config.behaviour.autoHide>0&&this.timerService.stop()}setup(){"left"===this.config.position.horizontal.position?this.renderer.setStyle(this.element,"left",`${this.config.position.horizontal.distance}px`):"right"===this.config.position.horizontal.position?this.renderer.setStyle(this.element,"right",`${this.config.position.horizontal.distance}px`):(this.renderer.setStyle(this.element,"left","50%"),this.renderer.setStyle(this.element,"transform","translate3d( -50%, 0, 0 )")),this.renderer.setStyle(this.element,"top"===this.config.position.vertical.position?"top":"bottom",`${this.config.position.vertical.distance}px`),this.renderer.addClass(this.element,`notifier__notification--${this.notification.type}`),this.renderer.addClass(this.element,`notifier__notification--${this.config.theme}`)}}return i.\u0275fac=function(t){return new(t||i)(n["\u0275\u0275directiveInject"](n.ElementRef),n["\u0275\u0275directiveInject"](n.Renderer2),n["\u0275\u0275directiveInject"](g),n["\u0275\u0275directiveInject"](H),n["\u0275\u0275directiveInject"](b))},i.\u0275cmp=n["\u0275\u0275defineComponent"]({type:i,selectors:[["notifier-notification"]],hostAttrs:[1,"notifier__notification"],hostBindings:function(i,t){1&i&&n["\u0275\u0275listener"]("click",(function(){return t.onNotificationClick()}))("mouseout",(function(){return t.onNotificationMouseout()}))("mouseover",(function(){return t.onNotificationMouseover()}))},inputs:{notification:"notification"},outputs:{ready:"ready",dismiss:"dismiss"},features:[n["\u0275\u0275ProvidersFeature"]([H])],decls:3,vars:2,consts:[[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngIf","ngIfElse"],["predefinedNotification",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"notifier__notification-message"],["class","notifier__notification-button","type","button","title","dismiss",3,"click",4,"ngIf"],["type","button","title","dismiss",1,"notifier__notification-button",3,"click"],["viewBox","0 0 24 24","width","20","height","20",1,"notifier__notification-button-icon"],["d","M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"]],template:function(i,t){if(1&i&&(n["\u0275\u0275template"](0,c,1,4,"ng-container",0),n["\u0275\u0275template"](1,f,3,2,"ng-template",null,1,n["\u0275\u0275templateRefExtractor"])),2&i){const i=n["\u0275\u0275reference"](2);n["\u0275\u0275property"]("ngIf",t.notification.template)("ngIfElse",i)}},directives:[s.q,s.v],encapsulation:2,changeDetection:0}),i})();function A(i){return new p(i)}function x(){return new p({})}let N=(()=>{class i{static withConfig(t={}){return{ngModule:i,providers:[{provide:d,useValue:t},{deps:[d],provide:u,useFactory:A}]}}}return i.\u0275mod=n["\u0275\u0275defineNgModule"]({type:i}),i.\u0275inj=n["\u0275\u0275defineInjector"]({factory:function(t){return new(t||i)},providers:[b,g,m,{provide:u,useFactory:x}],imports:[[s.c]]}),i})()}}]);