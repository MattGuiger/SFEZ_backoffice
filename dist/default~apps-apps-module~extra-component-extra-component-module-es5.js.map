{"version":3,"sources":["webpack:///node_modules/atoa/atoa.js","webpack:///node_modules/contra/debounce.js","webpack:///node_modules/contra/emitter.js","webpack:///node_modules/crossvent/node_modules/custom-event/index.js","webpack:///node_modules/crossvent/src/crossvent.js","webpack:///node_modules/crossvent/src/eventmap.js","webpack:///node_modules/dragula/classes.js","webpack:///node_modules/dragula/dragula.js","webpack:///node_modules/ng2-dragula/__ivy_ngcc__/dist/fesm2015/ng2-dragula.js","webpack:///node_modules/ngx-quill/__ivy_ngcc__/fesm2015/ngx-quill.js","webpack:///node_modules/quill/dist/quill.js","webpack:///node_modules/ticky/ticky-browser.js"],"names":["module","exports","atoa","a","n","Array","prototype","slice","call","ticky","debounce","fn","args","ctx","run","apply","emitter","thing","options","opts","evt","undefined","on","type","push","once","_once","off","c","arguments","length","et","splice","indexOf","emit","emitterSnapshot","shift","forEach","listen","async","NativeCustomEvent","global","CustomEvent","useNative","p","detail","foo","e","document","createEvent","params","initCustomEvent","bubbles","cancelable","createEventObject","Boolean","customEvent","eventmap","doc","addEvent","addEventEasy","removeEvent","removeEventEasy","hardCache","addEventListener","addEventHard","removeEventHard","add","remove","fabricate","fabricateEvent","el","capturing","attachEvent","wrap","removeEventListener","listener","unwrap","detachEvent","model","makeCustomEvent","makeClassicEvent","dispatchEvent","fireEvent","initEvent","wrapperFactory","wrapper","originalEvent","event","target","srcElement","preventDefault","returnValue","stopPropagation","cancelBubble","which","keyCode","element","i","find","item","eventname","ron","test","cache","start","end","lookupClass","className","cached","lastIndex","RegExp","addClass","current","rmClass","replace","trim","rm","crossvent","classes","documentElement","dragula","initialContainers","len","isArray","_mirror","_source","_item","_offsetX","_offsetY","_moveX","_moveY","_initialSibling","_currentSibling","_copy","_renderTimer","_lastDropTarget","_grabbed","o","moves","always","accepts","invalid","invalidTarget","containers","isContainer","never","copy","copySortSource","revertOnSpill","removeOnSpill","direction","ignoreInputTextSelection","mirrorContainer","body","drake","manualStart","cancel","destroy","canMove","dragging","spillOver","spillOut","events","op","touchy","grab","release","eventualMovements","startBecauseMouseMoved","movements","preventGrabbed","clientX","clientY","ignore","whichMouseButton","metaKey","ctrlKey","context","canStart","isInput","focus","getCoord","elementBehindCursor","elementFromPoint","grabbed","offset","getOffset","left","top","renderMirrorImage","drag","handle","getParent","source","movable","nextEl","isCopy","cloneNode","drop","ungrab","getElementBehindPoint","dropTarget","findDropTarget","parent","removeChild","isInitialPlacement","cleanup","revert","reverts","initial","insertBefore","removeMirrorImage","clearTimeout","s","sibling","accepted","droppable","immediate","getImmediateChild","reference","getReference","x","y","style","changed","out","over","moved","rect","getBoundingClientRect","width","getRectWidth","height","getRectHeight","appendChild","horizontal","inside","outside","children","resolve","after","container","touch","mouseup","mousedown","mousemove","pointers","microsoft","navigator","pointerEnabled","msPointerEnabled","touches","buttons","button","getScroll","scrollProp","offsetProp","clientHeight","point","state","right","bottom","parentNode","tagName","isEditable","contentEditable","nextElementSibling","manually","nextSibling","nodeType","getEventHost","targetTouches","changedTouches","coord","host","missMap","pageX","pageY","Group","name","initEvents","EventTypes","Cancel","Cloned","Drag","DragEnd","Drop","Out","Over","Remove","Shadow","DropModel","RemoveModel","AllEvents","Object","keys","map","k","DrakeFactory","build","filterEvent","eventType","filterDragType","projector","input","pipe","elContainerSourceProjector","DragulaService","drakeFactory","dispatch$","groupName","dragend","elContainerSource","shadow","cloned","clone","original","cloneType","dropModel","sourceModel","targetModel","sourceIndex","targetIndex","removeModel","groups","group","existingGroup","Error","handleModels","setupEvents","dragElm","dragIndex","dropIndex","models","next","domIndexOf","dropElm","isCopying","copyItem","child","ɵfac","DragulaService_Factory","t","ɵprov","token","factory","ctorParameters","decorators","DragulaDirective","dragulaService","dragulaModelChange","changes","prev","previousValue","currentValue","firstChange","hadPreviousValue","hasNewValue","teardown","setup","dragulaModel","prevIndex","checkModel","createGroup","subscribe","subs","nativeElement","unsubscribe","itemToRemove","modelIndex","DragulaDirective_Factory","ɵdir","selectors","inputs","outputs","features","propDecorators","selector","DragulaModule","ngModule","providers","ɵmod","ɵinj","DragulaModule_Factory","ngJitMode","declarations","MockDrakeFactory","MockDrake","emitter$","callback","_c0","_c1","defaultModules","toolbar","header","list","script","indent","size","color","background","font","align","QUILL_CONFIG_TOKEN","getFormat","format","configFormat","passedFormat","QuillEditorComponent_1","Quill","QuillEditorComponent","elementRef","domSanitizer","platformId","renderer","zone","config","required","customToolbarPosition","sanitize","styles","strict","customOptions","preserveWhitespace","onEditorCreated","onEditorChanged","onContentChanged","onSelectionChanged","onFocus","onBlur","disabled","valueGetter","quillEditor","editorElement","html","querySelector","innerHTML","modelValue","getText","getContents","JSON","stringify","valueSetter","value","HTML","clipboard","convert","parse","insert","selectionChangeHandler","range","oldRange","shouldTriggerOnModelTouched","onModelTouched","observers","editor","textChangeHandler","delta","oldDelta","text","content","editorElem","trackChanges","shouldTriggerOnModelChange","sources","USER","onModelChange","editorChangeHandler","old","_modelValue","runOutsideAngular","insertAdjacentHTML","toolbarElem","modules","assign","placeholder","key","setStyle","addClasses","customOption","newCustomOption","whitelist","register","bounds","debug","readOnly","scrollingContainer","formats","theme","setContents","setText","contents","history","clear","setDisabledState","setTimeout","enable","root","dataset","currentStyling","previousStyling","removeStyle","currentClasses","previousClasses","removeClasses","classList","normalizeClassNames","removeClass","isDisabled","disable","setAttribute","removeAttribute","err","valid","textLength","minLength","minLengthError","given","maxLength","maxLengthError","requiredError","empty","split","reduce","cur","trimmed","QuillEditorComponent_Factory","ɵcmp","multi","provide","useExisting","ngContentSelectors","decls","vars","template","QuillEditorComponent_Template","rf","encapsulation","QuillViewHTMLComponent","sanitizer","themeClass","bypassSecurityTrustHtml","QuillViewHTMLComponent_Factory","consts","QuillViewHTMLComponent_Template","directives","Quill$1","QuillViewComponent","QuillViewComponent_Factory","QuillViewComponent_Template","QuillModule_1","QuillModule","useValue","QuillModule_Factory","imports","None","webpackUniversalModuleDefinition","self","installedModules","__webpack_require__","moduleId","l","m","d","getter","defineProperty","configurable","enumerable","get","__esModule","getDefault","getModuleExports","object","property","hasOwnProperty","container_1","format_1","leaf_1","scroll_1","inline_1","block_1","embed_1","text_1","attributor_1","class_1","style_1","store_1","Registry","Parchment","Scope","create","query","Container","Format","Leaf","Embed","Scroll","Block","Inline","Text","Attributor","Attribute","Class","Style","Store","__extends","extendStatics","setPrototypeOf","__proto__","b","__","constructor","ParchmentError","_super","message","_this","attributes","tags","types","DATA_KEY","match","BlotClass","node","Node","TEXT_NODE","bubble","blot","scope","ANY","LEVEL","BLOCK","INLINE","HTMLElement","names","getAttribute","TYPE","Definitions","_i","Definition","blotName","attrName","keyName","toUpperCase","tagNames","tag","diff","equal","extend","NULL_CHARACTER","String","fromCharCode","Delta","ops","newOp","retain","index","lastOp","unshift","chop","pop","filter","predicate","partition","passed","failed","changeLength","elem","Infinity","iter","iterator","hasNext","nextOp","compose","other","thisIter","otherIter","firstOther","peek","firstLeft","peekType","peekLength","Math","min","thisOp","otherOp","rest","concat","strings","prep","join","diffResult","component","opLength","INSERT","DELETE","EQUAL","eachLine","newline","line","transform","priority","transformPosition","nextType","hasOwn","toStr","toString","gOPD","getOwnPropertyDescriptor","arr","isPlainObject","obj","hasOwnConstructor","hasIsPrototypeOf","setProperty","newValue","writable","getProperty","src","copyIsArray","deep","BlockEmbed","bubbleFormats","_createClass","defineProperties","props","descriptor","Constructor","protoProps","staticProps","_get","receiver","Function","desc","getPrototypeOf","_extend","_extend2","_interopRequireDefault","_quillDelta","_quillDelta2","_parchment","_parchment2","_break","_break2","_inline","_inline2","_text","_text2","_classCallCheck","instance","TypeError","_possibleConstructorReturn","ReferenceError","_inherits","subClass","superClass","NEWLINE_LENGTH","_Parchment$Embed","attach","domNode","values","attribute","BLOCK_ATTRIBUTE","formatAt","insertAt","def","endsWith","block","BLOCK_BLOT","_Parchment$Block","_this2","descendants","leaf","deleteAt","lines","tail","ref","head","moveChildren","optimize","path","force","defaultChild","allowedChildren","statics","overload","expandConfig","_typeof","Symbol","_slicedToArray","sliceIterator","_arr","_n","_d","_e","_s","done","_editor","_editor2","_emitter3","_emitter4","_module","_module2","_selection","_selection2","_logger","_logger2","_theme","_theme2","_defineProperty","limit","level","__quill","_import","error","overwrite","warn","startsWith","addContainer","scroll","selection","keyboard","addModule","init","EDITOR_CHANGE","TEXT_CHANGE","toggle","isBlank","SCROLL_UPDATE","mutations","lastRange","modify","update","refNode","createElement","blur","setRange","deleteText","_this3","_overload","_overload2","enabled","scrollTop","scrollIntoView","_this4","API","getSelection","change","formatLine","formatText","setSelection","SILENT","_this5","_overload3","_overload4","_this6","_overload5","_overload6","getBounds","containerBounds","getLength","_overload7","_overload8","getIndex","getLeaf","getLine","getLines","Number","MAX_VALUE","getModule","getRange","_overload9","_overload10","hasFocus","insertEmbed","embed","_this7","insertText","_this8","_overload11","_overload12","isEnabled","contains","pasteHTML","dangerouslyPasteHTML","removeFormat","_this9","_overload13","_overload14","_this10","deleted","applied","applyDelta","ret","_overload15","_overload16","Range","updateContents","_this11","DEFAULTS","version","userConfig","themeConfig","moduleNames","moduleConfig","moduleClass","modifier","shiftRange","_emitter","_emitter2","_map","pos","_map2","_map3","max","_map4","_Parchment$Inline","compare","BLOT","isolate","selfIndex","order","otherIndex","TextBlot","_Parchment$Text","_eventemitter","_eventemitter2","EVENTS","eventName","_len","_key","querySelectorAll","_node$__quill$emitter","handleDOM","Emitter","_EventEmitter","listeners","log","_len2","_key2","_ref","handler","listenDOM","SCROLL_BEFORE_UPDATE","SCROLL_OPTIMIZE","SELECTION_CHANGE","Module","quill","levels","method","_console","console","namespace","ns","logger","bind","newLevel","pSlice","objectKeys","isArguments","deepEqual","actual","expected","Date","getTime","objEquiv","isUndefinedOrNull","isBuffer","ka","kb","sort","attributeBit","ATTRIBUTE","canAdd","Code","_block","_block2","_Inline","CodeBlock","_Block","textContent","frag","_descendant","descendant","_descendant2","nextNewline","newlineIndex","prevNewline","isolateLength","_descendant3","_descendant4","searchIndex","reverse","lastIndexOf","TAB","_op","_op2","_code","_code2","_cursor","_cursor2","_clone","_clone2","_deepEqual","_deepEqual2","ASCII","Editor","getDelta","consumeNextNewline","scrollLength","batchStart","normalizeDelta","_scroll$line","_scroll$line2","_line$descendant","_line$descendant2","batchEnd","lengthRemaining","lineLength","codeIndex","codeLength","leaves","_path","formatsArr","blots","combineFormats","_scroll$line3","_scroll$line4","suffixLength","suffix","cursorIndex","data","textBlot","oldValue","CONTENTS","oldText","newText","diffDelta","combined","merged","image","bullet","_toConsumableArray","arr2","from","Selection","composing","mouseDown","cursor","savedRange","handleComposition","handleDragging","native","getNativeRange","textNode","setNativeRange","ignored","_context$range","startNode","startOffset","endNode","endOffset","restore","_format","nativeRange","collapsed","_scroll$leaf","_scroll$leaf2","_leaf$position","position","_leaf$position2","createRange","setStart","_scroll$leaf3","_scroll$leaf4","_leaf$position3","_leaf$position4","setEnd","side","rangeCount","getRangeAt","normalizeNative","info","normalized","normalizedToRange","activeElement","positions","indexes","_position","startContainer","endContainer","childNodes","lastChild","rangeToNative","_scroll$leaf5","_scroll$leaf6","_leaf$position5","_leaf$position6","first","last","scrollBounds","removeAllRanges","addRange","_getRange","_getRange2","Break","insertInto","linked_list_1","shadow_1","ContainerBlot","makeBlot","forEachAt","criteria","_a","lengthLeft","detach","childBlot","refBlot","some","memo","targetParent","inclusive","addedNodes","removedNodes","mutation","compareDocumentPosition","DOCUMENT_POSITION_CONTAINED_BY","DOCUMENT_POSITION_FOLLOWING","replaceChild","FormatBlot","toLowerCase","replaceWith","replacement","move","LeafBlot","INLINE_BLOT","lib","keepNull","Iterator","retOp","substr","_instanceof","nativeMap","Map","_","nativeSet","Set","nativePromise","Promise","circular","depth","includeNonEnumerable","allParents","allChildren","useBuffer","Buffer","proto","reject","then","__isArray","__isRegExp","__getRegExpFlags","__isDate","allocUnsafe","keyChild","valueChild","set","entryChild","attrs","getOwnPropertySymbols","symbols","symbol","allPropertyNames","getOwnPropertyNames","propertyName","clonePrototype","__objToStr","re","flags","ignoreCase","multiline","_container","_container2","isLine","_Parchment$Scroll","batch","_line","_line2","_line3","_line4","_newlineIndex","observer","takeRecords","SHORTKEY","_quill","_quill2","platform","Keyboard","_Module","binding","normalize","bindings","addBinding","ENTER","shiftKey","handleEnter","altKey","userAgent","BACKSPACE","handleBackspace","handleDelete","prefix","handleDeleteRange","defaultPrevented","_quill$getLine","_quill$getLine2","_quill$getLeaf","_quill$getLeaf2","leafStart","offsetStart","_ref2","leafEnd","offsetEnd","prefixText","suffixText","curContext","prevented","every","ESCAPE","LEFT","UP","RIGHT","DOWN","makeFormatHandler","makeCodeBlockHandler","cutoff","_quill$getLine3","_quill$getLine4","_quill$getLine5","_quill$getLine6","_quill$getLine7","_quill$getLine8","_quill$getLine9","_quill$getLine10","makeEmbedArrowHandler","_ref3","where","_quill$getLeaf3","_quill$getLeaf4","_quill$getLine11","_quill$getLine12","_quill$getLine13","_quill$getLine14","curFormats","prevFormats","nextLength","_quill$getLine15","_quill$getLine16","_quill$getLine17","_quill$getLine18","nextFormats","firstFormats","lastFormats","lineFormats","_quill$scroll$descend","_quill$scroll$descend2","scrollIndex","shortKey","charCodeAt","Cursor","createTextNode","_length","restoreText","_Parchment$Container","ColorStyle","ColorClass","ColorAttributor","_Parchment$Attributor","parseInt","Link","url","_sanitize","PROTOCOL_WHITELIST","SANITIZED_URL","protocols","anchor","href","protocol","_keyboard","_keyboard2","_dropdown","_dropdown2","optionsCounter","toggleAriaAttribute","Picker","select","buildPicker","display","label","togglePicker","escape","buildItem","option","tabIndex","hasAttribute","selectItem","buildLabel","buildOptions","id","selected","close","trigger","selectedIndex","Event","isActive","_embed","_embed2","_scroll","_scroll2","_clipboard","_clipboard2","_history","_history2","ShadowBlot","parentBlot","refDomNode","AttributorStore","attr","ClassAttributor","matches","result","camelize","parts","part","StyleAttributor","Theme","themes","GUARD_TEXT","contentNode","childNode","leftGuard","rightGuard","prevLength","AlignStyle","AlignClass","AlignAttribute","BackgroundStyle","BackgroundClass","_color","DirectionStyle","DirectionClass","DirectionAttribute","FontClass","FontStyle","FontStyleAttributor","SizeStyle","SizeClass","getLastChangeIndex","History","lastRecorded","ignoreChange","userOnly","record","undo","redo","dest","stack","changeDelta","undoDelta","timestamp","now","delay","maxStack","endsWithNewlineChange","deleteLength","changeIndex","BaseTooltip","_colorPicker","_colorPicker2","_iconPicker","_iconPicker2","_picker","_picker2","_tooltip","_tooltip2","ALIGNS","COLORS","FONTS","HEADERS","SIZES","BaseTheme","_Theme","tooltip","textbox","hide","pickers","picker","extendToolbar","buildButtons","icons","buildPickers","selects","fillSelect","handlers","formula","edit","fileInput","files","reader","FileReader","onload","readAsDataURL","click","video","_Tooltip","boundsContainer","save","mode","preview","restoreFocus","linkRange","extractVideoUrl","defaultValue","LinkedList","append","nodes","curNode","curIndex","curLength","OBSERVER_CONFIG","characterData","characterDataOldValue","childList","subtree","MAX_OPTIMIZE_ITERATIONS","ScrollBlot","MutationObserver","observe","disconnect","records","mark","markParent","remaining","previousSibling","grandChild","isEqual","obj1","obj2","prop","InlineBlot","BlockBlot","EmbedBlot","splitText","_toggle","DOMTokenList","searchString","subjectString","isFinite","floor","thisArg","execCommand","DIFF_DELETE","DIFF_INSERT","DIFF_EQUAL","diff_main","text1","text2","cursor_pos","commonlength","diff_commonPrefix","commonprefix","substring","diff_commonSuffix","commonsuffix","diffs","diff_compute_","diff_cleanupMerge","fix_cursor","fix_emoji","longtext","shorttext","hm","diff_halfMatch_","text1_a","text1_b","text2_a","text2_b","mid_common","diffs_a","diffs_b","diff_bisect_","text1_length","text2_length","max_d","ceil","v_offset","v_length","v1","v2","front","k1start","k1end","k2start","k2end","k1","k1_offset","x1","y1","charAt","k2_offset","x2","diff_bisectSplit_","k2","y2","text1a","text2a","text1b","text2b","diffsb","pointermin","pointermax","pointermid","pointerstart","pointerend","diff_halfMatchI_","seed","j","best_common","best_longtext_a","best_longtext_b","best_shorttext_a","best_shorttext_b","prefixLength","hm1","hm2","pointer","count_delete","count_insert","text_delete","text_insert","cursor_normalize_diff","current_pos","next_pos","split_pos","d_left","d_right","norm","ndiffs","cursor_pointer","d_next","merge_tuples","compact","starts_with_pair_end","str","ends_with_pair_start","fixed_diffs","left_d","right_d","shim","supportsArgumentsClass","supported","unsupported","propertyIsEnumerable","has","Events","EE","EventEmitter","_events","_eventsCount","eventNames","exists","available","ee","a1","a2","a3","a4","a5","removeListener","removeAllListeners","addListener","setMaxListeners","prefixed","matchText","matchSpacing","matchNewline","matchBlot","matchAttributor","_extend3","_align","_background","_direction","_font","_size","DOM_KEY","CLIPBOARD_CONFIG","matchBreak","ELEMENT_NODE","matchStyles","matchIndent","matchAlias","matchIgnore","ATTRIBUTE_ATTRIBUTORS","STYLE_ATTRIBUTORS","Clipboard","onPaste","matchers","matcher","matchVisual","addMatcher","innerText","_prepareMatching","prepareMatching","_prepareMatching2","elementMatchers","textMatchers","traverse","deltaEndsWith","paste","pair","_pair","applyFormat","computeStyle","window","getComputedStyle","endText","childrenDelta","nodeHeight","offsetHeight","parseFloat","marginTop","marginBottom","offsetTop","fontStyle","italic","fontWeight","bold","textIndent","whiteSpace","replacer","collapse","Bold","addControls","Toolbar","_ret","controls","addHandler","_this$quill$selection","_this$quill$selection2","_quill$selection$getR","_quill$selection$getR2","prompt","addButton","control","addSelect","clean","link","ColorPicker","_Picker","backgroundColor","colorLabel","stroke","fill","IconPicker","defaultItem","Tooltip","TEMPLATE","offsetWidth","rootBounds","verticalShift","show","_base","_base2","_link","_link2","_icons","_icons2","TOOLBAR_CONFIG","SnowTheme","_BaseTheme","SnowTooltip","_BaseTooltip","_core","_core2","_indent","_blockquote","_blockquote2","_header","_header2","_list","_list2","_bold","_bold2","_italic","_italic2","_script","_script2","_strike","_strike2","_underline","_underline2","_image","_image2","_video","_video2","_formula","_formula2","_syntax","_syntax2","_toolbar","_toolbar2","_bubble","_bubble2","_snow","_snow2","IndentClass","ListItem","IdentAttributor","Blockquote","Header","List","_Container","listEventHandler","Italic","_Bold","Script","Strike","Underline","ATTRIBUTES","Image","Video","_BlockEmbed","FormulaBlot","_Embed","katex","render","throwOnError","errorColor","Formula","CodeToken","SyntaxCodeBlock","_CodeBlock","highlight","_highlight","cachedText","Syntax","timer","interval","code","hljs","highlightAuto","BubbleTooltip","BubbleTheme","lastLine","_bounds","arrow","marginLeft","si","setImmediate","tick"],"mappings":"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","file":"default~apps-apps-module~extra-component-extra-component-module-es5.js","sourcesContent":["module.exports = function atoa (a, n) { return Array.prototype.slice.call(a, n); }\n","'use strict';\n\nvar ticky = require('ticky');\n\nmodule.exports = function debounce (fn, args, ctx) {\n  if (!fn) { return; }\n  ticky(function run () {\n    fn.apply(ctx || null, args || []);\n  });\n};\n","'use strict';\n\nvar atoa = require('atoa');\nvar debounce = require('./debounce');\n\nmodule.exports = function emitter (thing, options) {\n  var opts = options || {};\n  var evt = {};\n  if (thing === undefined) { thing = {}; }\n  thing.on = function (type, fn) {\n    if (!evt[type]) {\n      evt[type] = [fn];\n    } else {\n      evt[type].push(fn);\n    }\n    return thing;\n  };\n  thing.once = function (type, fn) {\n    fn._once = true; // thing.off(fn) still works!\n    thing.on(type, fn);\n    return thing;\n  };\n  thing.off = function (type, fn) {\n    var c = arguments.length;\n    if (c === 1) {\n      delete evt[type];\n    } else if (c === 0) {\n      evt = {};\n    } else {\n      var et = evt[type];\n      if (!et) { return thing; }\n      et.splice(et.indexOf(fn), 1);\n    }\n    return thing;\n  };\n  thing.emit = function () {\n    var args = atoa(arguments);\n    return thing.emitterSnapshot(args.shift()).apply(this, args);\n  };\n  thing.emitterSnapshot = function (type) {\n    var et = (evt[type] || []).slice(0);\n    return function () {\n      var args = atoa(arguments);\n      var ctx = this || thing;\n      if (type === 'error' && opts.throws !== false && !et.length) { throw args.length === 1 ? args[0] : args; }\n      et.forEach(function emitter (listen) {\n        if (opts.async) { debounce(listen, args, ctx); } else { listen.apply(ctx, args); }\n        if (listen._once) { thing.off(type, listen); }\n      });\n      return thing;\n    };\n  };\n  return thing;\n};\n","\nvar NativeCustomEvent = global.CustomEvent;\n\nfunction useNative () {\n  try {\n    var p = new NativeCustomEvent('cat', { detail: { foo: 'bar' } });\n    return  'cat' === p.type && 'bar' === p.detail.foo;\n  } catch (e) {\n  }\n  return false;\n}\n\n/**\n * Cross-browser `CustomEvent` constructor.\n *\n * https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent.CustomEvent\n *\n * @public\n */\n\nmodule.exports = useNative() ? NativeCustomEvent :\n\n// IE >= 9\n'function' === typeof document.createEvent ? function CustomEvent (type, params) {\n  var e = document.createEvent('CustomEvent');\n  if (params) {\n    e.initCustomEvent(type, params.bubbles, params.cancelable, params.detail);\n  } else {\n    e.initCustomEvent(type, false, false, void 0);\n  }\n  return e;\n} :\n\n// IE <= 8\nfunction CustomEvent (type, params) {\n  var e = document.createEventObject();\n  e.type = type;\n  if (params) {\n    e.bubbles = Boolean(params.bubbles);\n    e.cancelable = Boolean(params.cancelable);\n    e.detail = params.detail;\n  } else {\n    e.bubbles = false;\n    e.cancelable = false;\n    e.detail = void 0;\n  }\n  return e;\n}\n","'use strict';\n\nvar customEvent = require('custom-event');\nvar eventmap = require('./eventmap');\nvar doc = global.document;\nvar addEvent = addEventEasy;\nvar removeEvent = removeEventEasy;\nvar hardCache = [];\n\nif (!global.addEventListener) {\n  addEvent = addEventHard;\n  removeEvent = removeEventHard;\n}\n\nmodule.exports = {\n  add: addEvent,\n  remove: removeEvent,\n  fabricate: fabricateEvent\n};\n\nfunction addEventEasy (el, type, fn, capturing) {\n  return el.addEventListener(type, fn, capturing);\n}\n\nfunction addEventHard (el, type, fn) {\n  return el.attachEvent('on' + type, wrap(el, type, fn));\n}\n\nfunction removeEventEasy (el, type, fn, capturing) {\n  return el.removeEventListener(type, fn, capturing);\n}\n\nfunction removeEventHard (el, type, fn) {\n  var listener = unwrap(el, type, fn);\n  if (listener) {\n    return el.detachEvent('on' + type, listener);\n  }\n}\n\nfunction fabricateEvent (el, type, model) {\n  var e = eventmap.indexOf(type) === -1 ? makeCustomEvent() : makeClassicEvent();\n  if (el.dispatchEvent) {\n    el.dispatchEvent(e);\n  } else {\n    el.fireEvent('on' + type, e);\n  }\n  function makeClassicEvent () {\n    var e;\n    if (doc.createEvent) {\n      e = doc.createEvent('Event');\n      e.initEvent(type, true, true);\n    } else if (doc.createEventObject) {\n      e = doc.createEventObject();\n    }\n    return e;\n  }\n  function makeCustomEvent () {\n    return new customEvent(type, { detail: model });\n  }\n}\n\nfunction wrapperFactory (el, type, fn) {\n  return function wrapper (originalEvent) {\n    var e = originalEvent || global.event;\n    e.target = e.target || e.srcElement;\n    e.preventDefault = e.preventDefault || function preventDefault () { e.returnValue = false; };\n    e.stopPropagation = e.stopPropagation || function stopPropagation () { e.cancelBubble = true; };\n    e.which = e.which || e.keyCode;\n    fn.call(el, e);\n  };\n}\n\nfunction wrap (el, type, fn) {\n  var wrapper = unwrap(el, type, fn) || wrapperFactory(el, type, fn);\n  hardCache.push({\n    wrapper: wrapper,\n    element: el,\n    type: type,\n    fn: fn\n  });\n  return wrapper;\n}\n\nfunction unwrap (el, type, fn) {\n  var i = find(el, type, fn);\n  if (i) {\n    var wrapper = hardCache[i].wrapper;\n    hardCache.splice(i, 1); // free up a tad of memory\n    return wrapper;\n  }\n}\n\nfunction find (el, type, fn) {\n  var i, item;\n  for (i = 0; i < hardCache.length; i++) {\n    item = hardCache[i];\n    if (item.element === el && item.type === type && item.fn === fn) {\n      return i;\n    }\n  }\n}\n","'use strict';\n\nvar eventmap = [];\nvar eventname = '';\nvar ron = /^on/;\n\nfor (eventname in global) {\n  if (ron.test(eventname)) {\n    eventmap.push(eventname.slice(2));\n  }\n}\n\nmodule.exports = eventmap;\n","'use strict';\n\nvar cache = {};\nvar start = '(?:^|\\\\s)';\nvar end = '(?:\\\\s|$)';\n\nfunction lookupClass (className) {\n  var cached = cache[className];\n  if (cached) {\n    cached.lastIndex = 0;\n  } else {\n    cache[className] = cached = new RegExp(start + className + end, 'g');\n  }\n  return cached;\n}\n\nfunction addClass (el, className) {\n  var current = el.className;\n  if (!current.length) {\n    el.className = className;\n  } else if (!lookupClass(className).test(current)) {\n    el.className += ' ' + className;\n  }\n}\n\nfunction rmClass (el, className) {\n  el.className = el.className.replace(lookupClass(className), ' ').trim();\n}\n\nmodule.exports = {\n  add: addClass,\n  rm: rmClass\n};\n","'use strict';\n\nvar emitter = require('contra/emitter');\nvar crossvent = require('crossvent');\nvar classes = require('./classes');\nvar doc = document;\nvar documentElement = doc.documentElement;\n\nfunction dragula (initialContainers, options) {\n  var len = arguments.length;\n  if (len === 1 && Array.isArray(initialContainers) === false) {\n    options = initialContainers;\n    initialContainers = [];\n  }\n  var _mirror; // mirror image\n  var _source; // source container\n  var _item; // item being dragged\n  var _offsetX; // reference x\n  var _offsetY; // reference y\n  var _moveX; // reference move x\n  var _moveY; // reference move y\n  var _initialSibling; // reference sibling when grabbed\n  var _currentSibling; // reference sibling now\n  var _copy; // item used for copying\n  var _renderTimer; // timer for setTimeout renderMirrorImage\n  var _lastDropTarget = null; // last container item was over\n  var _grabbed; // holds mousedown context until first mousemove\n\n  var o = options || {};\n  if (o.moves === void 0) { o.moves = always; }\n  if (o.accepts === void 0) { o.accepts = always; }\n  if (o.invalid === void 0) { o.invalid = invalidTarget; }\n  if (o.containers === void 0) { o.containers = initialContainers || []; }\n  if (o.isContainer === void 0) { o.isContainer = never; }\n  if (o.copy === void 0) { o.copy = false; }\n  if (o.copySortSource === void 0) { o.copySortSource = false; }\n  if (o.revertOnSpill === void 0) { o.revertOnSpill = false; }\n  if (o.removeOnSpill === void 0) { o.removeOnSpill = false; }\n  if (o.direction === void 0) { o.direction = 'vertical'; }\n  if (o.ignoreInputTextSelection === void 0) { o.ignoreInputTextSelection = true; }\n  if (o.mirrorContainer === void 0) { o.mirrorContainer = doc.body; }\n\n  var drake = emitter({\n    containers: o.containers,\n    start: manualStart,\n    end: end,\n    cancel: cancel,\n    remove: remove,\n    destroy: destroy,\n    canMove: canMove,\n    dragging: false\n  });\n\n  if (o.removeOnSpill === true) {\n    drake.on('over', spillOver).on('out', spillOut);\n  }\n\n  events();\n\n  return drake;\n\n  function isContainer (el) {\n    return drake.containers.indexOf(el) !== -1 || o.isContainer(el);\n  }\n\n  function events (remove) {\n    var op = remove ? 'remove' : 'add';\n    touchy(documentElement, op, 'mousedown', grab);\n    touchy(documentElement, op, 'mouseup', release);\n  }\n\n  function eventualMovements (remove) {\n    var op = remove ? 'remove' : 'add';\n    touchy(documentElement, op, 'mousemove', startBecauseMouseMoved);\n  }\n\n  function movements (remove) {\n    var op = remove ? 'remove' : 'add';\n    crossvent[op](documentElement, 'selectstart', preventGrabbed); // IE8\n    crossvent[op](documentElement, 'click', preventGrabbed);\n  }\n\n  function destroy () {\n    events(true);\n    release({});\n  }\n\n  function preventGrabbed (e) {\n    if (_grabbed) {\n      e.preventDefault();\n    }\n  }\n\n  function grab (e) {\n    _moveX = e.clientX;\n    _moveY = e.clientY;\n\n    var ignore = whichMouseButton(e) !== 1 || e.metaKey || e.ctrlKey;\n    if (ignore) {\n      return; // we only care about honest-to-god left clicks and touch events\n    }\n    var item = e.target;\n    var context = canStart(item);\n    if (!context) {\n      return;\n    }\n    _grabbed = context;\n    eventualMovements();\n    if (e.type === 'mousedown') {\n      if (isInput(item)) { // see also: https://github.com/bevacqua/dragula/issues/208\n        item.focus(); // fixes https://github.com/bevacqua/dragula/issues/176\n      } else {\n        e.preventDefault(); // fixes https://github.com/bevacqua/dragula/issues/155\n      }\n    }\n  }\n\n  function startBecauseMouseMoved (e) {\n    if (!_grabbed) {\n      return;\n    }\n    if (whichMouseButton(e) === 0) {\n      release({});\n      return; // when text is selected on an input and then dragged, mouseup doesn't fire. this is our only hope\n    }\n    // truthy check fixes #239, equality fixes #207\n    if (e.clientX !== void 0 && e.clientX === _moveX && e.clientY !== void 0 && e.clientY === _moveY) {\n      return;\n    }\n    if (o.ignoreInputTextSelection) {\n      var clientX = getCoord('clientX', e);\n      var clientY = getCoord('clientY', e);\n      var elementBehindCursor = doc.elementFromPoint(clientX, clientY);\n      if (isInput(elementBehindCursor)) {\n        return;\n      }\n    }\n\n    var grabbed = _grabbed; // call to end() unsets _grabbed\n    eventualMovements(true);\n    movements();\n    end();\n    start(grabbed);\n\n    var offset = getOffset(_item);\n    _offsetX = getCoord('pageX', e) - offset.left;\n    _offsetY = getCoord('pageY', e) - offset.top;\n\n    classes.add(_copy || _item, 'gu-transit');\n    renderMirrorImage();\n    drag(e);\n  }\n\n  function canStart (item) {\n    if (drake.dragging && _mirror) {\n      return;\n    }\n    if (isContainer(item)) {\n      return; // don't drag container itself\n    }\n    var handle = item;\n    while (getParent(item) && isContainer(getParent(item)) === false) {\n      if (o.invalid(item, handle)) {\n        return;\n      }\n      item = getParent(item); // drag target should be a top element\n      if (!item) {\n        return;\n      }\n    }\n    var source = getParent(item);\n    if (!source) {\n      return;\n    }\n    if (o.invalid(item, handle)) {\n      return;\n    }\n\n    var movable = o.moves(item, source, handle, nextEl(item));\n    if (!movable) {\n      return;\n    }\n\n    return {\n      item: item,\n      source: source\n    };\n  }\n\n  function canMove (item) {\n    return !!canStart(item);\n  }\n\n  function manualStart (item) {\n    var context = canStart(item);\n    if (context) {\n      start(context);\n    }\n  }\n\n  function start (context) {\n    if (isCopy(context.item, context.source)) {\n      _copy = context.item.cloneNode(true);\n      drake.emit('cloned', _copy, context.item, 'copy');\n    }\n\n    _source = context.source;\n    _item = context.item;\n    _initialSibling = _currentSibling = nextEl(context.item);\n\n    drake.dragging = true;\n    drake.emit('drag', _item, _source);\n  }\n\n  function invalidTarget () {\n    return false;\n  }\n\n  function end () {\n    if (!drake.dragging) {\n      return;\n    }\n    var item = _copy || _item;\n    drop(item, getParent(item));\n  }\n\n  function ungrab () {\n    _grabbed = false;\n    eventualMovements(true);\n    movements(true);\n  }\n\n  function release (e) {\n    ungrab();\n\n    if (!drake.dragging) {\n      return;\n    }\n    var item = _copy || _item;\n    var clientX = getCoord('clientX', e);\n    var clientY = getCoord('clientY', e);\n    var elementBehindCursor = getElementBehindPoint(_mirror, clientX, clientY);\n    var dropTarget = findDropTarget(elementBehindCursor, clientX, clientY);\n    if (dropTarget && ((_copy && o.copySortSource) || (!_copy || dropTarget !== _source))) {\n      drop(item, dropTarget);\n    } else if (o.removeOnSpill) {\n      remove();\n    } else {\n      cancel();\n    }\n  }\n\n  function drop (item, target) {\n    var parent = getParent(item);\n    if (_copy && o.copySortSource && target === _source) {\n      parent.removeChild(_item);\n    }\n    if (isInitialPlacement(target)) {\n      drake.emit('cancel', item, _source, _source);\n    } else {\n      drake.emit('drop', item, target, _source, _currentSibling);\n    }\n    cleanup();\n  }\n\n  function remove () {\n    if (!drake.dragging) {\n      return;\n    }\n    var item = _copy || _item;\n    var parent = getParent(item);\n    if (parent) {\n      parent.removeChild(item);\n    }\n    drake.emit(_copy ? 'cancel' : 'remove', item, parent, _source);\n    cleanup();\n  }\n\n  function cancel (revert) {\n    if (!drake.dragging) {\n      return;\n    }\n    var reverts = arguments.length > 0 ? revert : o.revertOnSpill;\n    var item = _copy || _item;\n    var parent = getParent(item);\n    var initial = isInitialPlacement(parent);\n    if (initial === false && reverts) {\n      if (_copy) {\n        if (parent) {\n          parent.removeChild(_copy);\n        }\n      } else {\n        _source.insertBefore(item, _initialSibling);\n      }\n    }\n    if (initial || reverts) {\n      drake.emit('cancel', item, _source, _source);\n    } else {\n      drake.emit('drop', item, parent, _source, _currentSibling);\n    }\n    cleanup();\n  }\n\n  function cleanup () {\n    var item = _copy || _item;\n    ungrab();\n    removeMirrorImage();\n    if (item) {\n      classes.rm(item, 'gu-transit');\n    }\n    if (_renderTimer) {\n      clearTimeout(_renderTimer);\n    }\n    drake.dragging = false;\n    if (_lastDropTarget) {\n      drake.emit('out', item, _lastDropTarget, _source);\n    }\n    drake.emit('dragend', item);\n    _source = _item = _copy = _initialSibling = _currentSibling = _renderTimer = _lastDropTarget = null;\n  }\n\n  function isInitialPlacement (target, s) {\n    var sibling;\n    if (s !== void 0) {\n      sibling = s;\n    } else if (_mirror) {\n      sibling = _currentSibling;\n    } else {\n      sibling = nextEl(_copy || _item);\n    }\n    return target === _source && sibling === _initialSibling;\n  }\n\n  function findDropTarget (elementBehindCursor, clientX, clientY) {\n    var target = elementBehindCursor;\n    while (target && !accepted()) {\n      target = getParent(target);\n    }\n    return target;\n\n    function accepted () {\n      var droppable = isContainer(target);\n      if (droppable === false) {\n        return false;\n      }\n\n      var immediate = getImmediateChild(target, elementBehindCursor);\n      var reference = getReference(target, immediate, clientX, clientY);\n      var initial = isInitialPlacement(target, reference);\n      if (initial) {\n        return true; // should always be able to drop it right back where it was\n      }\n      return o.accepts(_item, target, _source, reference);\n    }\n  }\n\n  function drag (e) {\n    if (!_mirror) {\n      return;\n    }\n    e.preventDefault();\n\n    var clientX = getCoord('clientX', e);\n    var clientY = getCoord('clientY', e);\n    var x = clientX - _offsetX;\n    var y = clientY - _offsetY;\n\n    _mirror.style.left = x + 'px';\n    _mirror.style.top = y + 'px';\n\n    var item = _copy || _item;\n    var elementBehindCursor = getElementBehindPoint(_mirror, clientX, clientY);\n    var dropTarget = findDropTarget(elementBehindCursor, clientX, clientY);\n    var changed = dropTarget !== null && dropTarget !== _lastDropTarget;\n    if (changed || dropTarget === null) {\n      out();\n      _lastDropTarget = dropTarget;\n      over();\n    }\n    var parent = getParent(item);\n    if (dropTarget === _source && _copy && !o.copySortSource) {\n      if (parent) {\n        parent.removeChild(item);\n      }\n      return;\n    }\n    var reference;\n    var immediate = getImmediateChild(dropTarget, elementBehindCursor);\n    if (immediate !== null) {\n      reference = getReference(dropTarget, immediate, clientX, clientY);\n    } else if (o.revertOnSpill === true && !_copy) {\n      reference = _initialSibling;\n      dropTarget = _source;\n    } else {\n      if (_copy && parent) {\n        parent.removeChild(item);\n      }\n      return;\n    }\n    if (\n      (reference === null && changed) ||\n      reference !== item &&\n      reference !== nextEl(item)\n    ) {\n      _currentSibling = reference;\n      dropTarget.insertBefore(item, reference);\n      drake.emit('shadow', item, dropTarget, _source);\n    }\n    function moved (type) { drake.emit(type, item, _lastDropTarget, _source); }\n    function over () { if (changed) { moved('over'); } }\n    function out () { if (_lastDropTarget) { moved('out'); } }\n  }\n\n  function spillOver (el) {\n    classes.rm(el, 'gu-hide');\n  }\n\n  function spillOut (el) {\n    if (drake.dragging) { classes.add(el, 'gu-hide'); }\n  }\n\n  function renderMirrorImage () {\n    if (_mirror) {\n      return;\n    }\n    var rect = _item.getBoundingClientRect();\n    _mirror = _item.cloneNode(true);\n    _mirror.style.width = getRectWidth(rect) + 'px';\n    _mirror.style.height = getRectHeight(rect) + 'px';\n    classes.rm(_mirror, 'gu-transit');\n    classes.add(_mirror, 'gu-mirror');\n    o.mirrorContainer.appendChild(_mirror);\n    touchy(documentElement, 'add', 'mousemove', drag);\n    classes.add(o.mirrorContainer, 'gu-unselectable');\n    drake.emit('cloned', _mirror, _item, 'mirror');\n  }\n\n  function removeMirrorImage () {\n    if (_mirror) {\n      classes.rm(o.mirrorContainer, 'gu-unselectable');\n      touchy(documentElement, 'remove', 'mousemove', drag);\n      getParent(_mirror).removeChild(_mirror);\n      _mirror = null;\n    }\n  }\n\n  function getImmediateChild (dropTarget, target) {\n    var immediate = target;\n    while (immediate !== dropTarget && getParent(immediate) !== dropTarget) {\n      immediate = getParent(immediate);\n    }\n    if (immediate === documentElement) {\n      return null;\n    }\n    return immediate;\n  }\n\n  function getReference (dropTarget, target, x, y) {\n    var horizontal = o.direction === 'horizontal';\n    var reference = target !== dropTarget ? inside() : outside();\n    return reference;\n\n    function outside () { // slower, but able to figure out any position\n      var len = dropTarget.children.length;\n      var i;\n      var el;\n      var rect;\n      for (i = 0; i < len; i++) {\n        el = dropTarget.children[i];\n        rect = el.getBoundingClientRect();\n        if (horizontal && (rect.left + rect.width / 2) > x) { return el; }\n        if (!horizontal && (rect.top + rect.height / 2) > y) { return el; }\n      }\n      return null;\n    }\n\n    function inside () { // faster, but only available if dropped inside a child element\n      var rect = target.getBoundingClientRect();\n      if (horizontal) {\n        return resolve(x > rect.left + getRectWidth(rect) / 2);\n      }\n      return resolve(y > rect.top + getRectHeight(rect) / 2);\n    }\n\n    function resolve (after) {\n      return after ? nextEl(target) : target;\n    }\n  }\n\n  function isCopy (item, container) {\n    return typeof o.copy === 'boolean' ? o.copy : o.copy(item, container);\n  }\n}\n\nfunction touchy (el, op, type, fn) {\n  var touch = {\n    mouseup: 'touchend',\n    mousedown: 'touchstart',\n    mousemove: 'touchmove'\n  };\n  var pointers = {\n    mouseup: 'pointerup',\n    mousedown: 'pointerdown',\n    mousemove: 'pointermove'\n  };\n  var microsoft = {\n    mouseup: 'MSPointerUp',\n    mousedown: 'MSPointerDown',\n    mousemove: 'MSPointerMove'\n  };\n  if (global.navigator.pointerEnabled) {\n    crossvent[op](el, pointers[type], fn);\n  } else if (global.navigator.msPointerEnabled) {\n    crossvent[op](el, microsoft[type], fn);\n  } else {\n    crossvent[op](el, touch[type], fn);\n    crossvent[op](el, type, fn);\n  }\n}\n\nfunction whichMouseButton (e) {\n  if (e.touches !== void 0) { return e.touches.length; }\n  if (e.which !== void 0 && e.which !== 0) { return e.which; } // see https://github.com/bevacqua/dragula/issues/261\n  if (e.buttons !== void 0) { return e.buttons; }\n  var button = e.button;\n  if (button !== void 0) { // see https://github.com/jquery/jquery/blob/99e8ff1baa7ae341e94bb89c3e84570c7c3ad9ea/src/event.js#L573-L575\n    return button & 1 ? 1 : button & 2 ? 3 : (button & 4 ? 2 : 0);\n  }\n}\n\nfunction getOffset (el) {\n  var rect = el.getBoundingClientRect();\n  return {\n    left: rect.left + getScroll('scrollLeft', 'pageXOffset'),\n    top: rect.top + getScroll('scrollTop', 'pageYOffset')\n  };\n}\n\nfunction getScroll (scrollProp, offsetProp) {\n  if (typeof global[offsetProp] !== 'undefined') {\n    return global[offsetProp];\n  }\n  if (documentElement.clientHeight) {\n    return documentElement[scrollProp];\n  }\n  return doc.body[scrollProp];\n}\n\nfunction getElementBehindPoint (point, x, y) {\n  var p = point || {};\n  var state = p.className;\n  var el;\n  p.className += ' gu-hide';\n  el = doc.elementFromPoint(x, y);\n  p.className = state;\n  return el;\n}\n\nfunction never () { return false; }\nfunction always () { return true; }\nfunction getRectWidth (rect) { return rect.width || (rect.right - rect.left); }\nfunction getRectHeight (rect) { return rect.height || (rect.bottom - rect.top); }\nfunction getParent (el) { return el.parentNode === doc ? null : el.parentNode; }\nfunction isInput (el) { return el.tagName === 'INPUT' || el.tagName === 'TEXTAREA' || el.tagName === 'SELECT' || isEditable(el); }\nfunction isEditable (el) {\n  if (!el) { return false; } // no parents were editable\n  if (el.contentEditable === 'false') { return false; } // stop the lookup\n  if (el.contentEditable === 'true') { return true; } // found a contentEditable element in the chain\n  return isEditable(getParent(el)); // contentEditable is set to 'inherit'\n}\n\nfunction nextEl (el) {\n  return el.nextElementSibling || manually();\n  function manually () {\n    var sibling = el;\n    do {\n      sibling = sibling.nextSibling;\n    } while (sibling && sibling.nodeType !== 1);\n    return sibling;\n  }\n}\n\nfunction getEventHost (e) {\n  // on touchend event, we have to use `e.changedTouches`\n  // see http://stackoverflow.com/questions/7192563/touchend-event-properties\n  // see https://github.com/bevacqua/dragula/issues/34\n  if (e.targetTouches && e.targetTouches.length) {\n    return e.targetTouches[0];\n  }\n  if (e.changedTouches && e.changedTouches.length) {\n    return e.changedTouches[0];\n  }\n  return e;\n}\n\nfunction getCoord (coord, e) {\n  var host = getEventHost(e);\n  var missMap = {\n    pageX: 'clientX', // IE8\n    pageY: 'clientY' // IE8\n  };\n  if (coord in missMap && !(coord in host) && missMap[coord] in host) {\n    coord = missMap[coord];\n  }\n  return host[coord];\n}\n\nmodule.exports = dragula;\n","import * as dragulaExpt from 'dragula';\nimport dragulaExpt__default, {  } from 'dragula';\nimport { Injectable, Optional, Directive, Input, Output, ElementRef, EventEmitter, NgModule } from '@angular/core';\nimport { Subject, Subscription } from 'rxjs';\nimport { filter, map } from 'rxjs/operators';\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\nimport * as ɵngcc0 from '@angular/core';\nclass Group {\n    /**\n     * @param {?} name\n     * @param {?} drake\n     * @param {?} options\n     */\n    constructor(name, drake, options) {\n        this.name = name;\n        this.drake = drake;\n        this.options = options;\n        this.initEvents = false;\n    }\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n/** @enum {string} */\nconst EventTypes = {\n    Cancel: \"cancel\",\n    Cloned: \"cloned\",\n    Drag: \"drag\",\n    DragEnd: \"dragend\",\n    Drop: \"drop\",\n    Out: \"out\",\n    Over: \"over\",\n    Remove: \"remove\",\n    Shadow: \"shadow\",\n    DropModel: \"dropModel\",\n    RemoveModel: \"removeModel\",\n};\n/** @type {?} */\nconst AllEvents = Object.keys(EventTypes).map(k => /** @type {?} */ (EventTypes[/** @type {?} */ (k)]));\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n/** @type {?} */\nconst dragula = dragulaExpt__default || dragulaExpt;\nclass DrakeFactory {\n    /**\n     * @param {?=} build\n     */\n    constructor(build = dragula) {\n        this.build = build;\n    }\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n/** @type {?} */\nconst filterEvent = (eventType, filterDragType, projector) => (input) => {\n    return input.pipe(filter(({ event, name }) => {\n        return event === eventType\n            && (filterDragType === undefined || name === filterDragType);\n    }), map(({ name, args }) => projector(name, args)));\n};\n/** @type {?} */\nconst elContainerSourceProjector = (name, [el, container, source]) => ({ name, el, container, source });\nclass DragulaService {\n    /**\n     * @param {?=} drakeFactory\n     */\n    constructor(drakeFactory = null) {\n        this.drakeFactory = drakeFactory;\n        this.dispatch$ = new Subject();\n        this.drag = (groupName) => this.dispatch$.pipe(filterEvent(EventTypes.Drag, groupName, (name, [el, source]) => ({ name, el, source })));\n        this.dragend = (groupName) => this.dispatch$.pipe(filterEvent(EventTypes.DragEnd, groupName, (name, [el]) => ({ name, el })));\n        this.drop = (groupName) => this.dispatch$.pipe(filterEvent(EventTypes.Drop, groupName, (name, [el, target, source, sibling]) => {\n            return { name, el, target, source, sibling };\n        }));\n        this.elContainerSource = (eventType) => (groupName) => this.dispatch$.pipe(filterEvent(eventType, groupName, elContainerSourceProjector));\n        this.cancel = this.elContainerSource(EventTypes.Cancel);\n        this.remove = this.elContainerSource(EventTypes.Remove);\n        this.shadow = this.elContainerSource(EventTypes.Shadow);\n        this.over = this.elContainerSource(EventTypes.Over);\n        this.out = this.elContainerSource(EventTypes.Out);\n        this.cloned = (groupName) => this.dispatch$.pipe(filterEvent(EventTypes.Cloned, groupName, (name, [clone, original, cloneType]) => {\n            return { name, clone, original, cloneType };\n        }));\n        this.dropModel = (groupName) => this.dispatch$.pipe(filterEvent(EventTypes.DropModel, groupName, (name, [el, target, source, sibling, item, sourceModel, targetModel, sourceIndex, targetIndex]) => {\n            return { name, el, target, source, sibling, item, sourceModel, targetModel, sourceIndex, targetIndex };\n        }));\n        this.removeModel = (groupName) => this.dispatch$.pipe(filterEvent(EventTypes.RemoveModel, groupName, (name, [el, container, source, item, sourceModel, sourceIndex]) => {\n            return { name, el, container, source, item, sourceModel, sourceIndex };\n        }));\n        this.groups = {};\n        if (this.drakeFactory === null) {\n            this.drakeFactory = new DrakeFactory();\n        }\n    }\n    /**\n     * Public mainly for testing purposes. Prefer `createGroup()`.\n     * @param {?} group\n     * @return {?}\n     */\n    add(group) {\n        /** @type {?} */\n        let existingGroup = this.find(group.name);\n        if (existingGroup) {\n            throw new Error('Group named: \"' + group.name + '\" already exists.');\n        }\n        this.groups[group.name] = group;\n        this.handleModels(group);\n        this.setupEvents(group);\n        return group;\n    }\n    /**\n     * @param {?} name\n     * @return {?}\n     */\n    find(name) {\n        return this.groups[name];\n    }\n    /**\n     * @param {?} name\n     * @return {?}\n     */\n    destroy(name) {\n        /** @type {?} */\n        let group = this.find(name);\n        if (!group) {\n            return;\n        }\n        group.drake && group.drake.destroy();\n        delete this.groups[name];\n    }\n    /**\n     * Creates a group with the specified name and options.\n     *\n     * Note: formerly known as `setOptions`\n     * @template T\n     * @param {?} name\n     * @param {?} options\n     * @return {?}\n     */\n    createGroup(name, options) {\n        return this.add(new Group(name, this.drakeFactory.build([], options), options));\n    }\n    /**\n     * @param {?} __0\n     * @return {?}\n     */\n    handleModels({ name, drake, options }) {\n        /** @type {?} */\n        let dragElm;\n        /** @type {?} */\n        let dragIndex;\n        /** @type {?} */\n        let dropIndex;\n        drake.on('remove', (el, container, source) => {\n            if (!drake.models) {\n                return;\n            }\n            /** @type {?} */\n            let sourceModel = drake.models[drake.containers.indexOf(source)];\n            sourceModel = sourceModel.slice(0);\n            /** @type {?} */\n            const item = sourceModel.splice(dragIndex, 1)[0];\n            // console.log('REMOVE');\n            // console.log(sourceModel);\n            this.dispatch$.next({\n                event: EventTypes.RemoveModel,\n                name,\n                args: [el, container, source, item, sourceModel, dragIndex]\n            });\n        });\n        drake.on('drag', (el, source) => {\n            if (!drake.models) {\n                return;\n            }\n            dragElm = el;\n            dragIndex = this.domIndexOf(el, source);\n        });\n        drake.on('drop', (dropElm, target, source, sibling) => {\n            if (!drake.models || !target) {\n                return;\n            }\n            dropIndex = this.domIndexOf(dropElm, target);\n            /** @type {?} */\n            let sourceModel = drake.models[drake.containers.indexOf(source)];\n            /** @type {?} */\n            let targetModel = drake.models[drake.containers.indexOf(target)];\n            /** @type {?} */\n            let item;\n            if (target === source) {\n                sourceModel = sourceModel.slice(0);\n                item = sourceModel.splice(dragIndex, 1)[0];\n                sourceModel.splice(dropIndex, 0, item);\n                // this was true before we cloned and updated sourceModel,\n                // but targetModel still has the old value\n                targetModel = sourceModel;\n            }\n            else {\n                /** @type {?} */\n                let isCopying = dragElm !== dropElm;\n                item = sourceModel[dragIndex];\n                if (isCopying) {\n                    if (!options.copyItem) {\n                        throw new Error(\"If you have enabled `copy` on a group, you must provide a `copyItem` function.\");\n                    }\n                    item = options.copyItem(item);\n                }\n                if (!isCopying) {\n                    sourceModel = sourceModel.slice(0);\n                    sourceModel.splice(dragIndex, 1);\n                }\n                targetModel = targetModel.slice(0);\n                targetModel.splice(dropIndex, 0, item);\n                if (isCopying) {\n                    try {\n                        target.removeChild(dropElm);\n                    }\n                    catch (e) { }\n                }\n            }\n            this.dispatch$.next({\n                event: EventTypes.DropModel,\n                name,\n                args: [dropElm, target, source, sibling, item, sourceModel, targetModel, dragIndex, dropIndex]\n            });\n        });\n    }\n    /**\n     * @param {?} group\n     * @return {?}\n     */\n    setupEvents(group) {\n        if (group.initEvents) {\n            return;\n        }\n        group.initEvents = true;\n        /** @type {?} */\n        const name = group.name;\n        /** @type {?} */\n        let emitter = (event) => {\n            group.drake.on(event, (...args) => {\n                this.dispatch$.next({ event, name, args });\n            });\n        };\n        AllEvents.forEach(emitter);\n    }\n    /**\n     * @param {?} child\n     * @param {?} parent\n     * @return {?}\n     */\n    domIndexOf(child, parent) {\n        return Array.prototype.indexOf.call(parent.children, child);\n    }\n}\nDragulaService.ɵfac = function DragulaService_Factory(t) { return new (t || DragulaService)(ɵngcc0.ɵɵinject(DrakeFactory, 8)); };\nDragulaService.ɵprov = ɵngcc0.ɵɵdefineInjectable({ token: DragulaService, factory: DragulaService.ɵfac });\n/** @nocollapse */\nDragulaService.ctorParameters = () => [\n    { type: DrakeFactory, decorators: [{ type: Optional }] }\n];\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(DragulaService, [{\n        type: Injectable\n    }], function () { return [{ type: DrakeFactory, decorators: [{\n                type: Optional\n            }] }]; }, null); })();\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\nclass DragulaDirective {\n    /**\n     * @param {?} el\n     * @param {?} dragulaService\n     */\n    constructor(el, dragulaService) {\n        this.el = el;\n        this.dragulaService = dragulaService;\n        this.dragulaModelChange = new EventEmitter();\n    }\n    /**\n     * @return {?}\n     */\n    get container() {\n        return this.el && this.el.nativeElement;\n    }\n    /**\n     * @param {?} changes\n     * @return {?}\n     */\n    ngOnChanges(changes) {\n        if (changes && changes.dragula) {\n            const { previousValue: prev, currentValue: current, firstChange } = changes.dragula;\n            /** @type {?} */\n            let hadPreviousValue = !!prev;\n            /** @type {?} */\n            let hasNewValue = !!current;\n            // something -> null       =>  teardown only\n            // something -> something  =>  teardown, then setup\n            //      null -> something  =>  setup only\n            //\n            //      null -> null (precluded by fact of change being present)\n            if (hadPreviousValue) {\n                this.teardown(prev);\n            }\n            if (hasNewValue) {\n                this.setup();\n            }\n        }\n        else if (changes && changes.dragulaModel) {\n            const { previousValue: prev, currentValue: current, firstChange } = changes.dragulaModel;\n            const { drake } = this.group;\n            if (this.dragula && drake) {\n                drake.models = drake.models || [];\n                /** @type {?} */\n                let prevIndex = drake.models.indexOf(prev);\n                if (prevIndex !== -1) {\n                    // delete the previous\n                    drake.models.splice(prevIndex, 1);\n                    // maybe insert a new one at the same spot\n                    if (!!current) {\n                        drake.models.splice(prevIndex, 0, current);\n                    }\n                }\n                else if (!!current) {\n                    // no previous one to remove; just push this one.\n                    drake.models.push(current);\n                }\n            }\n        }\n    }\n    /**\n     * @return {?}\n     */\n    setup() {\n        /** @type {?} */\n        let checkModel = (group) => {\n            if (this.dragulaModel) {\n                if (group.drake.models) {\n                    group.drake.models.push(this.dragulaModel);\n                }\n                else {\n                    group.drake.models = [this.dragulaModel];\n                }\n            }\n        };\n        /** @type {?} */\n        let group = this.dragulaService.find(this.dragula);\n        if (!group) {\n            /** @type {?} */\n            let options = {};\n            group = this.dragulaService.createGroup(this.dragula, options);\n        }\n        // ensure model and container element are pushed\n        checkModel(group);\n        group.drake.containers.push(this.container);\n        this.subscribe(this.dragula);\n        this.group = group;\n    }\n    /**\n     * @param {?} name\n     * @return {?}\n     */\n    subscribe(name) {\n        this.subs = new Subscription();\n        this.subs.add(this.dragulaService\n            .dropModel(name)\n            .subscribe(({ source, target, sourceModel, targetModel }) => {\n            if (source === this.el.nativeElement) {\n                this.dragulaModelChange.emit(sourceModel);\n            }\n            else if (target === this.el.nativeElement) {\n                this.dragulaModelChange.emit(targetModel);\n            }\n        }));\n        this.subs.add(this.dragulaService\n            .removeModel(name)\n            .subscribe(({ source, sourceModel }) => {\n            if (source === this.el.nativeElement) {\n                this.dragulaModelChange.emit(sourceModel);\n            }\n        }));\n    }\n    /**\n     * @param {?} groupName\n     * @return {?}\n     */\n    teardown(groupName) {\n        if (this.subs) {\n            this.subs.unsubscribe();\n        }\n        /** @type {?} */\n        const group = this.dragulaService.find(groupName);\n        if (group) {\n            /** @type {?} */\n            const itemToRemove = group.drake.containers.indexOf(this.el.nativeElement);\n            if (itemToRemove !== -1) {\n                group.drake.containers.splice(itemToRemove, 1);\n            }\n            if (this.dragulaModel && group.drake && group.drake.models) {\n                /** @type {?} */\n                let modelIndex = group.drake.models.indexOf(this.dragulaModel);\n                if (modelIndex !== -1) {\n                    group.drake.models.splice(modelIndex, 1);\n                }\n            }\n        }\n    }\n    /**\n     * @return {?}\n     */\n    ngOnDestroy() {\n        this.teardown(this.dragula);\n    }\n}\nDragulaDirective.ɵfac = function DragulaDirective_Factory(t) { return new (t || DragulaDirective)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef), ɵngcc0.ɵɵdirectiveInject(DragulaService)); };\nDragulaDirective.ɵdir = ɵngcc0.ɵɵdefineDirective({ type: DragulaDirective, selectors: [[\"\", \"dragula\", \"\"]], inputs: { dragula: \"dragula\", dragulaModel: \"dragulaModel\" }, outputs: { dragulaModelChange: \"dragulaModelChange\" }, features: [ɵngcc0.ɵɵNgOnChangesFeature] });\n/** @nocollapse */\nDragulaDirective.ctorParameters = () => [\n    { type: ElementRef },\n    { type: DragulaService }\n];\nDragulaDirective.propDecorators = {\n    dragula: [{ type: Input }],\n    dragulaModel: [{ type: Input }],\n    dragulaModelChange: [{ type: Output }]\n};\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(DragulaDirective, [{\n        type: Directive,\n        args: [{ selector: '[dragula]' }]\n    }], function () { return [{ type: ɵngcc0.ElementRef }, { type: DragulaService }]; }, { dragulaModelChange: [{\n            type: Output\n        }], dragula: [{\n            type: Input\n        }], dragulaModel: [{\n            type: Input\n        }] }); })();\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\nclass DragulaModule {\n    /**\n     * @return {?}\n     */\n    static forRoot() {\n        return {\n            ngModule: DragulaModule,\n            providers: [DragulaService]\n        };\n    }\n}\nDragulaModule.ɵmod = ɵngcc0.ɵɵdefineNgModule({ type: DragulaModule });\nDragulaModule.ɵinj = ɵngcc0.ɵɵdefineInjector({ factory: function DragulaModule_Factory(t) { return new (t || DragulaModule)(); } });\n(function () { (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(DragulaModule, { declarations: [DragulaDirective], exports: [DragulaDirective] }); })();\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(DragulaModule, [{\n        type: NgModule,\n        args: [{\n                exports: [DragulaDirective],\n                declarations: [DragulaDirective]\n            }]\n    }], null, null); })();\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n/** @type {?} */\nconst MockDrakeFactory = new DrakeFactory((containers, options) => {\n    return new MockDrake(containers, options);\n});\n/**\n * You can use MockDrake to simulate Drake events.\n *\n * The three methods that actually do anything are `on(event, listener)`,\n * `destroy()`, and a new method, `emit()`. Use `emit()` to manually emit Drake\n * events, and if you injected MockDrake properly with MockDrakeFactory or\n * mocked the DragulaService.find() method, then you can make ng2-dragula think\n * drags and drops are happening.\n *\n * Caveats:\n *\n * 1. YOU MUST MAKE THE DOM CHANGES YOURSELF.\n * 2. REPEAT: YOU MUST MAKE THE DOM CHANGES YOURSELF.\n *    That means `source.removeChild(el)`, and `target.insertBefore(el)`.\n * 3. None of the other methods do anything.\n *    That's ok, because ng2-dragula doesn't use them.\n */\nclass MockDrake {\n    /**\n     * @param {?=} containers A list of container elements.\n     * @param {?=} options These will NOT be used. At all.\n     * @param {?=} models Nonstandard, but useful for testing using `new MockDrake()` directly.\n     *               Note, default value is undefined, like a real Drake. Don't change that.\n     */\n    constructor(containers = [], options = {}, models) {\n        this.containers = containers;\n        this.options = options;\n        this.models = models;\n        /* Doesn't represent anything meaningful. */\n        this.dragging = false;\n        this.emitter$ = new Subject();\n        this.subs = new Subscription();\n    }\n    /**\n     * @param {?} item\n     * @return {?}\n     */\n    start(item) {\n        this.dragging = true;\n    }\n    /**\n     * @return {?}\n     */\n    end() {\n        this.dragging = false;\n    }\n    /**\n     * @param {?=} revert\n     * @return {?}\n     */\n    cancel(revert) {\n        this.dragging = false;\n    }\n    /**\n     * @return {?}\n     */\n    remove() {\n        this.dragging = false;\n    }\n    /**\n     * @param {?} event\n     * @param {?} callback\n     * @return {?}\n     */\n    on(event, callback) {\n        this.subs.add(this.emitter$\n            .pipe(filter(({ eventType }) => eventType === event))\n            .subscribe(({ args }) => {\n            callback(...args);\n        }));\n    }\n    /**\n     * @return {?}\n     */\n    destroy() {\n        this.subs.unsubscribe();\n    }\n    /**\n     * This is the most useful method. You can use it to manually fire events that would normally\n     * be fired by a real drake.\n     *\n     * You're likely most interested in firing `drag`, `remove` and `drop`, the three events\n     * DragulaService uses to implement [dragulaModel].\n     *\n     * See https://github.com/bevacqua/dragula#drakeon-events for what you should emit (and in what order).\n     *\n     * (Note also, firing dropModel and removeModel won't work. You would have to mock DragulaService for that.)\n     * @param {?} eventType\n     * @param {...?} args\n     * @return {?}\n     */\n    emit(eventType, ...args) {\n        this.emitter$.next({ eventType, args });\n    }\n}\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n\n/**\n * @fileoverview added by tsickle\n * @suppress {checkTypes} checked by tsc\n */\n\nexport { DragulaDirective, DragulaService, DragulaModule, dragula, DrakeFactory, Group, EventTypes, MockDrake, MockDrakeFactory };\n\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibmcyLWRyYWd1bGEuanMiLCJzb3VyY2VzIjpbIm5nOi9uZzItZHJhZ3VsYS9Hcm91cC50cyIsIm5nOi9uZzItZHJhZ3VsYS9FdmVudFR5cGVzLnRzIiwibmc6L25nMi1kcmFndWxhL0RyYWtlRmFjdG9yeS50cyIsIm5nOi9uZzItZHJhZ3VsYS9jb21wb25lbnRzL2RyYWd1bGEuc2VydmljZS50cyIsIm5nOi9uZzItZHJhZ3VsYS9jb21wb25lbnRzL2RyYWd1bGEuZGlyZWN0aXZlLnRzIiwibmc6L25nMi1kcmFndWxhL2NvbXBvbmVudHMvZHJhZ3VsYS5tb2R1bGUudHMiLCJuZzovbmcyLWRyYWd1bGEvTW9ja0RyYWtlLnRzIl0sIm5hbWVzIjpbIigvKiogQHR5cGUgez99ICovIChkcmFndWxhRXhwdCkpLmRlZmF1bHQiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBR0E7Ozs7OztJQUVFLFlBQ1MsTUFDQSxPQUNBO1FBRkEsU0FBSSxHQUFKLElBQUk7UUFDSixVQUFLLEdBQUwsS0FBSztRQUNMLFlBQU8sR0FBUCxPQUFPOzBCQUphLEtBQUs7S0FLOUI7Q0FDTDs7Ozs7Ozs7SUNURyxRQUFTLFFBQVE7SUFDakIsUUFBUyxRQUFRO0lBQ2pCLE1BQU8sTUFBTTtJQUNiLFNBQVUsU0FBUztJQUNuQixNQUFPLE1BQU07SUFDYixLQUFNLEtBQUs7SUFDWCxNQUFPLE1BQU07SUFDYixRQUFTLFFBQVE7SUFDakIsUUFBUyxRQUFRO0lBQ2pCLFdBQVksV0FBVztJQUN2QixhQUFjLGFBQWE7OztBQUcvQixNQUFhLFNBQVMsR0FBaUIsTUFBTSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxzQkFBSSxVQUFVLG1CQUFDLENBQVEsRUFBZSxDQUFBLENBQUMsQ0FBQzs7Ozs7O0FDWjVHO0FBQ0EsTUFBYSxPQUFPLEdBQTZDQSxvQkFBNEIsSUFBSSxXQUFXLENBQUM7QUFJN0c7Ozs7SUFDRSxZQUFvQixRQUFzQixPQUFPO1FBQTdCLFVBQUssR0FB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LENBQUMsRUFBRSxJQUFJLEVBQUU7WUFDbEIsUUFBUSxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUM7U0FDbkIsQ0FBQyxDQUFDLENBQUM7S0FDUDs7OztJQUVELE9BQU87UUFDTCxJQUFJLENBQUMsSUFBSSxDQUFDLFdBQVcsRUFBRSxDQUFDO0tBQ3pCOzs7Ozs7Ozs7Ozs7Ozs7SUFhRCxJQUFJLENBQUMsU0FBcUIsRUFBRSxHQUFHLElBQVc7UUFDeEMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsRUFBRSxTQUFTLEVBQUUsSUFBSSxFQUFFLENBQUMsQ0FBQTtLQUN4QztDQUVGIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRHJha2VXaXRoTW9kZWxzIH0gZnJvbSBcIi4vRHJha2VXaXRoTW9kZWxzXCI7XG5pbXBvcnQgeyBEcmFndWxhT3B0aW9ucyB9IGZyb20gXCIuL0RyYWd1bGFPcHRpb25zXCI7XG5cbmV4cG9ydCBjbGFzcyBHcm91cCB7XG4gIHB1YmxpYyBpbml0RXZlbnRzOiBib29sZWFuID0gZmFsc2U7XG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyBuYW1lOiBzdHJpbmcsXG4gICAgcHVibGljIGRyYWtlOiBEcmFrZVdpdGhNb2RlbHMsXG4gICAgcHVibGljIG9wdGlvbnM6IERyYWd1bGFPcHRpb25zXG4gICkge31cbn1cbiIsImV4cG9ydCBlbnVtIEV2ZW50VHlwZXMge1xuICAgIENhbmNlbCA9IFwiY2FuY2VsXCIsXG4gICAgQ2xvbmVkID0gXCJjbG9uZWRcIixcbiAgICBEcmFnID0gXCJkcmFnXCIsXG4gICAgRHJhZ0VuZCA9IFwiZHJhZ2VuZFwiLFxuICAgIERyb3AgPSBcImRyb3BcIixcbiAgICBPdXQgPSBcIm91dFwiLFxuICAgIE92ZXIgPSBcIm92ZXJcIixcbiAgICBSZW1vdmUgPSBcInJlbW92ZVwiLFxuICAgIFNoYWRvdyA9IFwic2hhZG93XCIsXG4gICAgRHJvcE1vZGVsID0gXCJkcm9wTW9kZWxcIixcbiAgICBSZW1vdmVNb2RlbCA9IFwicmVtb3ZlTW9kZWxcIixcbn1cblxuZXhwb3J0IGNvbnN0IEFsbEV2ZW50czogRXZlbnRUeXBlc1tdID0gT2JqZWN0LmtleXMoRXZlbnRUeXBlcykubWFwKGsgPT4gRXZlbnRUeXBlc1trIGFzIGFueV0gYXMgRXZlbnRUeXBlcyk7XG5cbiIsImltcG9ydCB7IERyYWd1bGFPcHRpb25zIH0gZnJvbSAnLi9EcmFndWxhT3B0aW9ucyc7XG5pbXBvcnQgeyBEcmFrZVdpdGhNb2RlbHMgfSBmcm9tICcuL0RyYWtlV2l0aE1vZGVscyc7XG5pbXBvcnQgKiBhcyBkcmFndWxhRXhwdCBmcm9tICdkcmFndWxhJztcbmV4cG9ydCBjb25zdCBkcmFndWxhOiAoY29udGFpbmVycz86IGFueSwgb3B0aW9ucz86IGFueSkgPT4gYW55ID0gKGRyYWd1bGFFeHB0IGFzIGFueSkuZGVmYXVsdCB8fCBkcmFndWxhRXhwdDtcblxuZXhwb3J0IHR5cGUgRHJha2VCdWlsZGVyID0gKGNvbnRhaW5lcnM6IGFueVtdLCBvcHRpb25zOiBEcmFndWxhT3B0aW9ucykgPT4gRHJha2VXaXRoTW9kZWxzO1xuXG5leHBvcnQgY2xhc3MgRHJha2VGYWN0b3J5IHtcbiAgY29uc3RydWN0b3IgKHB1YmxpYyBidWlsZDogRHJha2VCdWlsZGVyID0gZHJhZ3VsYSkge31cbn1cbiIsImltcG9ydCB7IEluamVjdGFibGUsIE9wdGlvbmFsIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBHcm91cCB9IGZyb20gJy4uL0dyb3VwJztcbmltcG9ydCB7IERyYWd1bGFPcHRpb25zIH0gZnJvbSAnLi4vRHJhZ3VsYU9wdGlvbnMnO1xuaW1wb3J0IHsgU3ViamVjdCwgT2JzZXJ2YWJsZSB9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHsgZmlsdGVyLCBtYXAgfSBmcm9tICdyeGpzL29wZXJhdG9ycyc7XG5pbXBvcnQgeyBFdmVudFR5cGVzLCBBbGxFdmVudHMgfSBmcm9tICcuLi9FdmVudFR5cGVzJztcbmltcG9ydCB7IERyYWtlRmFjdG9yeSB9IGZyb20gJy4uL0RyYWtlRmFjdG9yeSc7XG5cbnR5cGUgRmlsdGVyUHJvamVjdG9yPFQgZXh0ZW5kcyB7IG5hbWU6IHN0cmluZzsgfT4gPSAobmFtZTogc3RyaW5nLCBhcmdzOiBhbnlbXSkgPT4gVDtcbnR5cGUgRGlzcGF0Y2ggPSB7IGV2ZW50OiBFdmVudFR5cGVzOyBuYW1lOiBzdHJpbmc7IGFyZ3M6IGFueVtdOyB9O1xuXG5jb25zdCBmaWx0ZXJFdmVudCA9IDxUIGV4dGVuZHMgeyBuYW1lOiBzdHJpbmc7IH0+KFxuICBldmVudFR5cGU6IEV2ZW50VHlwZXMsXG4gIGZpbHRlckRyYWdUeXBlOiBzdHJpbmcgfCB1bmRlZmluZWQsXG4gIHByb2plY3RvcjogRmlsdGVyUHJvamVjdG9yPFQ+XG4pID0+IChpbnB1dDogT2JzZXJ2YWJsZTxEaXNwYXRjaD4pOiBPYnNlcnZhYmxlPFQ+ID0+IHtcbiAgcmV0dXJuIGlucHV0LnBpcGUoXG4gICAgZmlsdGVyKCh7IGV2ZW50LCBuYW1lIH0pID0+IHtcbiAgICAgIHJldHVybiBldmVudCA9PT0gZXZlbnRUeXBlXG4gICAgICAgICAgJiYgKGZpbHRlckRyYWdUeXBlID09PSB1bmRlZmluZWQgfHwgbmFtZSA9PT0gZmlsdGVyRHJhZ1R5cGUpO1xuICAgIH0pLFxuICAgIG1hcCgoeyBuYW1lLCBhcmdzIH0pID0+IHByb2plY3RvcihuYW1lLCBhcmdzKSlcbiAgKTtcbn1cblxuY29uc3QgZWxDb250YWluZXJTb3VyY2VQcm9qZWN0b3IgPVxuICAobmFtZTogc3RyaW5nLCBbZWwsIGNvbnRhaW5lciwgc291cmNlXTogW0VsZW1lbnQsIEVsZW1lbnQsIEVsZW1lbnRdKSA9PlxuICAgICh7IG5hbWUsIGVsLCBjb250YWluZXIsIHNvdXJjZSB9KTtcblxuQEluamVjdGFibGUoKVxuZXhwb3J0IGNsYXNzIERyYWd1bGFTZXJ2aWNlIHtcblxuICAvKiBodHRwczovL2dpdGh1Yi5jb20vYmV2YWNxdWEvZHJhZ3VsYSNkcmFrZW9uLWV2ZW50cyAqL1xuXG4gIHByaXZhdGUgZGlzcGF0Y2gkID0gbmV3IFN1YmplY3Q8RGlzcGF0Y2g+KCk7XG5cbiAgcHVibGljIGRyYWcgPSAoZ3JvdXBOYW1lPzogc3RyaW5nKSA9PiB0aGlzLmRpc3BhdGNoJC5waXBlKFxuICAgIGZpbHRlckV2ZW50KFxuICAgICAgRXZlbnRUeXBlcy5EcmFnLFxuICAgICAgZ3JvdXBOYW1lLFxuICAgICAgKG5hbWUsIFtlbCwgc291cmNlXTogW0VsZW1lbnQsIEVsZW1lbnRdKSA9PiAoeyBuYW1lLCBlbCwgc291cmNlIH0pXG4gICAgKVxuICApO1xuXG4gIHB1YmxpYyBkcmFnZW5kID0gKGdyb3VwTmFtZT86IHN0cmluZykgPT4gdGhpcy5kaXNwYXRjaCQucGlwZShcbiAgICBmaWx0ZXJFdmVudChcbiAgICAgIEV2ZW50VHlwZXMuRHJhZ0VuZCxcbiAgICAgIGdyb3VwTmFtZSxcbiAgICAgIChuYW1lLCBbZWxdOiBbRWxlbWVudF0pID0+ICh7IG5hbWUsIGVsIH0pXG4gICAgKVxuICApO1xuXG4gIHB1YmxpYyBkcm9wID0gKGdyb3VwTmFtZT86IHN0cmluZykgPT4gdGhpcy5kaXNwYXRjaCQucGlwZShcbiAgICBmaWx0ZXJFdmVudChcbiAgICAgIEV2ZW50VHlwZXMuRHJvcCxcbiAgICAgIGdyb3VwTmFtZSxcbiAgICAgIChuYW1lLCBbXG4gICAgICAgIGVsLCB0YXJnZXQsIHNvdXJjZSwgc2libGluZ1xuICAgICAgXTogW0VsZW1lbnQsIEVsZW1lbnQsIEVsZW1lbnQsIEVsZW1lbnRdKSA9PiB7XG4gICAgICAgIHJldHVybiB7IG5hbWUsIGVsLCB0YXJnZXQsIHNvdXJjZSwgc2libGluZyB9O1xuICAgICAgfSlcbiAgKTtcblxuICBwcml2YXRlIGVsQ29udGFpbmVyU291cmNlID1cbiAgICAoZXZlbnRUeXBlOiBFdmVudFR5cGVzKSA9PlxuICAgIChncm91cE5hbWU/OiBzdHJpbmcpID0+XG4gICAgdGhpcy5kaXNwYXRjaCQucGlwZShcbiAgICAgIGZpbHRlckV2ZW50KGV2ZW50VHlwZSwgZ3JvdXBOYW1lLCBlbENvbnRhaW5lclNvdXJjZVByb2plY3RvcilcbiAgICApO1xuXG4gIHB1YmxpYyBjYW5jZWwgPSB0aGlzLmVsQ29udGFpbmVyU291cmNlKEV2ZW50VHlwZXMuQ2FuY2VsKTtcbiAgcHVibGljIHJlbW92ZSA9IHRoaXMuZWxDb250YWluZXJTb3VyY2UoRXZlbnRUeXBlcy5SZW1vdmUpO1xuICBwdWJsaWMgc2hhZG93ID0gdGhpcy5lbENvbnRhaW5lclNvdXJjZShFdmVudFR5cGVzLlNoYWRvdyk7XG4gIHB1YmxpYyBvdmVyID0gdGhpcy5lbENvbnRhaW5lclNvdXJjZShFdmVudFR5cGVzLk92ZXIpO1xuICBwdWJsaWMgb3V0ID0gdGhpcy5lbENvbnRhaW5lclNvdXJjZShFdmVudFR5cGVzLk91dCk7XG5cbiAgcHVibGljIGNsb25lZCA9IChncm91cE5hbWU/OiBzdHJpbmcpID0+IHRoaXMuZGlzcGF0Y2gkLnBpcGUoXG4gICAgZmlsdGVyRXZlbnQoXG4gICAgICBFdmVudFR5cGVzLkNsb25lZCxcbiAgICAgIGdyb3VwTmFtZSxcbiAgICAgIChuYW1lLCBbXG4gICAgICAgIGNsb25lLCBvcmlnaW5hbCwgY2xvbmVUeXBlXG4gICAgICBdOiBbRWxlbWVudCwgRWxlbWVudCwgJ21pcnJvcicgfCAnY29weSddKSA9PiB7XG4gICAgICAgIHJldHVybiB7IG5hbWUsIGNsb25lLCBvcmlnaW5hbCwgY2xvbmVUeXBlIH1cbiAgICAgIH0pXG4gICk7XG5cbiAgcHVibGljIGRyb3BNb2RlbCA9IDxUID0gYW55Pihncm91cE5hbWU/OiBzdHJpbmcpID0+IHRoaXMuZGlzcGF0Y2gkLnBpcGUoXG4gICAgZmlsdGVyRXZlbnQoXG4gICAgICBFdmVudFR5cGVzLkRyb3BNb2RlbCxcbiAgICAgIGdyb3VwTmFtZSxcbiAgICAgIChuYW1lLCBbXG4gICAgICAgIGVsLCB0YXJnZXQsIHNvdXJjZSwgc2libGluZywgaXRlbSwgc291cmNlTW9kZWwsIHRhcmdldE1vZGVsLCBzb3VyY2VJbmRleCwgdGFyZ2V0SW5kZXhcbiAgICAgIF06IFtFbGVtZW50LCBFbGVtZW50LCBFbGVtZW50LCBFbGVtZW50LCBULCBUW10sIFRbXSwgbnVtYmVyLCBudW1iZXJdKSA9PiB7XG4gICAgICAgIHJldHVybiB7IG5hbWUsIGVsLCB0YXJnZXQsIHNvdXJjZSwgc2libGluZywgaXRlbSwgc291cmNlTW9kZWwsIHRhcmdldE1vZGVsLCBzb3VyY2VJbmRleCwgdGFyZ2V0SW5kZXggfVxuICAgICAgfSlcbiAgKTtcblxuICBwdWJsaWMgcmVtb3ZlTW9kZWwgPSA8VCA9IGFueT4oZ3JvdXBOYW1lPzogc3RyaW5nKSA9PiB0aGlzLmRpc3BhdGNoJC5waXBlKFxuICAgIGZpbHRlckV2ZW50KFxuICAgICAgRXZlbnRUeXBlcy5SZW1vdmVNb2RlbCxcbiAgICAgIGdyb3VwTmFtZSxcbiAgICAgIChuYW1lLCBbXG4gICAgICAgIGVsLCBjb250YWluZXIsIHNvdXJjZSwgaXRlbSwgc291cmNlTW9kZWwsIHNvdXJjZUluZGV4XG4gICAgICBdOiBbRWxlbWVudCwgRWxlbWVudCwgRWxlbWVudCwgVCwgVFtdLCBudW1iZXJdKSA9PiB7XG4gICAgICAgIHJldHVybiB7IG5hbWUsIGVsLCBjb250YWluZXIsIHNvdXJjZSwgaXRlbSwgc291cmNlTW9kZWwsIHNvdXJjZUluZGV4IH1cbiAgICAgIH1cbiAgICApXG4gICk7XG5cbiAgcHJpdmF0ZSBncm91cHM6IHsgW2s6IHN0cmluZ106IEdyb3VwIH0gPSB7fTtcblxuICBjb25zdHJ1Y3RvciAoQE9wdGlvbmFsKCkgcHJpdmF0ZSBkcmFrZUZhY3Rvcnk6IERyYWtlRmFjdG9yeSA9IG51bGwpIHtcbiAgICBpZiAodGhpcy5kcmFrZUZhY3RvcnkgPT09IG51bGwpIHtcbiAgICAgIHRoaXMuZHJha2VGYWN0b3J5ID0gbmV3IERyYWtlRmFjdG9yeSgpO1xuICAgIH1cbiAgfVxuXG4gIC8qKiBQdWJsaWMgbWFpbmx5IGZvciB0ZXN0aW5nIHB1cnBvc2VzLiBQcmVmZXIgYGNyZWF0ZUdyb3VwKClgLiAqL1xuICBwdWJsaWMgYWRkKGdyb3VwOiBHcm91cCk6IEdyb3VwIHtcbiAgICBsZXQgZXhpc3RpbmdHcm91cCA9IHRoaXMuZmluZChncm91cC5uYW1lKTtcbiAgICBpZiAoZXhpc3RpbmdHcm91cCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdHcm91cCBuYW1lZDogXCInICsgZ3JvdXAubmFtZSArICdcIiBhbHJlYWR5IGV4aXN0cy4nKTtcbiAgICB9XG4gICAgdGhpcy5ncm91cHNbZ3JvdXAubmFtZV0gPSBncm91cDtcbiAgICB0aGlzLmhhbmRsZU1vZGVscyhncm91cCk7XG4gICAgdGhpcy5zZXR1cEV2ZW50cyhncm91cCk7XG4gICAgcmV0dXJuIGdyb3VwO1xuICB9XG5cbiAgcHVibGljIGZpbmQobmFtZTogc3RyaW5nKTogR3JvdXAge1xuICAgIHJldHVybiB0aGlzLmdyb3Vwc1tuYW1lXTtcbiAgfVxuXG4gIHB1YmxpYyBkZXN0cm95KG5hbWU6IHN0cmluZyk6IHZvaWQge1xuICAgIGxldCBncm91cCA9IHRoaXMuZmluZChuYW1lKTtcbiAgICBpZiAoIWdyb3VwKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGdyb3VwLmRyYWtlICYmIGdyb3VwLmRyYWtlLmRlc3Ryb3koKTtcbiAgICBkZWxldGUgdGhpcy5ncm91cHNbbmFtZV07XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyBhIGdyb3VwIHdpdGggdGhlIHNwZWNpZmllZCBuYW1lIGFuZCBvcHRpb25zLlxuICAgKlxuICAgKiBOb3RlOiBmb3JtZXJseSBrbm93biBhcyBgc2V0T3B0aW9uc2BcbiAgICovXG4gIHB1YmxpYyBjcmVhdGVHcm91cDxUID0gYW55PihuYW1lOiBzdHJpbmcsIG9wdGlvbnM6IERyYWd1bGFPcHRpb25zPFQ+KTogR3JvdXAge1xuICAgIHJldHVybiB0aGlzLmFkZChuZXcgR3JvdXAoXG4gICAgICBuYW1lLFxuICAgICAgdGhpcy5kcmFrZUZhY3RvcnkuYnVpbGQoW10sIG9wdGlvbnMpLFxuICAgICAgb3B0aW9uc1xuICAgICkpO1xuICB9XG5cbiAgcHJpdmF0ZSBoYW5kbGVNb2RlbHMoeyBuYW1lLCBkcmFrZSwgb3B0aW9ucyB9OiBHcm91cCk6IHZvaWQge1xuICAgIGxldCBkcmFnRWxtOiBhbnk7XG4gICAgbGV0IGRyYWdJbmRleDogbnVtYmVyO1xuICAgIGxldCBkcm9wSW5kZXg6IG51bWJlcjtcbiAgICBkcmFrZS5vbigncmVtb3ZlJywgKGVsOiBhbnksIGNvbnRhaW5lcjogYW55LCBzb3VyY2U6IGFueSkgPT4ge1xuICAgICAgaWYgKCFkcmFrZS5tb2RlbHMpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgbGV0IHNvdXJjZU1vZGVsID0gZHJha2UubW9kZWxzW2RyYWtlLmNvbnRhaW5lcnMuaW5kZXhPZihzb3VyY2UpXTtcbiAgICAgIHNvdXJjZU1vZGVsID0gc291cmNlTW9kZWwuc2xpY2UoMCk7IC8vIGNsb25lIGl0XG4gICAgICBjb25zdCBpdGVtID0gc291cmNlTW9kZWwuc3BsaWNlKGRyYWdJbmRleCwgMSlbMF07XG4gICAgICAvLyBjb25zb2xlLmxvZygnUkVNT1ZFJyk7XG4gICAgICAvLyBjb25zb2xlLmxvZyhzb3VyY2VNb2RlbCk7XG4gICAgICB0aGlzLmRpc3BhdGNoJC5uZXh0KHtcbiAgICAgICAgZXZlbnQ6IEV2ZW50VHlwZXMuUmVtb3ZlTW9kZWwsXG4gICAgICAgIG5hbWUsXG4gICAgICAgIGFyZ3M6IFsgZWwsIGNvbnRhaW5lciwgc291cmNlLCBpdGVtLCBzb3VyY2VNb2RlbCwgZHJhZ0luZGV4IF1cbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIGRyYWtlLm9uKCdkcmFnJywgKGVsOiBhbnksIHNvdXJjZTogYW55KSA9PiB7XG4gICAgICBpZiAoIWRyYWtlLm1vZGVscykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBkcmFnRWxtID0gZWw7XG4gICAgICBkcmFnSW5kZXggPSB0aGlzLmRvbUluZGV4T2YoZWwsIHNvdXJjZSk7XG4gICAgfSk7XG4gICAgZHJha2Uub24oJ2Ryb3AnLCAoZHJvcEVsbTogYW55LCB0YXJnZXQ6IEVsZW1lbnQsIHNvdXJjZTogRWxlbWVudCwgc2libGluZz86IEVsZW1lbnQpID0+IHtcbiAgICAgIGlmICghZHJha2UubW9kZWxzIHx8ICF0YXJnZXQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZHJvcEluZGV4ID0gdGhpcy5kb21JbmRleE9mKGRyb3BFbG0sIHRhcmdldCk7XG4gICAgICBsZXQgc291cmNlTW9kZWwgPSBkcmFrZS5tb2RlbHNbZHJha2UuY29udGFpbmVycy5pbmRleE9mKHNvdXJjZSldO1xuICAgICAgbGV0IHRhcmdldE1vZGVsID0gZHJha2UubW9kZWxzW2RyYWtlLmNvbnRhaW5lcnMuaW5kZXhPZih0YXJnZXQpXTtcbiAgICAgIC8vIGNvbnNvbGUubG9nKCdEUk9QJyk7XG4gICAgICAvLyBjb25zb2xlLmxvZyhzb3VyY2VNb2RlbCk7XG4gICAgICBsZXQgaXRlbTogYW55O1xuICAgICAgaWYgKHRhcmdldCA9PT0gc291cmNlKSB7XG4gICAgICAgIHNvdXJjZU1vZGVsID0gc291cmNlTW9kZWwuc2xpY2UoMClcbiAgICAgICAgaXRlbSA9IHNvdXJjZU1vZGVsLnNwbGljZShkcmFnSW5kZXgsIDEpWzBdO1xuICAgICAgICBzb3VyY2VNb2RlbC5zcGxpY2UoZHJvcEluZGV4LCAwLCBpdGVtKTtcbiAgICAgICAgLy8gdGhpcyB3YXMgdHJ1ZSBiZWZvcmUgd2UgY2xvbmVkIGFuZCB1cGRhdGVkIHNvdXJjZU1vZGVsLFxuICAgICAgICAvLyBidXQgdGFyZ2V0TW9kZWwgc3RpbGwgaGFzIHRoZSBvbGQgdmFsdWVcbiAgICAgICAgdGFyZ2V0TW9kZWwgPSBzb3VyY2VNb2RlbDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxldCBpc0NvcHlpbmcgPSBkcmFnRWxtICE9PSBkcm9wRWxtO1xuICAgICAgICBpdGVtID0gc291cmNlTW9kZWxbZHJhZ0luZGV4XTtcbiAgICAgICAgaWYgKGlzQ29weWluZykge1xuICAgICAgICAgIGlmICghb3B0aW9ucy5jb3B5SXRlbSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSWYgeW91IGhhdmUgZW5hYmxlZCBgY29weWAgb24gYSBncm91cCwgeW91IG11c3QgcHJvdmlkZSBhIGBjb3B5SXRlbWAgZnVuY3Rpb24uXCIpXG4gICAgICAgICAgfVxuICAgICAgICAgIGl0ZW0gPSBvcHRpb25zLmNvcHlJdGVtKGl0ZW0pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFpc0NvcHlpbmcpIHtcbiAgICAgICAgICBzb3VyY2VNb2RlbCA9IHNvdXJjZU1vZGVsLnNsaWNlKDApXG4gICAgICAgICAgc291cmNlTW9kZWwuc3BsaWNlKGRyYWdJbmRleCwgMSk7XG4gICAgICAgIH1cbiAgICAgICAgdGFyZ2V0TW9kZWwgPSB0YXJnZXRNb2RlbC5zbGljZSgwKVxuICAgICAgICB0YXJnZXRNb2RlbC5zcGxpY2UoZHJvcEluZGV4LCAwLCBpdGVtKTtcbiAgICAgICAgaWYgKGlzQ29weWluZykge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0YXJnZXQucmVtb3ZlQ2hpbGQoZHJvcEVsbSk7XG4gICAgICAgICAgfSBjYXRjaCAoZSkge31cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdGhpcy5kaXNwYXRjaCQubmV4dCh7XG4gICAgICAgIGV2ZW50OiBFdmVudFR5cGVzLkRyb3BNb2RlbCxcbiAgICAgICAgbmFtZSxcbiAgICAgICAgYXJnczogWyBkcm9wRWxtLCB0YXJnZXQsIHNvdXJjZSwgc2libGluZywgaXRlbSwgc291cmNlTW9kZWwsIHRhcmdldE1vZGVsLCBkcmFnSW5kZXgsIGRyb3BJbmRleCBdXG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIHByaXZhdGUgc2V0dXBFdmVudHMoZ3JvdXA6IEdyb3VwKTogdm9pZCB7XG4gICAgaWYgKGdyb3VwLmluaXRFdmVudHMpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZ3JvdXAuaW5pdEV2ZW50cyA9IHRydWU7XG4gICAgY29uc3QgbmFtZSA9IGdyb3VwLm5hbWU7XG4gICAgbGV0IHRoYXQ6IGFueSA9IHRoaXM7XG4gICAgbGV0IGVtaXR0ZXIgPSAoZXZlbnQ6IEV2ZW50VHlwZXMpID0+IHtcbiAgICAgIGdyb3VwLmRyYWtlLm9uKGV2ZW50LCAoLi4uYXJnczogYW55W10pID0+IHtcbiAgICAgICAgdGhpcy5kaXNwYXRjaCQubmV4dCh7IGV2ZW50LCBuYW1lLCBhcmdzIH0pO1xuICAgICAgfSk7XG4gICAgfTtcbiAgICBBbGxFdmVudHMuZm9yRWFjaChlbWl0dGVyKTtcbiAgfVxuXG4gIHByaXZhdGUgZG9tSW5kZXhPZihjaGlsZDogYW55LCBwYXJlbnQ6IGFueSk6IGFueSB7XG4gICAgcmV0dXJuIEFycmF5LnByb3RvdHlwZS5pbmRleE9mLmNhbGwocGFyZW50LmNoaWxkcmVuLCBjaGlsZCk7XG4gIH1cbn1cbiIsImltcG9ydCB7IERpcmVjdGl2ZSwgSW5wdXQsIE91dHB1dCwgRWxlbWVudFJlZiwgT25Jbml0LCBPbkNoYW5nZXMsIE9uRGVzdHJveSwgU2ltcGxlQ2hhbmdlLCBFdmVudEVtaXR0ZXIgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IERyYWd1bGFTZXJ2aWNlIH0gZnJvbSAnLi9kcmFndWxhLnNlcnZpY2UnO1xuaW1wb3J0IHsgRHJha2VXaXRoTW9kZWxzIH0gZnJvbSAnLi4vRHJha2VXaXRoTW9kZWxzJztcbmltcG9ydCB7IFN1YnNjcmlwdGlvbiB9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHsgR3JvdXAgfSBmcm9tICcuLi9Hcm91cCc7XG5cbkBEaXJlY3RpdmUoe3NlbGVjdG9yOiAnW2RyYWd1bGFdJ30pXG5leHBvcnQgY2xhc3MgRHJhZ3VsYURpcmVjdGl2ZSBpbXBsZW1lbnRzIE9uQ2hhbmdlcywgT25EZXN0cm95IHtcbiAgQElucHV0KCkgcHVibGljIGRyYWd1bGE6IHN0cmluZztcbiAgQElucHV0KCkgcHVibGljIGRyYWd1bGFNb2RlbDogYW55W107XG4gIEBPdXRwdXQoKSBwdWJsaWMgZHJhZ3VsYU1vZGVsQ2hhbmdlID0gbmV3IEV2ZW50RW1pdHRlcjxhbnlbXT4oKTtcblxuICBwcml2YXRlIHN1YnM6IFN1YnNjcmlwdGlvbjtcblxuICBwcml2YXRlIGdldCBjb250YWluZXIoKTogSFRNTEVsZW1lbnQge1xuICAgIHJldHVybiB0aGlzLmVsICYmIHRoaXMuZWwubmF0aXZlRWxlbWVudDtcbiAgfVxuICBwcml2YXRlIGdyb3VwOiBHcm91cDtcblxuICBwdWJsaWMgY29uc3RydWN0b3IocHJpdmF0ZSBlbDogRWxlbWVudFJlZiwgcHJpdmF0ZSBkcmFndWxhU2VydmljZTogRHJhZ3VsYVNlcnZpY2UpIHtcbiAgfVxuXG4gIHB1YmxpYyBuZ09uQ2hhbmdlcyhjaGFuZ2VzOiB7ZHJhZ3VsYT86IFNpbXBsZUNoYW5nZSwgZHJhZ3VsYU1vZGVsPzogU2ltcGxlQ2hhbmdlfSk6IHZvaWQge1xuICAgIGlmIChjaGFuZ2VzICYmIGNoYW5nZXMuZHJhZ3VsYSkge1xuICAgICAgY29uc3QgeyBwcmV2aW91c1ZhbHVlOiBwcmV2LCBjdXJyZW50VmFsdWU6IGN1cnJlbnQsIGZpcnN0Q2hhbmdlIH0gPSBjaGFuZ2VzLmRyYWd1bGE7XG4gICAgICBsZXQgaGFkUHJldmlvdXNWYWx1ZSA9ICEhcHJldjtcbiAgICAgIGxldCBoYXNOZXdWYWx1ZSA9ICEhY3VycmVudDtcbiAgICAgIC8vIHNvbWV0aGluZyAtPiBudWxsICAgICAgID0+ICB0ZWFyZG93biBvbmx5XG4gICAgICAvLyBzb21ldGhpbmcgLT4gc29tZXRoaW5nICA9PiAgdGVhcmRvd24sIHRoZW4gc2V0dXBcbiAgICAgIC8vICAgICAgbnVsbCAtPiBzb21ldGhpbmcgID0+ICBzZXR1cCBvbmx5XG4gICAgICAvL1xuICAgICAgLy8gICAgICBudWxsIC0+IG51bGwgKHByZWNsdWRlZCBieSBmYWN0IG9mIGNoYW5nZSBiZWluZyBwcmVzZW50KVxuICAgICAgaWYgKGhhZFByZXZpb3VzVmFsdWUpIHtcbiAgICAgICAgdGhpcy50ZWFyZG93bihwcmV2KTtcbiAgICAgIH1cbiAgICAgIGlmIChoYXNOZXdWYWx1ZSkge1xuICAgICAgICB0aGlzLnNldHVwKCk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChjaGFuZ2VzICYmIGNoYW5nZXMuZHJhZ3VsYU1vZGVsKSB7XG4gICAgICAvLyB0aGlzIGNvZGUgb25seSBydW5zIHdoZW4geW91J3JlIG5vdCBjaGFuZ2luZyB0aGUgZ3JvdXAgbmFtZVxuICAgICAgLy8gYmVjYXVzZSBpZiB5b3UncmUgY2hhbmdpbmcgdGhlIGdyb3VwIG5hbWUsIHlvdSdsbCBiZSBkb2luZyBzZXR1cCBvciB0ZWFyZG93blxuICAgICAgLy8gaXQgYWxzbyBvbmx5IHJ1bnMgaWYgdGhlcmUgaXMgYSBncm91cCBuYW1lIHRvIGF0dGFjaCB0by5cbiAgICAgIGNvbnN0IHsgcHJldmlvdXNWYWx1ZTogcHJldiwgY3VycmVudFZhbHVlOiBjdXJyZW50LCBmaXJzdENoYW5nZSB9ID0gY2hhbmdlcy5kcmFndWxhTW9kZWw7XG4gICAgICBjb25zdCB7IGRyYWtlIH0gPSB0aGlzLmdyb3VwO1xuICAgICAgaWYgKHRoaXMuZHJhZ3VsYSAmJiBkcmFrZSkge1xuICAgICAgICBkcmFrZS5tb2RlbHMgPSBkcmFrZS5tb2RlbHMgfHwgW107XG4gICAgICAgIGxldCBwcmV2SW5kZXggPSBkcmFrZS5tb2RlbHMuaW5kZXhPZihwcmV2KTtcbiAgICAgICAgaWYgKHByZXZJbmRleCAhPT0gLTEpIHtcbiAgICAgICAgICAvLyBkZWxldGUgdGhlIHByZXZpb3VzXG4gICAgICAgICAgZHJha2UubW9kZWxzLnNwbGljZShwcmV2SW5kZXgsIDEpO1xuICAgICAgICAgIC8vIG1heWJlIGluc2VydCBhIG5ldyBvbmUgYXQgdGhlIHNhbWUgc3BvdFxuICAgICAgICAgIGlmICghIWN1cnJlbnQpIHtcbiAgICAgICAgICAgIGRyYWtlLm1vZGVscy5zcGxpY2UocHJldkluZGV4LCAwLCBjdXJyZW50KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoISFjdXJyZW50KSB7XG4gICAgICAgICAgLy8gbm8gcHJldmlvdXMgb25lIHRvIHJlbW92ZTsganVzdCBwdXNoIHRoaXMgb25lLlxuICAgICAgICAgIGRyYWtlLm1vZGVscy5wdXNoKGN1cnJlbnQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8gY2FsbCBuZ09uSW5pdCAnc2V0dXAnIGJlY2F1c2Ugd2Ugd2FudCB0byBjYWxsIGl0IGluIG5nT25DaGFuZ2VzXG4gIC8vIGFuZCBpdCB3b3VsZCBvdGhlcndpc2UgcnVuIHR3aWNlXG4gIHB1YmxpYyBzZXR1cCgpOiB2b2lkIHtcbiAgICBsZXQgY2hlY2tNb2RlbCA9IChncm91cDogR3JvdXApID0+IHtcbiAgICAgIGlmICh0aGlzLmRyYWd1bGFNb2RlbCkge1xuICAgICAgICBpZiAoZ3JvdXAuZHJha2UubW9kZWxzKSB7XG4gICAgICAgICAgZ3JvdXAuZHJha2UubW9kZWxzLnB1c2godGhpcy5kcmFndWxhTW9kZWwpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGdyb3VwLmRyYWtlLm1vZGVscyA9IFt0aGlzLmRyYWd1bGFNb2RlbF07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgLy8gZmluZCBvciBjcmVhdGUgYSBncm91cFxuICAgIGxldCBncm91cCA9IHRoaXMuZHJhZ3VsYVNlcnZpY2UuZmluZCh0aGlzLmRyYWd1bGEpO1xuICAgIGlmICghZ3JvdXApIHtcbiAgICAgIGxldCBvcHRpb25zID0ge307XG4gICAgICBncm91cCA9IHRoaXMuZHJhZ3VsYVNlcnZpY2UuY3JlYXRlR3JvdXAodGhpcy5kcmFndWxhLCBvcHRpb25zKTtcbiAgICB9XG5cbiAgICAvLyBlbnN1cmUgbW9kZWwgYW5kIGNvbnRhaW5lciBlbGVtZW50IGFyZSBwdXNoZWRcbiAgICBjaGVja01vZGVsKGdyb3VwKTtcbiAgICBncm91cC5kcmFrZS5jb250YWluZXJzLnB1c2godGhpcy5jb250YWluZXIpO1xuICAgIHRoaXMuc3Vic2NyaWJlKHRoaXMuZHJhZ3VsYSk7XG5cbiAgICB0aGlzLmdyb3VwID0gZ3JvdXA7XG4gIH1cblxuICBwdWJsaWMgc3Vic2NyaWJlKG5hbWU6IHN0cmluZykge1xuICAgIHRoaXMuc3VicyA9IG5ldyBTdWJzY3JpcHRpb24oKTtcbiAgICB0aGlzLnN1YnMuYWRkKFxuICAgICAgdGhpcy5kcmFndWxhU2VydmljZVxuICAgICAgLmRyb3BNb2RlbChuYW1lKVxuICAgICAgLnN1YnNjcmliZSgoeyBzb3VyY2UsIHRhcmdldCwgc291cmNlTW9kZWwsIHRhcmdldE1vZGVsIH0pID0+IHtcbiAgICAgICAgaWYgKHNvdXJjZSA9PT0gdGhpcy5lbC5uYXRpdmVFbGVtZW50KSB7XG4gICAgICAgICAgdGhpcy5kcmFndWxhTW9kZWxDaGFuZ2UuZW1pdChzb3VyY2VNb2RlbCk7XG4gICAgICAgIH0gZWxzZSBpZiAodGFyZ2V0ID09PSB0aGlzLmVsLm5hdGl2ZUVsZW1lbnQpIHtcbiAgICAgICAgICB0aGlzLmRyYWd1bGFNb2RlbENoYW5nZS5lbWl0KHRhcmdldE1vZGVsKTtcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICApO1xuICAgIHRoaXMuc3Vicy5hZGQoXG4gICAgICB0aGlzLmRyYWd1bGFTZXJ2aWNlXG4gICAgICAucmVtb3ZlTW9kZWwobmFtZSlcbiAgICAgIC5zdWJzY3JpYmUoKHsgc291cmNlLCBzb3VyY2VNb2RlbCB9KSA9PiB7XG4gICAgICAgIGlmIChzb3VyY2UgPT09IHRoaXMuZWwubmF0aXZlRWxlbWVudCkge1xuICAgICAgICAgIHRoaXMuZHJhZ3VsYU1vZGVsQ2hhbmdlLmVtaXQoc291cmNlTW9kZWwpO1xuICAgICAgICB9XG4gICAgICB9KVxuICAgICk7XG4gIH1cblxuICBwdWJsaWMgdGVhcmRvd24oZ3JvdXBOYW1lOiBzdHJpbmcpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5zdWJzKSB7XG4gICAgICB0aGlzLnN1YnMudW5zdWJzY3JpYmUoKTtcbiAgICB9XG4gICAgY29uc3QgZ3JvdXAgPSB0aGlzLmRyYWd1bGFTZXJ2aWNlLmZpbmQoZ3JvdXBOYW1lKTtcbiAgICBpZiAoZ3JvdXApIHtcbiAgICAgIGNvbnN0IGl0ZW1Ub1JlbW92ZSA9IGdyb3VwLmRyYWtlLmNvbnRhaW5lcnMuaW5kZXhPZih0aGlzLmVsLm5hdGl2ZUVsZW1lbnQpO1xuICAgICAgaWYgKGl0ZW1Ub1JlbW92ZSAhPT0gLTEpIHtcbiAgICAgICAgZ3JvdXAuZHJha2UuY29udGFpbmVycy5zcGxpY2UoaXRlbVRvUmVtb3ZlLCAxKTtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLmRyYWd1bGFNb2RlbCAmJiBncm91cC5kcmFrZSAmJiBncm91cC5kcmFrZS5tb2RlbHMpIHtcbiAgICAgICAgbGV0IG1vZGVsSW5kZXggPSBncm91cC5kcmFrZS5tb2RlbHMuaW5kZXhPZih0aGlzLmRyYWd1bGFNb2RlbCk7XG4gICAgICAgIGlmIChtb2RlbEluZGV4ICE9PSAtMSkge1xuICAgICAgICAgIGdyb3VwLmRyYWtlLm1vZGVscy5zcGxpY2UobW9kZWxJbmRleCwgMSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBwdWJsaWMgbmdPbkRlc3Ryb3koKTogdm9pZCB7XG4gICAgdGhpcy50ZWFyZG93bih0aGlzLmRyYWd1bGEpO1xuICB9XG5cbn1cbiIsImltcG9ydCB7IE5nTW9kdWxlLCBNb2R1bGVXaXRoUHJvdmlkZXJzIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBEcmFndWxhRGlyZWN0aXZlIH0gZnJvbSAnLi9kcmFndWxhLmRpcmVjdGl2ZSc7XG5pbXBvcnQgeyBEcmFndWxhU2VydmljZSB9IGZyb20gJy4vZHJhZ3VsYS5zZXJ2aWNlJztcblxuQE5nTW9kdWxlKHtcbiAgZXhwb3J0czogW0RyYWd1bGFEaXJlY3RpdmVdLFxuICBkZWNsYXJhdGlvbnM6IFtEcmFndWxhRGlyZWN0aXZlXSxcbn0pXG5leHBvcnQgY2xhc3MgRHJhZ3VsYU1vZHVsZSB7XG4gIHN0YXRpYyBmb3JSb290KCk6IE1vZHVsZVdpdGhQcm92aWRlcnMge1xuICAgIHJldHVybiB7XG4gICAgICBuZ01vZHVsZTogRHJhZ3VsYU1vZHVsZSxcbiAgICAgIHByb3ZpZGVyczogW0RyYWd1bGFTZXJ2aWNlXVxuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0IHsgU3ViamVjdCwgU3Vic2NyaXB0aW9uIH0gZnJvbSAncnhqcyc7XG5pbXBvcnQgeyBEcmFrZVdpdGhNb2RlbHMgfSBmcm9tICcuL0RyYWtlV2l0aE1vZGVscyc7XG5pbXBvcnQgeyBmaWx0ZXIgfSBmcm9tICdyeGpzL29wZXJhdG9ycyc7XG5pbXBvcnQgeyBFdmVudFR5cGVzIH0gZnJvbSAnLi9FdmVudFR5cGVzJztcbmltcG9ydCB7IERyYWd1bGFPcHRpb25zIH0gZnJvbSAnLi9EcmFndWxhT3B0aW9ucyc7XG5pbXBvcnQgeyBEcmFrZUZhY3RvcnkgfSBmcm9tICcuL0RyYWtlRmFjdG9yeSc7XG5cbmV4cG9ydCBjb25zdCBNb2NrRHJha2VGYWN0b3J5ID0gbmV3IERyYWtlRmFjdG9yeSgoY29udGFpbmVycywgb3B0aW9ucykgPT4ge1xuICByZXR1cm4gbmV3IE1vY2tEcmFrZShjb250YWluZXJzLCBvcHRpb25zKTtcbn0pO1xuXG4vKiogWW91IGNhbiB1c2UgTW9ja0RyYWtlIHRvIHNpbXVsYXRlIERyYWtlIGV2ZW50cy5cbiAqXG4gKiBUaGUgdGhyZWUgbWV0aG9kcyB0aGF0IGFjdHVhbGx5IGRvIGFueXRoaW5nIGFyZSBgb24oZXZlbnQsIGxpc3RlbmVyKWAsXG4gKiBgZGVzdHJveSgpYCwgYW5kIGEgbmV3IG1ldGhvZCwgYGVtaXQoKWAuIFVzZSBgZW1pdCgpYCB0byBtYW51YWxseSBlbWl0IERyYWtlXG4gKiBldmVudHMsIGFuZCBpZiB5b3UgaW5qZWN0ZWQgTW9ja0RyYWtlIHByb3Blcmx5IHdpdGggTW9ja0RyYWtlRmFjdG9yeSBvclxuICogbW9ja2VkIHRoZSBEcmFndWxhU2VydmljZS5maW5kKCkgbWV0aG9kLCB0aGVuIHlvdSBjYW4gbWFrZSBuZzItZHJhZ3VsYSB0aGlua1xuICogZHJhZ3MgYW5kIGRyb3BzIGFyZSBoYXBwZW5pbmcuXG4gKlxuICogQ2F2ZWF0czpcbiAqXG4gKiAxLiBZT1UgTVVTVCBNQUtFIFRIRSBET00gQ0hBTkdFUyBZT1VSU0VMRi5cbiAqIDIuIFJFUEVBVDogWU9VIE1VU1QgTUFLRSBUSEUgRE9NIENIQU5HRVMgWU9VUlNFTEYuXG4gKiAgICBUaGF0IG1lYW5zIGBzb3VyY2UucmVtb3ZlQ2hpbGQoZWwpYCwgYW5kIGB0YXJnZXQuaW5zZXJ0QmVmb3JlKGVsKWAuXG4gKiAzLiBOb25lIG9mIHRoZSBvdGhlciBtZXRob2RzIGRvIGFueXRoaW5nLlxuICogICAgVGhhdCdzIG9rLCBiZWNhdXNlIG5nMi1kcmFndWxhIGRvZXNuJ3QgdXNlIHRoZW0uXG4gKi9cbmV4cG9ydCBjbGFzcyBNb2NrRHJha2UgaW1wbGVtZW50cyBEcmFrZVdpdGhNb2RlbHMge1xuICAvKipcbiAgICogQHBhcmFtIGNvbnRhaW5lcnMgQSBsaXN0IG9mIGNvbnRhaW5lciBlbGVtZW50cy5cbiAgICogQHBhcmFtIG9wdGlvbnMgVGhlc2Ugd2lsbCBOT1QgYmUgdXNlZC4gQXQgYWxsLlxuICAgKiBAcGFyYW0gbW9kZWxzIE5vbnN0YW5kYXJkLCBidXQgdXNlZnVsIGZvciB0ZXN0aW5nIHVzaW5nIGBuZXcgTW9ja0RyYWtlKClgIGRpcmVjdGx5LlxuICAgKiAgICAgICAgICAgICAgIE5vdGUsIGRlZmF1bHQgdmFsdWUgaXMgdW5kZWZpbmVkLCBsaWtlIGEgcmVhbCBEcmFrZS4gRG9uJ3QgY2hhbmdlIHRoYXQuXG4gICAqL1xuICBjb25zdHJ1Y3RvcihcbiAgICBwdWJsaWMgY29udGFpbmVyczogRWxlbWVudFtdID0gW10sXG4gICAgcHVibGljIG9wdGlvbnM6IERyYWd1bGFPcHRpb25zID0ge30sXG4gICAgcHVibGljIG1vZGVscz86IGFueVtdW11cbiAgKSB7fVxuXG4gIC8qIERvZXNuJ3QgcmVwcmVzZW50IGFueXRoaW5nIG1lYW5pbmdmdWwuICovXG4gIGRyYWdnaW5nOiBib29sZWFuID0gZmFsc2U7XG5cbiAgLyogRG9lcyBub3RoaW5nIHVzZWZ1bC4gKi9cbiAgc3RhcnQoaXRlbTogRWxlbWVudCk6IGFueSB7XG4gICAgdGhpcy5kcmFnZ2luZyA9IHRydWU7XG4gIH1cbiAgLyogRG9lcyBub3RoaW5nIHVzZWZ1bC4gKi9cbiAgZW5kKCk6IGFueSB7XG4gICAgdGhpcy5kcmFnZ2luZyA9IGZhbHNlO1xuICB9XG4gIC8qIERvZXMgbm90aGluZyB1c2VmdWwuICovXG4gIGNhbmNlbChyZXZlcnQ6IGJvb2xlYW4pOiBhbnk7XG4gIGNhbmNlbCgpOiBhbnk7XG4gIGNhbmNlbChyZXZlcnQ/OiBhbnkpIHtcbiAgICB0aGlzLmRyYWdnaW5nID0gZmFsc2U7XG4gIH1cbiAgLyogRG9lcyBub3RoaW5nIHVzZWZ1bC4gKi9cbiAgcmVtb3ZlKCk6IGFueSB7XG4gICAgdGhpcy5kcmFnZ2luZyA9IGZhbHNlO1xuICB9XG5cbiAgLy8gQmFzaWMgYnV0IGZ1bGx5IGZ1bmN0aW9uYWwgZXZlbnQgZW1pdHRlciBzaGltXG4gIHByaXZhdGUgZW1pdHRlciQgPSBuZXcgU3ViamVjdDx7IGV2ZW50VHlwZTogRXZlbnRUeXBlcywgYXJnczogYW55W10gfT4oKTtcblxuICBwcml2YXRlIHN1YnMgPSBuZXcgU3Vic2NyaXB0aW9uKCk7XG5cbiAgb24oZXZlbnQ6IHN0cmluZywgY2FsbGJhY2s6IEZ1bmN0aW9uKTogYW55IHtcbiAgICB0aGlzLnN1YnMuYWRkKHRoaXMuZW1pdHRlciRcbiAgICAgIC5waXBlKFxuICAgICAgICBmaWx0ZXIoKHsgZXZlbnRUeXBlIH0pID0+IGV2ZW50VHlwZSA9PT0gZXZlbnQpXG4gICAgICApXG4gICAgICAuc3Vic2NyaWJlKCh7IGFyZ3MgfSkgPT4ge1xuICAgICAgICBjYWxsYmFjayguLi5hcmdzKTtcbiAgICAgIH0pKTtcbiAgfVxuXG4gIGRlc3Ryb3koKTogYW55IHtcbiAgICB0aGlzLnN1YnMudW5zdWJzY3JpYmUoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGlzIGlzIHRoZSBtb3N0IHVzZWZ1bCBtZXRob2QuIFlvdSBjYW4gdXNlIGl0IHRvIG1hbnVhbGx5IGZpcmUgZXZlbnRzIHRoYXQgd291bGQgbm9ybWFsbHlcbiAgICogYmUgZmlyZWQgYnkgYSByZWFsIGRyYWtlLlxuICAgKlxuICAgKiBZb3UncmUgbGlrZWx5IG1vc3QgaW50ZXJlc3RlZCBpbiBmaXJpbmcgYGRyYWdgLCBgcmVtb3ZlYCBhbmQgYGRyb3BgLCB0aGUgdGhyZWUgZXZlbnRzXG4gICAqIERyYWd1bGFTZXJ2aWNlIHVzZXMgdG8gaW1wbGVtZW50IFtkcmFndWxhTW9kZWxdLlxuICAgKlxuICAgKiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL2JldmFjcXVhL2RyYWd1bGEjZHJha2Vvbi1ldmVudHMgZm9yIHdoYXQgeW91IHNob3VsZCBlbWl0IChhbmQgaW4gd2hhdCBvcmRlcikuXG4gICAqXG4gICAqIChOb3RlIGFsc28sIGZpcmluZyBkcm9wTW9kZWwgYW5kIHJlbW92ZU1vZGVsIHdvbid0IHdvcmsuIFlvdSB3b3VsZCBoYXZlIHRvIG1vY2sgRHJhZ3VsYVNlcnZpY2UgZm9yIHRoYXQuKVxuICAgKi9cbiAgZW1pdChldmVudFR5cGU6IEV2ZW50VHlwZXMsIC4uLmFyZ3M6IGFueVtdKSB7XG4gICAgdGhpcy5lbWl0dGVyJC5uZXh0KHsgZXZlbnRUeXBlLCBhcmdzIH0pXG4gIH1cblxufVxuIl19","import { __decorate, __param } from 'tslib';\nimport { isPlatformServer, DOCUMENT, CommonModule } from '@angular/common';\nimport { InjectionToken, EventEmitter, SecurityContext, ElementRef, Inject, PLATFORM_ID, Renderer2, NgZone, Input, Output, Component, ViewEncapsulation, forwardRef, NgModule } from '@angular/core';\nimport { DomSanitizer } from '@angular/platform-browser';\nimport { NG_VALUE_ACCESSOR, NG_VALIDATORS } from '@angular/forms';\n\nimport * as ɵngcc0 from '@angular/core';\nimport * as ɵngcc1 from '@angular/platform-browser';\nimport * as ɵngcc2 from '@angular/common';\n\nconst _c0 = [[[\"\", \"quill-editor-toolbar\", \"\"]]];\nconst _c1 = [\"[quill-editor-toolbar]\"];\nconst defaultModules = {\n    toolbar: [\n        ['bold', 'italic', 'underline', 'strike'],\n        ['blockquote', 'code-block'],\n        [{ header: 1 }, { header: 2 }],\n        [{ list: 'ordered' }, { list: 'bullet' }],\n        [{ script: 'sub' }, { script: 'super' }],\n        [{ indent: '-1' }, { indent: '+1' }],\n        [{ direction: 'rtl' }],\n        [{ size: ['small', false, 'large', 'huge'] }],\n        [{ header: [1, 2, 3, 4, 5, 6, false] }],\n        [\n            { color: [] },\n            { background: [] }\n        ],\n        [{ font: [] }],\n        [{ align: [] }],\n        ['clean'],\n        ['link', 'image', 'video'] // link and image, video\n    ]\n};\n\nconst QUILL_CONFIG_TOKEN = new InjectionToken('config');\n\nconst getFormat = (format, configFormat) => {\n    const passedFormat = format || configFormat;\n    return passedFormat || 'html';\n};\n\nvar QuillEditorComponent_1;\nlet Quill = null;\nlet QuillEditorComponent = QuillEditorComponent_1 = class QuillEditorComponent {\n    constructor(elementRef, domSanitizer, doc, platformId, renderer, zone, config) {\n        this.elementRef = elementRef;\n        this.domSanitizer = domSanitizer;\n        this.doc = doc;\n        this.platformId = platformId;\n        this.renderer = renderer;\n        this.zone = zone;\n        this.config = config;\n        this.required = false;\n        this.customToolbarPosition = 'top';\n        this.sanitize = false;\n        this.styles = null;\n        this.strict = true;\n        this.customOptions = [];\n        this.preserveWhitespace = false;\n        this.onEditorCreated = new EventEmitter();\n        this.onEditorChanged = new EventEmitter();\n        this.onContentChanged = new EventEmitter();\n        this.onSelectionChanged = new EventEmitter();\n        this.onFocus = new EventEmitter();\n        this.onBlur = new EventEmitter();\n        this.disabled = false; // used to store initial value before ViewInit\n        this.valueGetter = (quillEditor, editorElement) => {\n            let html = editorElement.querySelector('.ql-editor').innerHTML;\n            if (html === '<p><br></p>' || html === '<div><br></div>') {\n                html = null;\n            }\n            let modelValue = html;\n            const format = getFormat(this.format, this.config.format);\n            if (format === 'text') {\n                modelValue = quillEditor.getText();\n            }\n            else if (format === 'object') {\n                modelValue = quillEditor.getContents();\n            }\n            else if (format === 'json') {\n                try {\n                    modelValue = JSON.stringify(quillEditor.getContents());\n                }\n                catch (e) {\n                    modelValue = quillEditor.getText();\n                }\n            }\n            return modelValue;\n        };\n        this.valueSetter = (quillEditor, value) => {\n            const format = getFormat(this.format, this.config.format);\n            if (format === 'html') {\n                if (this.sanitize) {\n                    value = this.domSanitizer.sanitize(SecurityContext.HTML, value);\n                }\n                return quillEditor.clipboard.convert(value);\n            }\n            else if (format === 'json') {\n                try {\n                    return JSON.parse(value);\n                }\n                catch (e) {\n                    return [{ insert: value }];\n                }\n            }\n            return value;\n        };\n        this.selectionChangeHandler = (range, oldRange, source) => {\n            const shouldTriggerOnModelTouched = !range && this.onModelTouched;\n            // only emit changes when there's any listener\n            if (!this.onBlur.observers.length &&\n                !this.onFocus.observers.length &&\n                !this.onSelectionChanged.observers.length &&\n                !shouldTriggerOnModelTouched) {\n                return;\n            }\n            this.zone.run(() => {\n                if (range === null) {\n                    this.onBlur.emit({\n                        editor: this.quillEditor,\n                        source\n                    });\n                }\n                else if (oldRange === null) {\n                    this.onFocus.emit({\n                        editor: this.quillEditor,\n                        source\n                    });\n                }\n                this.onSelectionChanged.emit({\n                    editor: this.quillEditor,\n                    oldRange,\n                    range,\n                    source\n                });\n                if (shouldTriggerOnModelTouched) {\n                    this.onModelTouched();\n                }\n            });\n        };\n        this.textChangeHandler = (delta, oldDelta, source) => {\n            // only emit changes emitted by user interactions\n            const text = this.quillEditor.getText();\n            const content = this.quillEditor.getContents();\n            let html = this.editorElem.querySelector('.ql-editor').innerHTML;\n            if (html === '<p><br></p>' || html === '<div><br></div>') {\n                html = null;\n            }\n            const trackChanges = this.trackChanges || this.config.trackChanges;\n            const shouldTriggerOnModelChange = (source === Quill.sources.USER || trackChanges && trackChanges === 'all') && this.onModelChange;\n            // only emit changes when there's any listener\n            if (!this.onContentChanged.observers.length && !shouldTriggerOnModelChange) {\n                return;\n            }\n            this.zone.run(() => {\n                if (shouldTriggerOnModelChange) {\n                    this.onModelChange(this.valueGetter(this.quillEditor, this.editorElem));\n                }\n                this.onContentChanged.emit({\n                    content,\n                    delta,\n                    editor: this.quillEditor,\n                    html,\n                    oldDelta,\n                    source,\n                    text\n                });\n            });\n        };\n        this.editorChangeHandler = (event, current, old, source) => {\n            // only emit changes when there's any listener\n            if (!this.onEditorChanged.observers.length) {\n                return;\n            }\n            // only emit changes emitted by user interactions\n            if (event === 'text-change') {\n                const text = this.quillEditor.getText();\n                const content = this.quillEditor.getContents();\n                let html = this.editorElem.querySelector('.ql-editor').innerHTML;\n                if (html === '<p><br></p>' || html === '<div><br></div>') {\n                    html = null;\n                }\n                this.zone.run(() => {\n                    this.onEditorChanged.emit({\n                        content,\n                        delta: current,\n                        editor: this.quillEditor,\n                        event,\n                        html,\n                        oldDelta: old,\n                        source,\n                        text\n                    });\n                });\n            }\n            else {\n                this.onEditorChanged.emit({\n                    editor: this.quillEditor,\n                    event,\n                    oldRange: old,\n                    range: current,\n                    source\n                });\n            }\n        };\n    }\n    static normalizeClassNames(classes) {\n        const classList = classes.trim().split(' ');\n        return classList.reduce((prev, cur) => {\n            const trimmed = cur.trim();\n            if (trimmed) {\n                prev.push(trimmed);\n            }\n            return prev;\n        }, []);\n    }\n    onModelChange(_modelValue) { }\n    onModelTouched() { }\n    ngAfterViewInit() {\n        if (isPlatformServer(this.platformId)) {\n            return;\n        }\n        if (!Quill) {\n            this.zone.runOutsideAngular(() => {\n                Quill = require('quill');\n            });\n        }\n        this.elementRef.nativeElement.insertAdjacentHTML(this.customToolbarPosition === 'top' ? 'beforeend' : 'afterbegin', this.preserveWhitespace ? '<pre quill-editor-element></pre>' : '<div quill-editor-element></div>');\n        this.editorElem = this.elementRef.nativeElement.querySelector('[quill-editor-element]');\n        const toolbarElem = this.elementRef.nativeElement.querySelector('[quill-editor-toolbar]');\n        const modules = Object.assign({}, this.modules || (this.config.modules || defaultModules));\n        if (toolbarElem) {\n            modules.toolbar = toolbarElem;\n        }\n        else if (modules.toolbar === undefined) {\n            modules.toolbar = defaultModules.toolbar;\n        }\n        let placeholder = this.placeholder !== undefined ? this.placeholder : this.config.placeholder;\n        if (placeholder === undefined) {\n            placeholder = 'Insert text here ...';\n        }\n        if (this.styles) {\n            Object.keys(this.styles).forEach((key) => {\n                this.renderer.setStyle(this.editorElem, key, this.styles[key]);\n            });\n        }\n        if (this.classes) {\n            this.addClasses(this.classes);\n        }\n        this.customOptions.forEach((customOption) => {\n            const newCustomOption = Quill.import(customOption.import);\n            newCustomOption.whitelist = customOption.whitelist;\n            Quill.register(newCustomOption, true);\n        });\n        let bounds = this.bounds && this.bounds === 'self' ? this.editorElem : this.bounds;\n        if (!bounds) {\n            bounds = this.config.bounds ? this.config.bounds : this.doc.body;\n        }\n        let debug = this.debug;\n        if (!debug && debug !== false && this.config.debug) {\n            debug = this.config.debug;\n        }\n        let readOnly = this.readOnly;\n        if (!readOnly && this.readOnly !== false) {\n            readOnly = this.config.readOnly !== undefined ? this.config.readOnly : false;\n        }\n        let scrollingContainer = this.scrollingContainer;\n        if (!scrollingContainer && this.scrollingContainer !== null) {\n            scrollingContainer = this.config.scrollingContainer === null || this.config.scrollingContainer ? this.config.scrollingContainer : null;\n        }\n        let formats = this.formats;\n        if (!formats && formats === undefined) {\n            formats = this.config.formats ? [...this.config.formats] : (this.config.formats === null ? null : undefined);\n        }\n        this.zone.runOutsideAngular(() => {\n            this.quillEditor = new Quill(this.editorElem, {\n                bounds,\n                debug,\n                formats,\n                modules,\n                placeholder,\n                readOnly,\n                scrollingContainer,\n                strict: this.strict,\n                theme: this.theme || (this.config.theme ? this.config.theme : 'snow')\n            });\n        });\n        if (this.content) {\n            const format = getFormat(this.format, this.config.format);\n            if (format === 'object') {\n                this.quillEditor.setContents(this.content, 'silent');\n            }\n            else if (format === 'text') {\n                this.quillEditor.setText(this.content, 'silent');\n            }\n            else if (format === 'json') {\n                try {\n                    this.quillEditor.setContents(JSON.parse(this.content), 'silent');\n                }\n                catch (e) {\n                    this.quillEditor.setText(this.content, 'silent');\n                }\n            }\n            else {\n                if (this.sanitize) {\n                    this.content = this.domSanitizer.sanitize(SecurityContext.HTML, this.content);\n                }\n                const contents = this.quillEditor.clipboard.convert(this.content);\n                this.quillEditor.setContents(contents, 'silent');\n            }\n            this.quillEditor.history.clear();\n        }\n        // initialize disabled status based on this.disabled as default value\n        this.setDisabledState();\n        // triggered if selection or text changed\n        this.quillEditor.on('editor-change', this.editorChangeHandler);\n        // mark model as touched if editor lost focus\n        this.quillEditor.on('selection-change', this.selectionChangeHandler);\n        // update model if text changes\n        this.quillEditor.on('text-change', this.textChangeHandler);\n        // trigger created in a timeout to avoid changed models after checked\n        // if you are using the editor api in created output to change the editor content\n        setTimeout(() => this.onEditorCreated.emit(this.quillEditor));\n    }\n    ngOnDestroy() {\n        if (this.quillEditor) {\n            this.quillEditor.off('selection-change', this.selectionChangeHandler);\n            this.quillEditor.off('text-change', this.textChangeHandler);\n            this.quillEditor.off('editor-change', this.editorChangeHandler);\n        }\n    }\n    ngOnChanges(changes) {\n        if (!this.quillEditor) {\n            return;\n        }\n        // tslint:disable:no-string-literal\n        if (changes['readOnly']) {\n            this.quillEditor.enable(!changes['readOnly'].currentValue);\n        }\n        if (changes['placeholder']) {\n            this.quillEditor.root.dataset.placeholder =\n                changes['placeholder'].currentValue;\n        }\n        if (changes['styles']) {\n            const currentStyling = changes['styles'].currentValue;\n            const previousStyling = changes['styles'].previousValue;\n            if (previousStyling) {\n                Object.keys(previousStyling).forEach((key) => {\n                    this.renderer.removeStyle(this.editorElem, key);\n                });\n            }\n            if (currentStyling) {\n                Object.keys(currentStyling).forEach((key) => {\n                    this.renderer.setStyle(this.editorElem, key, this.styles[key]);\n                });\n            }\n        }\n        if (changes['classes']) {\n            const currentClasses = changes['classes'].currentValue;\n            const previousClasses = changes['classes'].previousValue;\n            if (previousClasses) {\n                this.removeClasses(previousClasses);\n            }\n            if (currentClasses) {\n                this.addClasses(currentClasses);\n            }\n        }\n        // tslint:enable:no-string-literal\n    }\n    addClasses(classList) {\n        QuillEditorComponent_1.normalizeClassNames(classList).forEach((c) => {\n            this.renderer.addClass(this.editorElem, c);\n        });\n    }\n    removeClasses(classList) {\n        QuillEditorComponent_1.normalizeClassNames(classList).forEach((c) => {\n            this.renderer.removeClass(this.editorElem, c);\n        });\n    }\n    writeValue(currentValue) {\n        this.content = currentValue;\n        const format = getFormat(this.format, this.config.format);\n        if (this.quillEditor) {\n            if (currentValue) {\n                if (format === 'text') {\n                    this.quillEditor.setText(currentValue);\n                }\n                else {\n                    this.quillEditor.setContents(this.valueSetter(this.quillEditor, this.content));\n                }\n                return;\n            }\n            this.quillEditor.setText('');\n        }\n    }\n    setDisabledState(isDisabled = this.disabled) {\n        // store initial value to set appropriate disabled status after ViewInit\n        this.disabled = isDisabled;\n        if (this.quillEditor) {\n            if (isDisabled) {\n                this.quillEditor.disable();\n                this.renderer.setAttribute(this.elementRef.nativeElement, 'disabled', 'disabled');\n            }\n            else {\n                if (!this.readOnly) {\n                    this.quillEditor.enable();\n                }\n                this.renderer.removeAttribute(this.elementRef.nativeElement, 'disabled');\n            }\n        }\n    }\n    registerOnChange(fn) {\n        this.onModelChange = fn;\n    }\n    registerOnTouched(fn) {\n        this.onModelTouched = fn;\n    }\n    validate() {\n        if (!this.quillEditor) {\n            return null;\n        }\n        const err = {};\n        let valid = true;\n        const textLength = this.quillEditor.getText().trim().length;\n        if (this.minLength && textLength && textLength < this.minLength) {\n            err.minLengthError = {\n                given: textLength,\n                minLength: this.minLength\n            };\n            valid = false;\n        }\n        if (this.maxLength && textLength > this.maxLength) {\n            err.maxLengthError = {\n                given: textLength,\n                maxLength: this.maxLength\n            };\n            valid = false;\n        }\n        if (this.required && !textLength) {\n            err.requiredError = {\n                empty: true\n            };\n            valid = false;\n        }\n        return valid ? null : err;\n    }\n};\nQuillEditorComponent.ɵfac = function QuillEditorComponent_Factory(t) { return new (t || QuillEditorComponent)(ɵngcc0.ɵɵdirectiveInject(ElementRef), ɵngcc0.ɵɵdirectiveInject(DomSanitizer), ɵngcc0.ɵɵdirectiveInject(DOCUMENT), ɵngcc0.ɵɵdirectiveInject(PLATFORM_ID), ɵngcc0.ɵɵdirectiveInject(Renderer2), ɵngcc0.ɵɵdirectiveInject(NgZone), ɵngcc0.ɵɵdirectiveInject(QUILL_CONFIG_TOKEN)); };\nQuillEditorComponent.ɵcmp = ɵngcc0.ɵɵdefineComponent({ type: QuillEditorComponent, selectors: [[\"quill-editor\"]], inputs: { required: \"required\", customToolbarPosition: \"customToolbarPosition\", sanitize: \"sanitize\", styles: \"styles\", strict: \"strict\", customOptions: \"customOptions\", preserveWhitespace: \"preserveWhitespace\", valueGetter: \"valueGetter\", valueSetter: \"valueSetter\", format: \"format\", theme: \"theme\", modules: \"modules\", debug: \"debug\", readOnly: \"readOnly\", placeholder: \"placeholder\", maxLength: \"maxLength\", minLength: \"minLength\", formats: \"formats\", scrollingContainer: \"scrollingContainer\", bounds: \"bounds\", trackChanges: \"trackChanges\", classes: \"classes\" }, outputs: { onEditorCreated: \"onEditorCreated\", onEditorChanged: \"onEditorChanged\", onContentChanged: \"onContentChanged\", onSelectionChanged: \"onSelectionChanged\", onFocus: \"onFocus\", onBlur: \"onBlur\" }, features: [ɵngcc0.ɵɵProvidersFeature([\n            {\n                multi: true,\n                provide: NG_VALUE_ACCESSOR,\n                // eslint-disable-next-line @typescript-eslint/no-use-before-define\n                useExisting: forwardRef(() => QuillEditorComponent_1)\n            },\n            {\n                multi: true,\n                provide: NG_VALIDATORS,\n                // eslint-disable-next-line @typescript-eslint/no-use-before-define\n                useExisting: forwardRef(() => QuillEditorComponent_1)\n            }\n        ]), ɵngcc0.ɵɵNgOnChangesFeature], ngContentSelectors: _c1, decls: 1, vars: 0, template: function QuillEditorComponent_Template(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵprojectionDef(_c0);\n        ɵngcc0.ɵɵprojection(0);\n    } }, encapsulation: 2 });\nQuillEditorComponent.ctorParameters = () => [\n    { type: ElementRef, decorators: [{ type: Inject, args: [ElementRef,] }] },\n    { type: DomSanitizer, decorators: [{ type: Inject, args: [DomSanitizer,] }] },\n    { type: undefined, decorators: [{ type: Inject, args: [DOCUMENT,] }] },\n    { type: undefined, decorators: [{ type: Inject, args: [PLATFORM_ID,] }] },\n    { type: Renderer2, decorators: [{ type: Inject, args: [Renderer2,] }] },\n    { type: NgZone, decorators: [{ type: Inject, args: [NgZone,] }] },\n    { type: undefined, decorators: [{ type: Inject, args: [QUILL_CONFIG_TOKEN,] }] }\n];\n__decorate([\n    Input()\n], QuillEditorComponent.prototype, \"format\", void 0);\n__decorate([\n    Input()\n], QuillEditorComponent.prototype, \"theme\", void 0);\n__decorate([\n    Input()\n], QuillEditorComponent.prototype, \"modules\", void 0);\n__decorate([\n    Input()\n], QuillEditorComponent.prototype, \"debug\", void 0);\n__decorate([\n    Input()\n], QuillEditorComponent.prototype, \"readOnly\", void 0);\n__decorate([\n    Input()\n], QuillEditorComponent.prototype, \"placeholder\", void 0);\n__decorate([\n    Input()\n], QuillEditorComponent.prototype, \"maxLength\", void 0);\n__decorate([\n    Input()\n], QuillEditorComponent.prototype, \"minLength\", void 0);\n__decorate([\n    Input()\n], QuillEditorComponent.prototype, \"required\", void 0);\n__decorate([\n    Input()\n], QuillEditorComponent.prototype, \"formats\", void 0);\n__decorate([\n    Input()\n], QuillEditorComponent.prototype, \"customToolbarPosition\", void 0);\n__decorate([\n    Input()\n], QuillEditorComponent.prototype, \"sanitize\", void 0);\n__decorate([\n    Input()\n], QuillEditorComponent.prototype, \"styles\", void 0);\n__decorate([\n    Input()\n], QuillEditorComponent.prototype, \"strict\", void 0);\n__decorate([\n    Input()\n], QuillEditorComponent.prototype, \"scrollingContainer\", void 0);\n__decorate([\n    Input()\n], QuillEditorComponent.prototype, \"bounds\", void 0);\n__decorate([\n    Input()\n], QuillEditorComponent.prototype, \"customOptions\", void 0);\n__decorate([\n    Input()\n], QuillEditorComponent.prototype, \"trackChanges\", void 0);\n__decorate([\n    Input()\n], QuillEditorComponent.prototype, \"preserveWhitespace\", void 0);\n__decorate([\n    Input()\n], QuillEditorComponent.prototype, \"classes\", void 0);\n__decorate([\n    Output()\n], QuillEditorComponent.prototype, \"onEditorCreated\", void 0);\n__decorate([\n    Output()\n], QuillEditorComponent.prototype, \"onEditorChanged\", void 0);\n__decorate([\n    Output()\n], QuillEditorComponent.prototype, \"onContentChanged\", void 0);\n__decorate([\n    Output()\n], QuillEditorComponent.prototype, \"onSelectionChanged\", void 0);\n__decorate([\n    Output()\n], QuillEditorComponent.prototype, \"onFocus\", void 0);\n__decorate([\n    Output()\n], QuillEditorComponent.prototype, \"onBlur\", void 0);\n__decorate([\n    Input()\n], QuillEditorComponent.prototype, \"valueGetter\", void 0);\n__decorate([\n    Input()\n], QuillEditorComponent.prototype, \"valueSetter\", void 0);\nQuillEditorComponent = QuillEditorComponent_1 = __decorate([ __param(0, Inject(ElementRef)),\n    __param(1, Inject(DomSanitizer)),\n    __param(2, Inject(DOCUMENT)),\n    __param(3, Inject(PLATFORM_ID)),\n    __param(4, Inject(Renderer2)),\n    __param(5, Inject(NgZone)),\n    __param(6, Inject(QUILL_CONFIG_TOKEN))\n], QuillEditorComponent);\n\nlet QuillViewHTMLComponent = class QuillViewHTMLComponent {\n    constructor(sanitizer, config) {\n        this.sanitizer = sanitizer;\n        this.config = config;\n        this.innerHTML = '';\n        this.themeClass = 'ql-snow';\n        this.content = '';\n    }\n    ngOnChanges(changes) {\n        if (changes.theme) {\n            const theme = changes.theme.currentValue || (this.config.theme ? this.config.theme : 'snow');\n            this.themeClass = `ql-${theme} ngx-quill-view-html`;\n        }\n        else if (!this.theme) {\n            const theme = this.config.theme ? this.config.theme : 'snow';\n            this.themeClass = `ql-${theme} ngx-quill-view-html`;\n        }\n        if (changes.content) {\n            this.innerHTML = this.sanitizer.bypassSecurityTrustHtml(changes.content.currentValue);\n        }\n    }\n};\nQuillViewHTMLComponent.ɵfac = function QuillViewHTMLComponent_Factory(t) { return new (t || QuillViewHTMLComponent)(ɵngcc0.ɵɵdirectiveInject(DomSanitizer), ɵngcc0.ɵɵdirectiveInject(QUILL_CONFIG_TOKEN)); };\nQuillViewHTMLComponent.ɵcmp = ɵngcc0.ɵɵdefineComponent({ type: QuillViewHTMLComponent, selectors: [[\"quill-view-html\"]], inputs: { content: \"content\", theme: \"theme\" }, features: [ɵngcc0.ɵɵNgOnChangesFeature], decls: 2, vars: 2, consts: [[1, \"ql-container\", 3, \"ngClass\"], [1, \"ql-editor\", 3, \"innerHTML\"]], template: function QuillViewHTMLComponent_Template(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵelementStart(0, \"div\", 0);\n        ɵngcc0.ɵɵelement(1, \"div\", 1);\n        ɵngcc0.ɵɵelementEnd();\n    } if (rf & 2) {\n        ɵngcc0.ɵɵproperty(\"ngClass\", ctx.themeClass);\n        ɵngcc0.ɵɵadvance(1);\n        ɵngcc0.ɵɵproperty(\"innerHTML\", ctx.innerHTML, ɵngcc0.ɵɵsanitizeHtml);\n    } }, directives: [ɵngcc2.NgClass], styles: [\"\\n.ql-container.ngx-quill-view-html {\\n  border: 0;\\n}\\n\"], encapsulation: 2 });\nQuillViewHTMLComponent.ctorParameters = () => [\n    { type: DomSanitizer, decorators: [{ type: Inject, args: [DomSanitizer,] }] },\n    { type: undefined, decorators: [{ type: Inject, args: [QUILL_CONFIG_TOKEN,] }] }\n];\n__decorate([\n    Input()\n], QuillViewHTMLComponent.prototype, \"content\", void 0);\n__decorate([\n    Input()\n], QuillViewHTMLComponent.prototype, \"theme\", void 0);\nQuillViewHTMLComponent = __decorate([ __param(0, Inject(DomSanitizer)),\n    __param(1, Inject(QUILL_CONFIG_TOKEN))\n], QuillViewHTMLComponent);\n\nlet Quill$1 = null;\nlet QuillViewComponent = class QuillViewComponent {\n    constructor(platformId, config, renderer, elementRef) {\n        this.platformId = platformId;\n        this.config = config;\n        this.renderer = renderer;\n        this.elementRef = elementRef;\n        this.strict = true;\n        this.customOptions = [];\n        this.preserveWhitespace = false;\n        this.valueSetter = (quillEditor, value) => {\n            const format = getFormat(this.format, this.config.format);\n            let content = value;\n            if (format === 'html' || format === 'text') {\n                content = quillEditor.clipboard.convert(value);\n            }\n            else if (format === 'json') {\n                try {\n                    content = JSON.parse(value);\n                }\n                catch (e) {\n                    content = [{ insert: value }];\n                }\n            }\n            quillEditor.setContents(content);\n        };\n    }\n    ngOnChanges(changes) {\n        if (!this.quillEditor) {\n            return;\n        }\n        if (changes.content) {\n            this.valueSetter(this.quillEditor, changes.content.currentValue);\n        }\n    }\n    ngAfterViewInit() {\n        if (isPlatformServer(this.platformId)) {\n            return;\n        }\n        if (!Quill$1) {\n            Quill$1 = require('quill');\n        }\n        const modules = Object.assign({}, this.modules || (this.config.modules || defaultModules));\n        modules.toolbar = false;\n        this.customOptions.forEach((customOption) => {\n            const newCustomOption = Quill$1.import(customOption.import);\n            newCustomOption.whitelist = customOption.whitelist;\n            Quill$1.register(newCustomOption, true);\n        });\n        let debug = this.debug;\n        if (!debug && debug !== false && this.config.debug) {\n            debug = this.config.debug;\n        }\n        let formats = this.formats;\n        if (!formats && formats === undefined) {\n            formats = this.config.formats ? Object.assign({}, this.config.formats) : (this.config.formats === null ? null : undefined);\n        }\n        const theme = this.theme || (this.config.theme ? this.config.theme : 'snow');\n        this.elementRef.nativeElement.insertAdjacentHTML('afterbegin', this.preserveWhitespace ? '<pre quill-view-element></pre>' : '<div quill-view-element></div>');\n        this.editorElem = this.elementRef.nativeElement.querySelector('[quill-view-element]');\n        this.quillEditor = new Quill$1(this.editorElem, {\n            debug,\n            formats,\n            modules,\n            readOnly: true,\n            strict: this.strict,\n            theme\n        });\n        this.renderer.addClass(this.editorElem, 'ngx-quill-view');\n        if (this.content) {\n            this.valueSetter(this.quillEditor, this.content);\n        }\n    }\n};\nQuillViewComponent.ɵfac = function QuillViewComponent_Factory(t) { return new (t || QuillViewComponent)(ɵngcc0.ɵɵdirectiveInject(PLATFORM_ID), ɵngcc0.ɵɵdirectiveInject(QUILL_CONFIG_TOKEN), ɵngcc0.ɵɵdirectiveInject(Renderer2), ɵngcc0.ɵɵdirectiveInject(ElementRef)); };\nQuillViewComponent.ɵcmp = ɵngcc0.ɵɵdefineComponent({ type: QuillViewComponent, selectors: [[\"quill-view\"]], inputs: { strict: \"strict\", customOptions: \"customOptions\", preserveWhitespace: \"preserveWhitespace\", format: \"format\", theme: \"theme\", modules: \"modules\", debug: \"debug\", formats: \"formats\", content: \"content\" }, features: [ɵngcc0.ɵɵNgOnChangesFeature], decls: 0, vars: 0, template: function QuillViewComponent_Template(rf, ctx) { }, styles: [\"\\n.ql-container.ngx-quill-view {\\n  border: 0;\\n}\\n\"], encapsulation: 2 });\nQuillViewComponent.ctorParameters = () => [\n    { type: undefined, decorators: [{ type: Inject, args: [PLATFORM_ID,] }] },\n    { type: undefined, decorators: [{ type: Inject, args: [QUILL_CONFIG_TOKEN,] }] },\n    { type: Renderer2, decorators: [{ type: Inject, args: [Renderer2,] }] },\n    { type: ElementRef, decorators: [{ type: Inject, args: [ElementRef,] }] }\n];\n__decorate([\n    Input()\n], QuillViewComponent.prototype, \"format\", void 0);\n__decorate([\n    Input()\n], QuillViewComponent.prototype, \"theme\", void 0);\n__decorate([\n    Input()\n], QuillViewComponent.prototype, \"modules\", void 0);\n__decorate([\n    Input()\n], QuillViewComponent.prototype, \"debug\", void 0);\n__decorate([\n    Input()\n], QuillViewComponent.prototype, \"formats\", void 0);\n__decorate([\n    Input()\n], QuillViewComponent.prototype, \"strict\", void 0);\n__decorate([\n    Input()\n], QuillViewComponent.prototype, \"content\", void 0);\n__decorate([\n    Input()\n], QuillViewComponent.prototype, \"customOptions\", void 0);\n__decorate([\n    Input()\n], QuillViewComponent.prototype, \"preserveWhitespace\", void 0);\nQuillViewComponent = __decorate([ __param(0, Inject(PLATFORM_ID)),\n    __param(1, Inject(QUILL_CONFIG_TOKEN)),\n    __param(2, Inject(Renderer2)),\n    __param(3, Inject(ElementRef))\n], QuillViewComponent);\n\nvar QuillModule_1;\nlet QuillModule = QuillModule_1 = class QuillModule {\n    static forRoot(config) {\n        return {\n            ngModule: QuillModule_1,\n            providers: [\n                {\n                    provide: QUILL_CONFIG_TOKEN,\n                    useValue: config || { modules: defaultModules }\n                }\n            ]\n        };\n    }\n};\nQuillModule.ɵmod = ɵngcc0.ɵɵdefineNgModule({ type: QuillModule });\nQuillModule.ɵinj = ɵngcc0.ɵɵdefineInjector({ factory: function QuillModule_Factory(t) { return new (t || QuillModule)(); }, providers: [], imports: [[CommonModule]] });\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(QuillEditorComponent, [{\n        type: Component,\n        args: [{\n                encapsulation: ViewEncapsulation.None,\n                providers: [\n                    {\n                        multi: true,\n                        provide: NG_VALUE_ACCESSOR,\n                        // eslint-disable-next-line @typescript-eslint/no-use-before-define\n                        useExisting: forwardRef(() => QuillEditorComponent_1)\n                    },\n                    {\n                        multi: true,\n                        provide: NG_VALIDATORS,\n                        // eslint-disable-next-line @typescript-eslint/no-use-before-define\n                        useExisting: forwardRef(() => QuillEditorComponent_1)\n                    }\n                ],\n                selector: 'quill-editor',\n                template: `\n  <ng-content select=\"[quill-editor-toolbar]\"></ng-content>\n`\n            }]\n    }], function () { return [{ type: ɵngcc0.ElementRef, decorators: [{\n                type: Inject,\n                args: [ElementRef]\n            }] }, { type: ɵngcc1.DomSanitizer, decorators: [{\n                type: Inject,\n                args: [DomSanitizer]\n            }] }, { type: undefined, decorators: [{\n                type: Inject,\n                args: [DOCUMENT]\n            }] }, { type: undefined, decorators: [{\n                type: Inject,\n                args: [PLATFORM_ID]\n            }] }, { type: ɵngcc0.Renderer2, decorators: [{\n                type: Inject,\n                args: [Renderer2]\n            }] }, { type: ɵngcc0.NgZone, decorators: [{\n                type: Inject,\n                args: [NgZone]\n            }] }, { type: undefined, decorators: [{\n                type: Inject,\n                args: [QUILL_CONFIG_TOKEN]\n            }] }]; }, { required: [{\n            type: Input\n        }], customToolbarPosition: [{\n            type: Input\n        }], sanitize: [{\n            type: Input\n        }], styles: [{\n            type: Input\n        }], strict: [{\n            type: Input\n        }], customOptions: [{\n            type: Input\n        }], preserveWhitespace: [{\n            type: Input\n        }], onEditorCreated: [{\n            type: Output\n        }], onEditorChanged: [{\n            type: Output\n        }], onContentChanged: [{\n            type: Output\n        }], onSelectionChanged: [{\n            type: Output\n        }], onFocus: [{\n            type: Output\n        }], onBlur: [{\n            type: Output\n        }], valueGetter: [{\n            type: Input\n        }], valueSetter: [{\n            type: Input\n        }], format: [{\n            type: Input\n        }], theme: [{\n            type: Input\n        }], modules: [{\n            type: Input\n        }], debug: [{\n            type: Input\n        }], readOnly: [{\n            type: Input\n        }], placeholder: [{\n            type: Input\n        }], maxLength: [{\n            type: Input\n        }], minLength: [{\n            type: Input\n        }], formats: [{\n            type: Input\n        }], scrollingContainer: [{\n            type: Input\n        }], bounds: [{\n            type: Input\n        }], trackChanges: [{\n            type: Input\n        }], classes: [{\n            type: Input\n        }] }); })();\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(QuillViewHTMLComponent, [{\n        type: Component,\n        args: [{\n                encapsulation: ViewEncapsulation.None,\n                selector: 'quill-view-html',\n                template: `\n  <div class=\"ql-container\" [ngClass]=\"themeClass\">\n    <div class=\"ql-editor\" [innerHTML]=\"innerHTML\">\n    </div>\n  </div>\n`,\n                styles: [`\n.ql-container.ngx-quill-view-html {\n  border: 0;\n}\n`]\n            }]\n    }], function () { return [{ type: ɵngcc1.DomSanitizer, decorators: [{\n                type: Inject,\n                args: [DomSanitizer]\n            }] }, { type: undefined, decorators: [{\n                type: Inject,\n                args: [QUILL_CONFIG_TOKEN]\n            }] }]; }, { content: [{\n            type: Input\n        }], theme: [{\n            type: Input\n        }] }); })();\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(QuillViewComponent, [{\n        type: Component,\n        args: [{\n                encapsulation: ViewEncapsulation.None,\n                selector: 'quill-view',\n                template: `\n`,\n                styles: [`\n.ql-container.ngx-quill-view {\n  border: 0;\n}\n`]\n            }]\n    }], function () { return [{ type: undefined, decorators: [{\n                type: Inject,\n                args: [PLATFORM_ID]\n            }] }, { type: undefined, decorators: [{\n                type: Inject,\n                args: [QUILL_CONFIG_TOKEN]\n            }] }, { type: ɵngcc0.Renderer2, decorators: [{\n                type: Inject,\n                args: [Renderer2]\n            }] }, { type: ɵngcc0.ElementRef, decorators: [{\n                type: Inject,\n                args: [ElementRef]\n            }] }]; }, { strict: [{\n            type: Input\n        }], customOptions: [{\n            type: Input\n        }], preserveWhitespace: [{\n            type: Input\n        }], format: [{\n            type: Input\n        }], theme: [{\n            type: Input\n        }], modules: [{\n            type: Input\n        }], debug: [{\n            type: Input\n        }], formats: [{\n            type: Input\n        }], content: [{\n            type: Input\n        }] }); })();\n(function () { (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(QuillModule, { declarations: function () { return [QuillEditorComponent,\n        QuillViewComponent,\n        QuillViewHTMLComponent]; }, imports: function () { return [CommonModule]; }, exports: function () { return [QuillEditorComponent,\n        QuillViewComponent,\n        QuillViewHTMLComponent]; } }); })();\n/*@__PURE__*/ (function () { ɵngcc0.ɵsetClassMetadata(QuillModule, [{\n        type: NgModule,\n        args: [{\n                declarations: [\n                    QuillEditorComponent,\n                    QuillViewComponent,\n                    QuillViewHTMLComponent\n                ],\n                exports: [QuillEditorComponent, QuillViewComponent, QuillViewHTMLComponent],\n                imports: [CommonModule],\n                providers: []\n            }]\n    }], null, null); })();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { QUILL_CONFIG_TOKEN, QuillEditorComponent, QuillModule, QuillViewComponent, QuillViewHTMLComponent, defaultModules };\n\n//# sourceMappingURL=ngx-quill.js.map","/*!\n * Quill Editor v1.3.7\n * https://quilljs.com/\n * Copyright (c) 2014, Jason Chen\n * Copyright (c) 2013, salesforce.com\n */\n(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Quill\"] = factory();\n\telse\n\t\troot[\"Quill\"] = factory();\n})(typeof self !== 'undefined' ? self : this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 109);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar container_1 = __webpack_require__(17);\nvar format_1 = __webpack_require__(18);\nvar leaf_1 = __webpack_require__(19);\nvar scroll_1 = __webpack_require__(45);\nvar inline_1 = __webpack_require__(46);\nvar block_1 = __webpack_require__(47);\nvar embed_1 = __webpack_require__(48);\nvar text_1 = __webpack_require__(49);\nvar attributor_1 = __webpack_require__(12);\nvar class_1 = __webpack_require__(32);\nvar style_1 = __webpack_require__(33);\nvar store_1 = __webpack_require__(31);\nvar Registry = __webpack_require__(1);\nvar Parchment = {\n    Scope: Registry.Scope,\n    create: Registry.create,\n    find: Registry.find,\n    query: Registry.query,\n    register: Registry.register,\n    Container: container_1.default,\n    Format: format_1.default,\n    Leaf: leaf_1.default,\n    Embed: embed_1.default,\n    Scroll: scroll_1.default,\n    Block: block_1.default,\n    Inline: inline_1.default,\n    Text: text_1.default,\n    Attributor: {\n        Attribute: attributor_1.default,\n        Class: class_1.default,\n        Style: style_1.default,\n        Store: store_1.default,\n    },\n};\nexports.default = Parchment;\n\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ParchmentError = /** @class */ (function (_super) {\n    __extends(ParchmentError, _super);\n    function ParchmentError(message) {\n        var _this = this;\n        message = '[Parchment] ' + message;\n        _this = _super.call(this, message) || this;\n        _this.message = message;\n        _this.name = _this.constructor.name;\n        return _this;\n    }\n    return ParchmentError;\n}(Error));\nexports.ParchmentError = ParchmentError;\nvar attributes = {};\nvar classes = {};\nvar tags = {};\nvar types = {};\nexports.DATA_KEY = '__blot';\nvar Scope;\n(function (Scope) {\n    Scope[Scope[\"TYPE\"] = 3] = \"TYPE\";\n    Scope[Scope[\"LEVEL\"] = 12] = \"LEVEL\";\n    Scope[Scope[\"ATTRIBUTE\"] = 13] = \"ATTRIBUTE\";\n    Scope[Scope[\"BLOT\"] = 14] = \"BLOT\";\n    Scope[Scope[\"INLINE\"] = 7] = \"INLINE\";\n    Scope[Scope[\"BLOCK\"] = 11] = \"BLOCK\";\n    Scope[Scope[\"BLOCK_BLOT\"] = 10] = \"BLOCK_BLOT\";\n    Scope[Scope[\"INLINE_BLOT\"] = 6] = \"INLINE_BLOT\";\n    Scope[Scope[\"BLOCK_ATTRIBUTE\"] = 9] = \"BLOCK_ATTRIBUTE\";\n    Scope[Scope[\"INLINE_ATTRIBUTE\"] = 5] = \"INLINE_ATTRIBUTE\";\n    Scope[Scope[\"ANY\"] = 15] = \"ANY\";\n})(Scope = exports.Scope || (exports.Scope = {}));\nfunction create(input, value) {\n    var match = query(input);\n    if (match == null) {\n        throw new ParchmentError(\"Unable to create \" + input + \" blot\");\n    }\n    var BlotClass = match;\n    var node = \n    // @ts-ignore\n    input instanceof Node || input['nodeType'] === Node.TEXT_NODE ? input : BlotClass.create(value);\n    return new BlotClass(node, value);\n}\nexports.create = create;\nfunction find(node, bubble) {\n    if (bubble === void 0) { bubble = false; }\n    if (node == null)\n        return null;\n    // @ts-ignore\n    if (node[exports.DATA_KEY] != null)\n        return node[exports.DATA_KEY].blot;\n    if (bubble)\n        return find(node.parentNode, bubble);\n    return null;\n}\nexports.find = find;\nfunction query(query, scope) {\n    if (scope === void 0) { scope = Scope.ANY; }\n    var match;\n    if (typeof query === 'string') {\n        match = types[query] || attributes[query];\n        // @ts-ignore\n    }\n    else if (query instanceof Text || query['nodeType'] === Node.TEXT_NODE) {\n        match = types['text'];\n    }\n    else if (typeof query === 'number') {\n        if (query & Scope.LEVEL & Scope.BLOCK) {\n            match = types['block'];\n        }\n        else if (query & Scope.LEVEL & Scope.INLINE) {\n            match = types['inline'];\n        }\n    }\n    else if (query instanceof HTMLElement) {\n        var names = (query.getAttribute('class') || '').split(/\\s+/);\n        for (var i in names) {\n            match = classes[names[i]];\n            if (match)\n                break;\n        }\n        match = match || tags[query.tagName];\n    }\n    if (match == null)\n        return null;\n    // @ts-ignore\n    if (scope & Scope.LEVEL & match.scope && scope & Scope.TYPE & match.scope)\n        return match;\n    return null;\n}\nexports.query = query;\nfunction register() {\n    var Definitions = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        Definitions[_i] = arguments[_i];\n    }\n    if (Definitions.length > 1) {\n        return Definitions.map(function (d) {\n            return register(d);\n        });\n    }\n    var Definition = Definitions[0];\n    if (typeof Definition.blotName !== 'string' && typeof Definition.attrName !== 'string') {\n        throw new ParchmentError('Invalid definition');\n    }\n    else if (Definition.blotName === 'abstract') {\n        throw new ParchmentError('Cannot register abstract class');\n    }\n    types[Definition.blotName || Definition.attrName] = Definition;\n    if (typeof Definition.keyName === 'string') {\n        attributes[Definition.keyName] = Definition;\n    }\n    else {\n        if (Definition.className != null) {\n            classes[Definition.className] = Definition;\n        }\n        if (Definition.tagName != null) {\n            if (Array.isArray(Definition.tagName)) {\n                Definition.tagName = Definition.tagName.map(function (tagName) {\n                    return tagName.toUpperCase();\n                });\n            }\n            else {\n                Definition.tagName = Definition.tagName.toUpperCase();\n            }\n            var tagNames = Array.isArray(Definition.tagName) ? Definition.tagName : [Definition.tagName];\n            tagNames.forEach(function (tag) {\n                if (tags[tag] == null || Definition.className == null) {\n                    tags[tag] = Definition;\n                }\n            });\n        }\n    }\n    return Definition;\n}\nexports.register = register;\n\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar diff = __webpack_require__(51);\nvar equal = __webpack_require__(11);\nvar extend = __webpack_require__(3);\nvar op = __webpack_require__(20);\n\n\nvar NULL_CHARACTER = String.fromCharCode(0);  // Placeholder char for embed in diff()\n\n\nvar Delta = function (ops) {\n  // Assume we are given a well formed ops\n  if (Array.isArray(ops)) {\n    this.ops = ops;\n  } else if (ops != null && Array.isArray(ops.ops)) {\n    this.ops = ops.ops;\n  } else {\n    this.ops = [];\n  }\n};\n\n\nDelta.prototype.insert = function (text, attributes) {\n  var newOp = {};\n  if (text.length === 0) return this;\n  newOp.insert = text;\n  if (attributes != null && typeof attributes === 'object' && Object.keys(attributes).length > 0) {\n    newOp.attributes = attributes;\n  }\n  return this.push(newOp);\n};\n\nDelta.prototype['delete'] = function (length) {\n  if (length <= 0) return this;\n  return this.push({ 'delete': length });\n};\n\nDelta.prototype.retain = function (length, attributes) {\n  if (length <= 0) return this;\n  var newOp = { retain: length };\n  if (attributes != null && typeof attributes === 'object' && Object.keys(attributes).length > 0) {\n    newOp.attributes = attributes;\n  }\n  return this.push(newOp);\n};\n\nDelta.prototype.push = function (newOp) {\n  var index = this.ops.length;\n  var lastOp = this.ops[index - 1];\n  newOp = extend(true, {}, newOp);\n  if (typeof lastOp === 'object') {\n    if (typeof newOp['delete'] === 'number' && typeof lastOp['delete'] === 'number') {\n      this.ops[index - 1] = { 'delete': lastOp['delete'] + newOp['delete'] };\n      return this;\n    }\n    // Since it does not matter if we insert before or after deleting at the same index,\n    // always prefer to insert first\n    if (typeof lastOp['delete'] === 'number' && newOp.insert != null) {\n      index -= 1;\n      lastOp = this.ops[index - 1];\n      if (typeof lastOp !== 'object') {\n        this.ops.unshift(newOp);\n        return this;\n      }\n    }\n    if (equal(newOp.attributes, lastOp.attributes)) {\n      if (typeof newOp.insert === 'string' && typeof lastOp.insert === 'string') {\n        this.ops[index - 1] = { insert: lastOp.insert + newOp.insert };\n        if (typeof newOp.attributes === 'object') this.ops[index - 1].attributes = newOp.attributes\n        return this;\n      } else if (typeof newOp.retain === 'number' && typeof lastOp.retain === 'number') {\n        this.ops[index - 1] = { retain: lastOp.retain + newOp.retain };\n        if (typeof newOp.attributes === 'object') this.ops[index - 1].attributes = newOp.attributes\n        return this;\n      }\n    }\n  }\n  if (index === this.ops.length) {\n    this.ops.push(newOp);\n  } else {\n    this.ops.splice(index, 0, newOp);\n  }\n  return this;\n};\n\nDelta.prototype.chop = function () {\n  var lastOp = this.ops[this.ops.length - 1];\n  if (lastOp && lastOp.retain && !lastOp.attributes) {\n    this.ops.pop();\n  }\n  return this;\n};\n\nDelta.prototype.filter = function (predicate) {\n  return this.ops.filter(predicate);\n};\n\nDelta.prototype.forEach = function (predicate) {\n  this.ops.forEach(predicate);\n};\n\nDelta.prototype.map = function (predicate) {\n  return this.ops.map(predicate);\n};\n\nDelta.prototype.partition = function (predicate) {\n  var passed = [], failed = [];\n  this.forEach(function(op) {\n    var target = predicate(op) ? passed : failed;\n    target.push(op);\n  });\n  return [passed, failed];\n};\n\nDelta.prototype.reduce = function (predicate, initial) {\n  return this.ops.reduce(predicate, initial);\n};\n\nDelta.prototype.changeLength = function () {\n  return this.reduce(function (length, elem) {\n    if (elem.insert) {\n      return length + op.length(elem);\n    } else if (elem.delete) {\n      return length - elem.delete;\n    }\n    return length;\n  }, 0);\n};\n\nDelta.prototype.length = function () {\n  return this.reduce(function (length, elem) {\n    return length + op.length(elem);\n  }, 0);\n};\n\nDelta.prototype.slice = function (start, end) {\n  start = start || 0;\n  if (typeof end !== 'number') end = Infinity;\n  var ops = [];\n  var iter = op.iterator(this.ops);\n  var index = 0;\n  while (index < end && iter.hasNext()) {\n    var nextOp;\n    if (index < start) {\n      nextOp = iter.next(start - index);\n    } else {\n      nextOp = iter.next(end - index);\n      ops.push(nextOp);\n    }\n    index += op.length(nextOp);\n  }\n  return new Delta(ops);\n};\n\n\nDelta.prototype.compose = function (other) {\n  var thisIter = op.iterator(this.ops);\n  var otherIter = op.iterator(other.ops);\n  var ops = [];\n  var firstOther = otherIter.peek();\n  if (firstOther != null && typeof firstOther.retain === 'number' && firstOther.attributes == null) {\n    var firstLeft = firstOther.retain;\n    while (thisIter.peekType() === 'insert' && thisIter.peekLength() <= firstLeft) {\n      firstLeft -= thisIter.peekLength();\n      ops.push(thisIter.next());\n    }\n    if (firstOther.retain - firstLeft > 0) {\n      otherIter.next(firstOther.retain - firstLeft);\n    }\n  }\n  var delta = new Delta(ops);\n  while (thisIter.hasNext() || otherIter.hasNext()) {\n    if (otherIter.peekType() === 'insert') {\n      delta.push(otherIter.next());\n    } else if (thisIter.peekType() === 'delete') {\n      delta.push(thisIter.next());\n    } else {\n      var length = Math.min(thisIter.peekLength(), otherIter.peekLength());\n      var thisOp = thisIter.next(length);\n      var otherOp = otherIter.next(length);\n      if (typeof otherOp.retain === 'number') {\n        var newOp = {};\n        if (typeof thisOp.retain === 'number') {\n          newOp.retain = length;\n        } else {\n          newOp.insert = thisOp.insert;\n        }\n        // Preserve null when composing with a retain, otherwise remove it for inserts\n        var attributes = op.attributes.compose(thisOp.attributes, otherOp.attributes, typeof thisOp.retain === 'number');\n        if (attributes) newOp.attributes = attributes;\n        delta.push(newOp);\n\n        // Optimization if rest of other is just retain\n        if (!otherIter.hasNext() && equal(delta.ops[delta.ops.length - 1], newOp)) {\n          var rest = new Delta(thisIter.rest());\n          return delta.concat(rest).chop();\n        }\n\n      // Other op should be delete, we could be an insert or retain\n      // Insert + delete cancels out\n      } else if (typeof otherOp['delete'] === 'number' && typeof thisOp.retain === 'number') {\n        delta.push(otherOp);\n      }\n    }\n  }\n  return delta.chop();\n};\n\nDelta.prototype.concat = function (other) {\n  var delta = new Delta(this.ops.slice());\n  if (other.ops.length > 0) {\n    delta.push(other.ops[0]);\n    delta.ops = delta.ops.concat(other.ops.slice(1));\n  }\n  return delta;\n};\n\nDelta.prototype.diff = function (other, index) {\n  if (this.ops === other.ops) {\n    return new Delta();\n  }\n  var strings = [this, other].map(function (delta) {\n    return delta.map(function (op) {\n      if (op.insert != null) {\n        return typeof op.insert === 'string' ? op.insert : NULL_CHARACTER;\n      }\n      var prep = (delta === other) ? 'on' : 'with';\n      throw new Error('diff() called ' + prep + ' non-document');\n    }).join('');\n  });\n  var delta = new Delta();\n  var diffResult = diff(strings[0], strings[1], index);\n  var thisIter = op.iterator(this.ops);\n  var otherIter = op.iterator(other.ops);\n  diffResult.forEach(function (component) {\n    var length = component[1].length;\n    while (length > 0) {\n      var opLength = 0;\n      switch (component[0]) {\n        case diff.INSERT:\n          opLength = Math.min(otherIter.peekLength(), length);\n          delta.push(otherIter.next(opLength));\n          break;\n        case diff.DELETE:\n          opLength = Math.min(length, thisIter.peekLength());\n          thisIter.next(opLength);\n          delta['delete'](opLength);\n          break;\n        case diff.EQUAL:\n          opLength = Math.min(thisIter.peekLength(), otherIter.peekLength(), length);\n          var thisOp = thisIter.next(opLength);\n          var otherOp = otherIter.next(opLength);\n          if (equal(thisOp.insert, otherOp.insert)) {\n            delta.retain(opLength, op.attributes.diff(thisOp.attributes, otherOp.attributes));\n          } else {\n            delta.push(otherOp)['delete'](opLength);\n          }\n          break;\n      }\n      length -= opLength;\n    }\n  });\n  return delta.chop();\n};\n\nDelta.prototype.eachLine = function (predicate, newline) {\n  newline = newline || '\\n';\n  var iter = op.iterator(this.ops);\n  var line = new Delta();\n  var i = 0;\n  while (iter.hasNext()) {\n    if (iter.peekType() !== 'insert') return;\n    var thisOp = iter.peek();\n    var start = op.length(thisOp) - iter.peekLength();\n    var index = typeof thisOp.insert === 'string' ?\n      thisOp.insert.indexOf(newline, start) - start : -1;\n    if (index < 0) {\n      line.push(iter.next());\n    } else if (index > 0) {\n      line.push(iter.next(index));\n    } else {\n      if (predicate(line, iter.next(1).attributes || {}, i) === false) {\n        return;\n      }\n      i += 1;\n      line = new Delta();\n    }\n  }\n  if (line.length() > 0) {\n    predicate(line, {}, i);\n  }\n};\n\nDelta.prototype.transform = function (other, priority) {\n  priority = !!priority;\n  if (typeof other === 'number') {\n    return this.transformPosition(other, priority);\n  }\n  var thisIter = op.iterator(this.ops);\n  var otherIter = op.iterator(other.ops);\n  var delta = new Delta();\n  while (thisIter.hasNext() || otherIter.hasNext()) {\n    if (thisIter.peekType() === 'insert' && (priority || otherIter.peekType() !== 'insert')) {\n      delta.retain(op.length(thisIter.next()));\n    } else if (otherIter.peekType() === 'insert') {\n      delta.push(otherIter.next());\n    } else {\n      var length = Math.min(thisIter.peekLength(), otherIter.peekLength());\n      var thisOp = thisIter.next(length);\n      var otherOp = otherIter.next(length);\n      if (thisOp['delete']) {\n        // Our delete either makes their delete redundant or removes their retain\n        continue;\n      } else if (otherOp['delete']) {\n        delta.push(otherOp);\n      } else {\n        // We retain either their retain or insert\n        delta.retain(length, op.attributes.transform(thisOp.attributes, otherOp.attributes, priority));\n      }\n    }\n  }\n  return delta.chop();\n};\n\nDelta.prototype.transformPosition = function (index, priority) {\n  priority = !!priority;\n  var thisIter = op.iterator(this.ops);\n  var offset = 0;\n  while (thisIter.hasNext() && offset <= index) {\n    var length = thisIter.peekLength();\n    var nextType = thisIter.peekType();\n    thisIter.next();\n    if (nextType === 'delete') {\n      index -= Math.min(length, index - offset);\n      continue;\n    } else if (nextType === 'insert' && (offset < index || !priority)) {\n      index += length;\n    }\n    offset += length;\n  }\n  return index;\n};\n\n\nmodule.exports = Delta;\n\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports) {\n\n'use strict';\n\nvar hasOwn = Object.prototype.hasOwnProperty;\nvar toStr = Object.prototype.toString;\nvar defineProperty = Object.defineProperty;\nvar gOPD = Object.getOwnPropertyDescriptor;\n\nvar isArray = function isArray(arr) {\n\tif (typeof Array.isArray === 'function') {\n\t\treturn Array.isArray(arr);\n\t}\n\n\treturn toStr.call(arr) === '[object Array]';\n};\n\nvar isPlainObject = function isPlainObject(obj) {\n\tif (!obj || toStr.call(obj) !== '[object Object]') {\n\t\treturn false;\n\t}\n\n\tvar hasOwnConstructor = hasOwn.call(obj, 'constructor');\n\tvar hasIsPrototypeOf = obj.constructor && obj.constructor.prototype && hasOwn.call(obj.constructor.prototype, 'isPrototypeOf');\n\t// Not own constructor property must be Object\n\tif (obj.constructor && !hasOwnConstructor && !hasIsPrototypeOf) {\n\t\treturn false;\n\t}\n\n\t// Own properties are enumerated firstly, so to speed up,\n\t// if last one is own, then all properties are own.\n\tvar key;\n\tfor (key in obj) { /**/ }\n\n\treturn typeof key === 'undefined' || hasOwn.call(obj, key);\n};\n\n// If name is '__proto__', and Object.defineProperty is available, define __proto__ as an own property on target\nvar setProperty = function setProperty(target, options) {\n\tif (defineProperty && options.name === '__proto__') {\n\t\tdefineProperty(target, options.name, {\n\t\t\tenumerable: true,\n\t\t\tconfigurable: true,\n\t\t\tvalue: options.newValue,\n\t\t\twritable: true\n\t\t});\n\t} else {\n\t\ttarget[options.name] = options.newValue;\n\t}\n};\n\n// Return undefined instead of __proto__ if '__proto__' is not an own property\nvar getProperty = function getProperty(obj, name) {\n\tif (name === '__proto__') {\n\t\tif (!hasOwn.call(obj, name)) {\n\t\t\treturn void 0;\n\t\t} else if (gOPD) {\n\t\t\t// In early versions of node, obj['__proto__'] is buggy when obj has\n\t\t\t// __proto__ as an own property. Object.getOwnPropertyDescriptor() works.\n\t\t\treturn gOPD(obj, name).value;\n\t\t}\n\t}\n\n\treturn obj[name];\n};\n\nmodule.exports = function extend() {\n\tvar options, name, src, copy, copyIsArray, clone;\n\tvar target = arguments[0];\n\tvar i = 1;\n\tvar length = arguments.length;\n\tvar deep = false;\n\n\t// Handle a deep copy situation\n\tif (typeof target === 'boolean') {\n\t\tdeep = target;\n\t\ttarget = arguments[1] || {};\n\t\t// skip the boolean and the target\n\t\ti = 2;\n\t}\n\tif (target == null || (typeof target !== 'object' && typeof target !== 'function')) {\n\t\ttarget = {};\n\t}\n\n\tfor (; i < length; ++i) {\n\t\toptions = arguments[i];\n\t\t// Only deal with non-null/undefined values\n\t\tif (options != null) {\n\t\t\t// Extend the base object\n\t\t\tfor (name in options) {\n\t\t\t\tsrc = getProperty(target, name);\n\t\t\t\tcopy = getProperty(options, name);\n\n\t\t\t\t// Prevent never-ending loop\n\t\t\t\tif (target !== copy) {\n\t\t\t\t\t// Recurse if we're merging plain objects or arrays\n\t\t\t\t\tif (deep && copy && (isPlainObject(copy) || (copyIsArray = isArray(copy)))) {\n\t\t\t\t\t\tif (copyIsArray) {\n\t\t\t\t\t\t\tcopyIsArray = false;\n\t\t\t\t\t\t\tclone = src && isArray(src) ? src : [];\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tclone = src && isPlainObject(src) ? src : {};\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Never move original objects, clone them\n\t\t\t\t\t\tsetProperty(target, { name: name, newValue: extend(deep, clone, copy) });\n\n\t\t\t\t\t// Don't bring in undefined values\n\t\t\t\t\t} else if (typeof copy !== 'undefined') {\n\t\t\t\t\t\tsetProperty(target, { name: name, newValue: copy });\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// Return the modified object\n\treturn target;\n};\n\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.BlockEmbed = exports.bubbleFormats = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _extend = __webpack_require__(3);\n\nvar _extend2 = _interopRequireDefault(_extend);\n\nvar _quillDelta = __webpack_require__(2);\n\nvar _quillDelta2 = _interopRequireDefault(_quillDelta);\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nvar _break = __webpack_require__(16);\n\nvar _break2 = _interopRequireDefault(_break);\n\nvar _inline = __webpack_require__(6);\n\nvar _inline2 = _interopRequireDefault(_inline);\n\nvar _text = __webpack_require__(7);\n\nvar _text2 = _interopRequireDefault(_text);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar NEWLINE_LENGTH = 1;\n\nvar BlockEmbed = function (_Parchment$Embed) {\n  _inherits(BlockEmbed, _Parchment$Embed);\n\n  function BlockEmbed() {\n    _classCallCheck(this, BlockEmbed);\n\n    return _possibleConstructorReturn(this, (BlockEmbed.__proto__ || Object.getPrototypeOf(BlockEmbed)).apply(this, arguments));\n  }\n\n  _createClass(BlockEmbed, [{\n    key: 'attach',\n    value: function attach() {\n      _get(BlockEmbed.prototype.__proto__ || Object.getPrototypeOf(BlockEmbed.prototype), 'attach', this).call(this);\n      this.attributes = new _parchment2.default.Attributor.Store(this.domNode);\n    }\n  }, {\n    key: 'delta',\n    value: function delta() {\n      return new _quillDelta2.default().insert(this.value(), (0, _extend2.default)(this.formats(), this.attributes.values()));\n    }\n  }, {\n    key: 'format',\n    value: function format(name, value) {\n      var attribute = _parchment2.default.query(name, _parchment2.default.Scope.BLOCK_ATTRIBUTE);\n      if (attribute != null) {\n        this.attributes.attribute(attribute, value);\n      }\n    }\n  }, {\n    key: 'formatAt',\n    value: function formatAt(index, length, name, value) {\n      this.format(name, value);\n    }\n  }, {\n    key: 'insertAt',\n    value: function insertAt(index, value, def) {\n      if (typeof value === 'string' && value.endsWith('\\n')) {\n        var block = _parchment2.default.create(Block.blotName);\n        this.parent.insertBefore(block, index === 0 ? this : this.next);\n        block.insertAt(0, value.slice(0, -1));\n      } else {\n        _get(BlockEmbed.prototype.__proto__ || Object.getPrototypeOf(BlockEmbed.prototype), 'insertAt', this).call(this, index, value, def);\n      }\n    }\n  }]);\n\n  return BlockEmbed;\n}(_parchment2.default.Embed);\n\nBlockEmbed.scope = _parchment2.default.Scope.BLOCK_BLOT;\n// It is important for cursor behavior BlockEmbeds use tags that are block level elements\n\n\nvar Block = function (_Parchment$Block) {\n  _inherits(Block, _Parchment$Block);\n\n  function Block(domNode) {\n    _classCallCheck(this, Block);\n\n    var _this2 = _possibleConstructorReturn(this, (Block.__proto__ || Object.getPrototypeOf(Block)).call(this, domNode));\n\n    _this2.cache = {};\n    return _this2;\n  }\n\n  _createClass(Block, [{\n    key: 'delta',\n    value: function delta() {\n      if (this.cache.delta == null) {\n        this.cache.delta = this.descendants(_parchment2.default.Leaf).reduce(function (delta, leaf) {\n          if (leaf.length() === 0) {\n            return delta;\n          } else {\n            return delta.insert(leaf.value(), bubbleFormats(leaf));\n          }\n        }, new _quillDelta2.default()).insert('\\n', bubbleFormats(this));\n      }\n      return this.cache.delta;\n    }\n  }, {\n    key: 'deleteAt',\n    value: function deleteAt(index, length) {\n      _get(Block.prototype.__proto__ || Object.getPrototypeOf(Block.prototype), 'deleteAt', this).call(this, index, length);\n      this.cache = {};\n    }\n  }, {\n    key: 'formatAt',\n    value: function formatAt(index, length, name, value) {\n      if (length <= 0) return;\n      if (_parchment2.default.query(name, _parchment2.default.Scope.BLOCK)) {\n        if (index + length === this.length()) {\n          this.format(name, value);\n        }\n      } else {\n        _get(Block.prototype.__proto__ || Object.getPrototypeOf(Block.prototype), 'formatAt', this).call(this, index, Math.min(length, this.length() - index - 1), name, value);\n      }\n      this.cache = {};\n    }\n  }, {\n    key: 'insertAt',\n    value: function insertAt(index, value, def) {\n      if (def != null) return _get(Block.prototype.__proto__ || Object.getPrototypeOf(Block.prototype), 'insertAt', this).call(this, index, value, def);\n      if (value.length === 0) return;\n      var lines = value.split('\\n');\n      var text = lines.shift();\n      if (text.length > 0) {\n        if (index < this.length() - 1 || this.children.tail == null) {\n          _get(Block.prototype.__proto__ || Object.getPrototypeOf(Block.prototype), 'insertAt', this).call(this, Math.min(index, this.length() - 1), text);\n        } else {\n          this.children.tail.insertAt(this.children.tail.length(), text);\n        }\n        this.cache = {};\n      }\n      var block = this;\n      lines.reduce(function (index, line) {\n        block = block.split(index, true);\n        block.insertAt(0, line);\n        return line.length;\n      }, index + text.length);\n    }\n  }, {\n    key: 'insertBefore',\n    value: function insertBefore(blot, ref) {\n      var head = this.children.head;\n      _get(Block.prototype.__proto__ || Object.getPrototypeOf(Block.prototype), 'insertBefore', this).call(this, blot, ref);\n      if (head instanceof _break2.default) {\n        head.remove();\n      }\n      this.cache = {};\n    }\n  }, {\n    key: 'length',\n    value: function length() {\n      if (this.cache.length == null) {\n        this.cache.length = _get(Block.prototype.__proto__ || Object.getPrototypeOf(Block.prototype), 'length', this).call(this) + NEWLINE_LENGTH;\n      }\n      return this.cache.length;\n    }\n  }, {\n    key: 'moveChildren',\n    value: function moveChildren(target, ref) {\n      _get(Block.prototype.__proto__ || Object.getPrototypeOf(Block.prototype), 'moveChildren', this).call(this, target, ref);\n      this.cache = {};\n    }\n  }, {\n    key: 'optimize',\n    value: function optimize(context) {\n      _get(Block.prototype.__proto__ || Object.getPrototypeOf(Block.prototype), 'optimize', this).call(this, context);\n      this.cache = {};\n    }\n  }, {\n    key: 'path',\n    value: function path(index) {\n      return _get(Block.prototype.__proto__ || Object.getPrototypeOf(Block.prototype), 'path', this).call(this, index, true);\n    }\n  }, {\n    key: 'removeChild',\n    value: function removeChild(child) {\n      _get(Block.prototype.__proto__ || Object.getPrototypeOf(Block.prototype), 'removeChild', this).call(this, child);\n      this.cache = {};\n    }\n  }, {\n    key: 'split',\n    value: function split(index) {\n      var force = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n      if (force && (index === 0 || index >= this.length() - NEWLINE_LENGTH)) {\n        var clone = this.clone();\n        if (index === 0) {\n          this.parent.insertBefore(clone, this);\n          return this;\n        } else {\n          this.parent.insertBefore(clone, this.next);\n          return clone;\n        }\n      } else {\n        var next = _get(Block.prototype.__proto__ || Object.getPrototypeOf(Block.prototype), 'split', this).call(this, index, force);\n        this.cache = {};\n        return next;\n      }\n    }\n  }]);\n\n  return Block;\n}(_parchment2.default.Block);\n\nBlock.blotName = 'block';\nBlock.tagName = 'P';\nBlock.defaultChild = 'break';\nBlock.allowedChildren = [_inline2.default, _parchment2.default.Embed, _text2.default];\n\nfunction bubbleFormats(blot) {\n  var formats = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  if (blot == null) return formats;\n  if (typeof blot.formats === 'function') {\n    formats = (0, _extend2.default)(formats, blot.formats());\n  }\n  if (blot.parent == null || blot.parent.blotName == 'scroll' || blot.parent.statics.scope !== blot.statics.scope) {\n    return formats;\n  }\n  return bubbleFormats(blot.parent, formats);\n}\n\nexports.bubbleFormats = bubbleFormats;\nexports.BlockEmbed = BlockEmbed;\nexports.default = Block;\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.overload = exports.expandConfig = undefined;\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\n__webpack_require__(50);\n\nvar _quillDelta = __webpack_require__(2);\n\nvar _quillDelta2 = _interopRequireDefault(_quillDelta);\n\nvar _editor = __webpack_require__(14);\n\nvar _editor2 = _interopRequireDefault(_editor);\n\nvar _emitter3 = __webpack_require__(8);\n\nvar _emitter4 = _interopRequireDefault(_emitter3);\n\nvar _module = __webpack_require__(9);\n\nvar _module2 = _interopRequireDefault(_module);\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nvar _selection = __webpack_require__(15);\n\nvar _selection2 = _interopRequireDefault(_selection);\n\nvar _extend = __webpack_require__(3);\n\nvar _extend2 = _interopRequireDefault(_extend);\n\nvar _logger = __webpack_require__(10);\n\nvar _logger2 = _interopRequireDefault(_logger);\n\nvar _theme = __webpack_require__(34);\n\nvar _theme2 = _interopRequireDefault(_theme);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar debug = (0, _logger2.default)('quill');\n\nvar Quill = function () {\n  _createClass(Quill, null, [{\n    key: 'debug',\n    value: function debug(limit) {\n      if (limit === true) {\n        limit = 'log';\n      }\n      _logger2.default.level(limit);\n    }\n  }, {\n    key: 'find',\n    value: function find(node) {\n      return node.__quill || _parchment2.default.find(node);\n    }\n  }, {\n    key: 'import',\n    value: function _import(name) {\n      if (this.imports[name] == null) {\n        debug.error('Cannot import ' + name + '. Are you sure it was registered?');\n      }\n      return this.imports[name];\n    }\n  }, {\n    key: 'register',\n    value: function register(path, target) {\n      var _this = this;\n\n      var overwrite = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n      if (typeof path !== 'string') {\n        var name = path.attrName || path.blotName;\n        if (typeof name === 'string') {\n          // register(Blot | Attributor, overwrite)\n          this.register('formats/' + name, path, target);\n        } else {\n          Object.keys(path).forEach(function (key) {\n            _this.register(key, path[key], target);\n          });\n        }\n      } else {\n        if (this.imports[path] != null && !overwrite) {\n          debug.warn('Overwriting ' + path + ' with', target);\n        }\n        this.imports[path] = target;\n        if ((path.startsWith('blots/') || path.startsWith('formats/')) && target.blotName !== 'abstract') {\n          _parchment2.default.register(target);\n        } else if (path.startsWith('modules') && typeof target.register === 'function') {\n          target.register();\n        }\n      }\n    }\n  }]);\n\n  function Quill(container) {\n    var _this2 = this;\n\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    _classCallCheck(this, Quill);\n\n    this.options = expandConfig(container, options);\n    this.container = this.options.container;\n    if (this.container == null) {\n      return debug.error('Invalid Quill container', container);\n    }\n    if (this.options.debug) {\n      Quill.debug(this.options.debug);\n    }\n    var html = this.container.innerHTML.trim();\n    this.container.classList.add('ql-container');\n    this.container.innerHTML = '';\n    this.container.__quill = this;\n    this.root = this.addContainer('ql-editor');\n    this.root.classList.add('ql-blank');\n    this.root.setAttribute('data-gramm', false);\n    this.scrollingContainer = this.options.scrollingContainer || this.root;\n    this.emitter = new _emitter4.default();\n    this.scroll = _parchment2.default.create(this.root, {\n      emitter: this.emitter,\n      whitelist: this.options.formats\n    });\n    this.editor = new _editor2.default(this.scroll);\n    this.selection = new _selection2.default(this.scroll, this.emitter);\n    this.theme = new this.options.theme(this, this.options);\n    this.keyboard = this.theme.addModule('keyboard');\n    this.clipboard = this.theme.addModule('clipboard');\n    this.history = this.theme.addModule('history');\n    this.theme.init();\n    this.emitter.on(_emitter4.default.events.EDITOR_CHANGE, function (type) {\n      if (type === _emitter4.default.events.TEXT_CHANGE) {\n        _this2.root.classList.toggle('ql-blank', _this2.editor.isBlank());\n      }\n    });\n    this.emitter.on(_emitter4.default.events.SCROLL_UPDATE, function (source, mutations) {\n      var range = _this2.selection.lastRange;\n      var index = range && range.length === 0 ? range.index : undefined;\n      modify.call(_this2, function () {\n        return _this2.editor.update(null, mutations, index);\n      }, source);\n    });\n    var contents = this.clipboard.convert('<div class=\\'ql-editor\\' style=\"white-space: normal;\">' + html + '<p><br></p></div>');\n    this.setContents(contents);\n    this.history.clear();\n    if (this.options.placeholder) {\n      this.root.setAttribute('data-placeholder', this.options.placeholder);\n    }\n    if (this.options.readOnly) {\n      this.disable();\n    }\n  }\n\n  _createClass(Quill, [{\n    key: 'addContainer',\n    value: function addContainer(container) {\n      var refNode = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n      if (typeof container === 'string') {\n        var className = container;\n        container = document.createElement('div');\n        container.classList.add(className);\n      }\n      this.container.insertBefore(container, refNode);\n      return container;\n    }\n  }, {\n    key: 'blur',\n    value: function blur() {\n      this.selection.setRange(null);\n    }\n  }, {\n    key: 'deleteText',\n    value: function deleteText(index, length, source) {\n      var _this3 = this;\n\n      var _overload = overload(index, length, source);\n\n      var _overload2 = _slicedToArray(_overload, 4);\n\n      index = _overload2[0];\n      length = _overload2[1];\n      source = _overload2[3];\n\n      return modify.call(this, function () {\n        return _this3.editor.deleteText(index, length);\n      }, source, index, -1 * length);\n    }\n  }, {\n    key: 'disable',\n    value: function disable() {\n      this.enable(false);\n    }\n  }, {\n    key: 'enable',\n    value: function enable() {\n      var enabled = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n      this.scroll.enable(enabled);\n      this.container.classList.toggle('ql-disabled', !enabled);\n    }\n  }, {\n    key: 'focus',\n    value: function focus() {\n      var scrollTop = this.scrollingContainer.scrollTop;\n      this.selection.focus();\n      this.scrollingContainer.scrollTop = scrollTop;\n      this.scrollIntoView();\n    }\n  }, {\n    key: 'format',\n    value: function format(name, value) {\n      var _this4 = this;\n\n      var source = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : _emitter4.default.sources.API;\n\n      return modify.call(this, function () {\n        var range = _this4.getSelection(true);\n        var change = new _quillDelta2.default();\n        if (range == null) {\n          return change;\n        } else if (_parchment2.default.query(name, _parchment2.default.Scope.BLOCK)) {\n          change = _this4.editor.formatLine(range.index, range.length, _defineProperty({}, name, value));\n        } else if (range.length === 0) {\n          _this4.selection.format(name, value);\n          return change;\n        } else {\n          change = _this4.editor.formatText(range.index, range.length, _defineProperty({}, name, value));\n        }\n        _this4.setSelection(range, _emitter4.default.sources.SILENT);\n        return change;\n      }, source);\n    }\n  }, {\n    key: 'formatLine',\n    value: function formatLine(index, length, name, value, source) {\n      var _this5 = this;\n\n      var formats = void 0;\n\n      var _overload3 = overload(index, length, name, value, source);\n\n      var _overload4 = _slicedToArray(_overload3, 4);\n\n      index = _overload4[0];\n      length = _overload4[1];\n      formats = _overload4[2];\n      source = _overload4[3];\n\n      return modify.call(this, function () {\n        return _this5.editor.formatLine(index, length, formats);\n      }, source, index, 0);\n    }\n  }, {\n    key: 'formatText',\n    value: function formatText(index, length, name, value, source) {\n      var _this6 = this;\n\n      var formats = void 0;\n\n      var _overload5 = overload(index, length, name, value, source);\n\n      var _overload6 = _slicedToArray(_overload5, 4);\n\n      index = _overload6[0];\n      length = _overload6[1];\n      formats = _overload6[2];\n      source = _overload6[3];\n\n      return modify.call(this, function () {\n        return _this6.editor.formatText(index, length, formats);\n      }, source, index, 0);\n    }\n  }, {\n    key: 'getBounds',\n    value: function getBounds(index) {\n      var length = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n\n      var bounds = void 0;\n      if (typeof index === 'number') {\n        bounds = this.selection.getBounds(index, length);\n      } else {\n        bounds = this.selection.getBounds(index.index, index.length);\n      }\n      var containerBounds = this.container.getBoundingClientRect();\n      return {\n        bottom: bounds.bottom - containerBounds.top,\n        height: bounds.height,\n        left: bounds.left - containerBounds.left,\n        right: bounds.right - containerBounds.left,\n        top: bounds.top - containerBounds.top,\n        width: bounds.width\n      };\n    }\n  }, {\n    key: 'getContents',\n    value: function getContents() {\n      var index = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      var length = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.getLength() - index;\n\n      var _overload7 = overload(index, length);\n\n      var _overload8 = _slicedToArray(_overload7, 2);\n\n      index = _overload8[0];\n      length = _overload8[1];\n\n      return this.editor.getContents(index, length);\n    }\n  }, {\n    key: 'getFormat',\n    value: function getFormat() {\n      var index = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.getSelection(true);\n      var length = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n\n      if (typeof index === 'number') {\n        return this.editor.getFormat(index, length);\n      } else {\n        return this.editor.getFormat(index.index, index.length);\n      }\n    }\n  }, {\n    key: 'getIndex',\n    value: function getIndex(blot) {\n      return blot.offset(this.scroll);\n    }\n  }, {\n    key: 'getLength',\n    value: function getLength() {\n      return this.scroll.length();\n    }\n  }, {\n    key: 'getLeaf',\n    value: function getLeaf(index) {\n      return this.scroll.leaf(index);\n    }\n  }, {\n    key: 'getLine',\n    value: function getLine(index) {\n      return this.scroll.line(index);\n    }\n  }, {\n    key: 'getLines',\n    value: function getLines() {\n      var index = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      var length = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : Number.MAX_VALUE;\n\n      if (typeof index !== 'number') {\n        return this.scroll.lines(index.index, index.length);\n      } else {\n        return this.scroll.lines(index, length);\n      }\n    }\n  }, {\n    key: 'getModule',\n    value: function getModule(name) {\n      return this.theme.modules[name];\n    }\n  }, {\n    key: 'getSelection',\n    value: function getSelection() {\n      var focus = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n      if (focus) this.focus();\n      this.update(); // Make sure we access getRange with editor in consistent state\n      return this.selection.getRange()[0];\n    }\n  }, {\n    key: 'getText',\n    value: function getText() {\n      var index = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      var length = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.getLength() - index;\n\n      var _overload9 = overload(index, length);\n\n      var _overload10 = _slicedToArray(_overload9, 2);\n\n      index = _overload10[0];\n      length = _overload10[1];\n\n      return this.editor.getText(index, length);\n    }\n  }, {\n    key: 'hasFocus',\n    value: function hasFocus() {\n      return this.selection.hasFocus();\n    }\n  }, {\n    key: 'insertEmbed',\n    value: function insertEmbed(index, embed, value) {\n      var _this7 = this;\n\n      var source = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : Quill.sources.API;\n\n      return modify.call(this, function () {\n        return _this7.editor.insertEmbed(index, embed, value);\n      }, source, index);\n    }\n  }, {\n    key: 'insertText',\n    value: function insertText(index, text, name, value, source) {\n      var _this8 = this;\n\n      var formats = void 0;\n\n      var _overload11 = overload(index, 0, name, value, source);\n\n      var _overload12 = _slicedToArray(_overload11, 4);\n\n      index = _overload12[0];\n      formats = _overload12[2];\n      source = _overload12[3];\n\n      return modify.call(this, function () {\n        return _this8.editor.insertText(index, text, formats);\n      }, source, index, text.length);\n    }\n  }, {\n    key: 'isEnabled',\n    value: function isEnabled() {\n      return !this.container.classList.contains('ql-disabled');\n    }\n  }, {\n    key: 'off',\n    value: function off() {\n      return this.emitter.off.apply(this.emitter, arguments);\n    }\n  }, {\n    key: 'on',\n    value: function on() {\n      return this.emitter.on.apply(this.emitter, arguments);\n    }\n  }, {\n    key: 'once',\n    value: function once() {\n      return this.emitter.once.apply(this.emitter, arguments);\n    }\n  }, {\n    key: 'pasteHTML',\n    value: function pasteHTML(index, html, source) {\n      this.clipboard.dangerouslyPasteHTML(index, html, source);\n    }\n  }, {\n    key: 'removeFormat',\n    value: function removeFormat(index, length, source) {\n      var _this9 = this;\n\n      var _overload13 = overload(index, length, source);\n\n      var _overload14 = _slicedToArray(_overload13, 4);\n\n      index = _overload14[0];\n      length = _overload14[1];\n      source = _overload14[3];\n\n      return modify.call(this, function () {\n        return _this9.editor.removeFormat(index, length);\n      }, source, index);\n    }\n  }, {\n    key: 'scrollIntoView',\n    value: function scrollIntoView() {\n      this.selection.scrollIntoView(this.scrollingContainer);\n    }\n  }, {\n    key: 'setContents',\n    value: function setContents(delta) {\n      var _this10 = this;\n\n      var source = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _emitter4.default.sources.API;\n\n      return modify.call(this, function () {\n        delta = new _quillDelta2.default(delta);\n        var length = _this10.getLength();\n        var deleted = _this10.editor.deleteText(0, length);\n        var applied = _this10.editor.applyDelta(delta);\n        var lastOp = applied.ops[applied.ops.length - 1];\n        if (lastOp != null && typeof lastOp.insert === 'string' && lastOp.insert[lastOp.insert.length - 1] === '\\n') {\n          _this10.editor.deleteText(_this10.getLength() - 1, 1);\n          applied.delete(1);\n        }\n        var ret = deleted.compose(applied);\n        return ret;\n      }, source);\n    }\n  }, {\n    key: 'setSelection',\n    value: function setSelection(index, length, source) {\n      if (index == null) {\n        this.selection.setRange(null, length || Quill.sources.API);\n      } else {\n        var _overload15 = overload(index, length, source);\n\n        var _overload16 = _slicedToArray(_overload15, 4);\n\n        index = _overload16[0];\n        length = _overload16[1];\n        source = _overload16[3];\n\n        this.selection.setRange(new _selection.Range(index, length), source);\n        if (source !== _emitter4.default.sources.SILENT) {\n          this.selection.scrollIntoView(this.scrollingContainer);\n        }\n      }\n    }\n  }, {\n    key: 'setText',\n    value: function setText(text) {\n      var source = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _emitter4.default.sources.API;\n\n      var delta = new _quillDelta2.default().insert(text);\n      return this.setContents(delta, source);\n    }\n  }, {\n    key: 'update',\n    value: function update() {\n      var source = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _emitter4.default.sources.USER;\n\n      var change = this.scroll.update(source); // Will update selection before selection.update() does if text changes\n      this.selection.update(source);\n      return change;\n    }\n  }, {\n    key: 'updateContents',\n    value: function updateContents(delta) {\n      var _this11 = this;\n\n      var source = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : _emitter4.default.sources.API;\n\n      return modify.call(this, function () {\n        delta = new _quillDelta2.default(delta);\n        return _this11.editor.applyDelta(delta, source);\n      }, source, true);\n    }\n  }]);\n\n  return Quill;\n}();\n\nQuill.DEFAULTS = {\n  bounds: null,\n  formats: null,\n  modules: {},\n  placeholder: '',\n  readOnly: false,\n  scrollingContainer: null,\n  strict: true,\n  theme: 'default'\n};\nQuill.events = _emitter4.default.events;\nQuill.sources = _emitter4.default.sources;\n// eslint-disable-next-line no-undef\nQuill.version =  false ? 'dev' : \"1.3.7\";\n\nQuill.imports = {\n  'delta': _quillDelta2.default,\n  'parchment': _parchment2.default,\n  'core/module': _module2.default,\n  'core/theme': _theme2.default\n};\n\nfunction expandConfig(container, userConfig) {\n  userConfig = (0, _extend2.default)(true, {\n    container: container,\n    modules: {\n      clipboard: true,\n      keyboard: true,\n      history: true\n    }\n  }, userConfig);\n  if (!userConfig.theme || userConfig.theme === Quill.DEFAULTS.theme) {\n    userConfig.theme = _theme2.default;\n  } else {\n    userConfig.theme = Quill.import('themes/' + userConfig.theme);\n    if (userConfig.theme == null) {\n      throw new Error('Invalid theme ' + userConfig.theme + '. Did you register it?');\n    }\n  }\n  var themeConfig = (0, _extend2.default)(true, {}, userConfig.theme.DEFAULTS);\n  [themeConfig, userConfig].forEach(function (config) {\n    config.modules = config.modules || {};\n    Object.keys(config.modules).forEach(function (module) {\n      if (config.modules[module] === true) {\n        config.modules[module] = {};\n      }\n    });\n  });\n  var moduleNames = Object.keys(themeConfig.modules).concat(Object.keys(userConfig.modules));\n  var moduleConfig = moduleNames.reduce(function (config, name) {\n    var moduleClass = Quill.import('modules/' + name);\n    if (moduleClass == null) {\n      debug.error('Cannot load ' + name + ' module. Are you sure you registered it?');\n    } else {\n      config[name] = moduleClass.DEFAULTS || {};\n    }\n    return config;\n  }, {});\n  // Special case toolbar shorthand\n  if (userConfig.modules != null && userConfig.modules.toolbar && userConfig.modules.toolbar.constructor !== Object) {\n    userConfig.modules.toolbar = {\n      container: userConfig.modules.toolbar\n    };\n  }\n  userConfig = (0, _extend2.default)(true, {}, Quill.DEFAULTS, { modules: moduleConfig }, themeConfig, userConfig);\n  ['bounds', 'container', 'scrollingContainer'].forEach(function (key) {\n    if (typeof userConfig[key] === 'string') {\n      userConfig[key] = document.querySelector(userConfig[key]);\n    }\n  });\n  userConfig.modules = Object.keys(userConfig.modules).reduce(function (config, name) {\n    if (userConfig.modules[name]) {\n      config[name] = userConfig.modules[name];\n    }\n    return config;\n  }, {});\n  return userConfig;\n}\n\n// Handle selection preservation and TEXT_CHANGE emission\n// common to modification APIs\nfunction modify(modifier, source, index, shift) {\n  if (this.options.strict && !this.isEnabled() && source === _emitter4.default.sources.USER) {\n    return new _quillDelta2.default();\n  }\n  var range = index == null ? null : this.getSelection();\n  var oldDelta = this.editor.delta;\n  var change = modifier();\n  if (range != null) {\n    if (index === true) index = range.index;\n    if (shift == null) {\n      range = shiftRange(range, change, source);\n    } else if (shift !== 0) {\n      range = shiftRange(range, index, shift, source);\n    }\n    this.setSelection(range, _emitter4.default.sources.SILENT);\n  }\n  if (change.length() > 0) {\n    var _emitter;\n\n    var args = [_emitter4.default.events.TEXT_CHANGE, change, oldDelta, source];\n    (_emitter = this.emitter).emit.apply(_emitter, [_emitter4.default.events.EDITOR_CHANGE].concat(args));\n    if (source !== _emitter4.default.sources.SILENT) {\n      var _emitter2;\n\n      (_emitter2 = this.emitter).emit.apply(_emitter2, args);\n    }\n  }\n  return change;\n}\n\nfunction overload(index, length, name, value, source) {\n  var formats = {};\n  if (typeof index.index === 'number' && typeof index.length === 'number') {\n    // Allow for throwaway end (used by insertText/insertEmbed)\n    if (typeof length !== 'number') {\n      source = value, value = name, name = length, length = index.length, index = index.index;\n    } else {\n      length = index.length, index = index.index;\n    }\n  } else if (typeof length !== 'number') {\n    source = value, value = name, name = length, length = 0;\n  }\n  // Handle format being object, two format name/value strings or excluded\n  if ((typeof name === 'undefined' ? 'undefined' : _typeof(name)) === 'object') {\n    formats = name;\n    source = value;\n  } else if (typeof name === 'string') {\n    if (value != null) {\n      formats[name] = value;\n    } else {\n      source = name;\n    }\n  }\n  // Handle optional source\n  source = source || _emitter4.default.sources.API;\n  return [index, length, formats, source];\n}\n\nfunction shiftRange(range, index, length, source) {\n  if (range == null) return null;\n  var start = void 0,\n      end = void 0;\n  if (index instanceof _quillDelta2.default) {\n    var _map = [range.index, range.index + range.length].map(function (pos) {\n      return index.transformPosition(pos, source !== _emitter4.default.sources.USER);\n    });\n\n    var _map2 = _slicedToArray(_map, 2);\n\n    start = _map2[0];\n    end = _map2[1];\n  } else {\n    var _map3 = [range.index, range.index + range.length].map(function (pos) {\n      if (pos < index || pos === index && source === _emitter4.default.sources.USER) return pos;\n      if (length >= 0) {\n        return pos + length;\n      } else {\n        return Math.max(index, pos + length);\n      }\n    });\n\n    var _map4 = _slicedToArray(_map3, 2);\n\n    start = _map4[0];\n    end = _map4[1];\n  }\n  return new _selection.Range(start, end - start);\n}\n\nexports.expandConfig = expandConfig;\nexports.overload = overload;\nexports.default = Quill;\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _text = __webpack_require__(7);\n\nvar _text2 = _interopRequireDefault(_text);\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Inline = function (_Parchment$Inline) {\n  _inherits(Inline, _Parchment$Inline);\n\n  function Inline() {\n    _classCallCheck(this, Inline);\n\n    return _possibleConstructorReturn(this, (Inline.__proto__ || Object.getPrototypeOf(Inline)).apply(this, arguments));\n  }\n\n  _createClass(Inline, [{\n    key: 'formatAt',\n    value: function formatAt(index, length, name, value) {\n      if (Inline.compare(this.statics.blotName, name) < 0 && _parchment2.default.query(name, _parchment2.default.Scope.BLOT)) {\n        var blot = this.isolate(index, length);\n        if (value) {\n          blot.wrap(name, value);\n        }\n      } else {\n        _get(Inline.prototype.__proto__ || Object.getPrototypeOf(Inline.prototype), 'formatAt', this).call(this, index, length, name, value);\n      }\n    }\n  }, {\n    key: 'optimize',\n    value: function optimize(context) {\n      _get(Inline.prototype.__proto__ || Object.getPrototypeOf(Inline.prototype), 'optimize', this).call(this, context);\n      if (this.parent instanceof Inline && Inline.compare(this.statics.blotName, this.parent.statics.blotName) > 0) {\n        var parent = this.parent.isolate(this.offset(), this.length());\n        this.moveChildren(parent);\n        parent.wrap(this);\n      }\n    }\n  }], [{\n    key: 'compare',\n    value: function compare(self, other) {\n      var selfIndex = Inline.order.indexOf(self);\n      var otherIndex = Inline.order.indexOf(other);\n      if (selfIndex >= 0 || otherIndex >= 0) {\n        return selfIndex - otherIndex;\n      } else if (self === other) {\n        return 0;\n      } else if (self < other) {\n        return -1;\n      } else {\n        return 1;\n      }\n    }\n  }]);\n\n  return Inline;\n}(_parchment2.default.Inline);\n\nInline.allowedChildren = [Inline, _parchment2.default.Embed, _text2.default];\n// Lower index means deeper in the DOM tree, since not found (-1) is for embeds\nInline.order = ['cursor', 'inline', // Must be lower\n'underline', 'strike', 'italic', 'bold', 'script', 'link', 'code' // Must be higher\n];\n\nexports.default = Inline;\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar TextBlot = function (_Parchment$Text) {\n  _inherits(TextBlot, _Parchment$Text);\n\n  function TextBlot() {\n    _classCallCheck(this, TextBlot);\n\n    return _possibleConstructorReturn(this, (TextBlot.__proto__ || Object.getPrototypeOf(TextBlot)).apply(this, arguments));\n  }\n\n  return TextBlot;\n}(_parchment2.default.Text);\n\nexports.default = TextBlot;\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _eventemitter = __webpack_require__(54);\n\nvar _eventemitter2 = _interopRequireDefault(_eventemitter);\n\nvar _logger = __webpack_require__(10);\n\nvar _logger2 = _interopRequireDefault(_logger);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar debug = (0, _logger2.default)('quill:events');\n\nvar EVENTS = ['selectionchange', 'mousedown', 'mouseup', 'click'];\n\nEVENTS.forEach(function (eventName) {\n  document.addEventListener(eventName, function () {\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    [].slice.call(document.querySelectorAll('.ql-container')).forEach(function (node) {\n      // TODO use WeakMap\n      if (node.__quill && node.__quill.emitter) {\n        var _node$__quill$emitter;\n\n        (_node$__quill$emitter = node.__quill.emitter).handleDOM.apply(_node$__quill$emitter, args);\n      }\n    });\n  });\n});\n\nvar Emitter = function (_EventEmitter) {\n  _inherits(Emitter, _EventEmitter);\n\n  function Emitter() {\n    _classCallCheck(this, Emitter);\n\n    var _this = _possibleConstructorReturn(this, (Emitter.__proto__ || Object.getPrototypeOf(Emitter)).call(this));\n\n    _this.listeners = {};\n    _this.on('error', debug.error);\n    return _this;\n  }\n\n  _createClass(Emitter, [{\n    key: 'emit',\n    value: function emit() {\n      debug.log.apply(debug, arguments);\n      _get(Emitter.prototype.__proto__ || Object.getPrototypeOf(Emitter.prototype), 'emit', this).apply(this, arguments);\n    }\n  }, {\n    key: 'handleDOM',\n    value: function handleDOM(event) {\n      for (var _len2 = arguments.length, args = Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n        args[_key2 - 1] = arguments[_key2];\n      }\n\n      (this.listeners[event.type] || []).forEach(function (_ref) {\n        var node = _ref.node,\n            handler = _ref.handler;\n\n        if (event.target === node || node.contains(event.target)) {\n          handler.apply(undefined, [event].concat(args));\n        }\n      });\n    }\n  }, {\n    key: 'listenDOM',\n    value: function listenDOM(eventName, node, handler) {\n      if (!this.listeners[eventName]) {\n        this.listeners[eventName] = [];\n      }\n      this.listeners[eventName].push({ node: node, handler: handler });\n    }\n  }]);\n\n  return Emitter;\n}(_eventemitter2.default);\n\nEmitter.events = {\n  EDITOR_CHANGE: 'editor-change',\n  SCROLL_BEFORE_UPDATE: 'scroll-before-update',\n  SCROLL_OPTIMIZE: 'scroll-optimize',\n  SCROLL_UPDATE: 'scroll-update',\n  SELECTION_CHANGE: 'selection-change',\n  TEXT_CHANGE: 'text-change'\n};\nEmitter.sources = {\n  API: 'api',\n  SILENT: 'silent',\n  USER: 'user'\n};\n\nexports.default = Emitter;\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Module = function Module(quill) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  _classCallCheck(this, Module);\n\n  this.quill = quill;\n  this.options = options;\n};\n\nModule.DEFAULTS = {};\n\nexports.default = Module;\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar levels = ['error', 'warn', 'log', 'info'];\nvar level = 'warn';\n\nfunction debug(method) {\n  if (levels.indexOf(method) <= levels.indexOf(level)) {\n    var _console;\n\n    for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n\n    (_console = console)[method].apply(_console, args); // eslint-disable-line no-console\n  }\n}\n\nfunction namespace(ns) {\n  return levels.reduce(function (logger, method) {\n    logger[method] = debug.bind(console, method, ns);\n    return logger;\n  }, {});\n}\n\ndebug.level = namespace.level = function (newLevel) {\n  level = newLevel;\n};\n\nexports.default = namespace;\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar pSlice = Array.prototype.slice;\nvar objectKeys = __webpack_require__(52);\nvar isArguments = __webpack_require__(53);\n\nvar deepEqual = module.exports = function (actual, expected, opts) {\n  if (!opts) opts = {};\n  // 7.1. All identical values are equivalent, as determined by ===.\n  if (actual === expected) {\n    return true;\n\n  } else if (actual instanceof Date && expected instanceof Date) {\n    return actual.getTime() === expected.getTime();\n\n  // 7.3. Other pairs that do not both pass typeof value == 'object',\n  // equivalence is determined by ==.\n  } else if (!actual || !expected || typeof actual != 'object' && typeof expected != 'object') {\n    return opts.strict ? actual === expected : actual == expected;\n\n  // 7.4. For all other Object pairs, including Array objects, equivalence is\n  // determined by having the same number of owned properties (as verified\n  // with Object.prototype.hasOwnProperty.call), the same set of keys\n  // (although not necessarily the same order), equivalent values for every\n  // corresponding key, and an identical 'prototype' property. Note: this\n  // accounts for both named and indexed properties on Arrays.\n  } else {\n    return objEquiv(actual, expected, opts);\n  }\n}\n\nfunction isUndefinedOrNull(value) {\n  return value === null || value === undefined;\n}\n\nfunction isBuffer (x) {\n  if (!x || typeof x !== 'object' || typeof x.length !== 'number') return false;\n  if (typeof x.copy !== 'function' || typeof x.slice !== 'function') {\n    return false;\n  }\n  if (x.length > 0 && typeof x[0] !== 'number') return false;\n  return true;\n}\n\nfunction objEquiv(a, b, opts) {\n  var i, key;\n  if (isUndefinedOrNull(a) || isUndefinedOrNull(b))\n    return false;\n  // an identical 'prototype' property.\n  if (a.prototype !== b.prototype) return false;\n  //~~~I've managed to break Object.keys through screwy arguments passing.\n  //   Converting to array solves the problem.\n  if (isArguments(a)) {\n    if (!isArguments(b)) {\n      return false;\n    }\n    a = pSlice.call(a);\n    b = pSlice.call(b);\n    return deepEqual(a, b, opts);\n  }\n  if (isBuffer(a)) {\n    if (!isBuffer(b)) {\n      return false;\n    }\n    if (a.length !== b.length) return false;\n    for (i = 0; i < a.length; i++) {\n      if (a[i] !== b[i]) return false;\n    }\n    return true;\n  }\n  try {\n    var ka = objectKeys(a),\n        kb = objectKeys(b);\n  } catch (e) {//happens when one is a string literal and the other isn't\n    return false;\n  }\n  // having the same number of owned properties (keys incorporates\n  // hasOwnProperty)\n  if (ka.length != kb.length)\n    return false;\n  //the same set of keys (although not necessarily the same order),\n  ka.sort();\n  kb.sort();\n  //~~~cheap key test\n  for (i = ka.length - 1; i >= 0; i--) {\n    if (ka[i] != kb[i])\n      return false;\n  }\n  //equivalent values for every corresponding key, and\n  //~~~possibly expensive deep test\n  for (i = ka.length - 1; i >= 0; i--) {\n    key = ka[i];\n    if (!deepEqual(a[key], b[key], opts)) return false;\n  }\n  return typeof a === typeof b;\n}\n\n\n/***/ }),\n/* 12 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Registry = __webpack_require__(1);\nvar Attributor = /** @class */ (function () {\n    function Attributor(attrName, keyName, options) {\n        if (options === void 0) { options = {}; }\n        this.attrName = attrName;\n        this.keyName = keyName;\n        var attributeBit = Registry.Scope.TYPE & Registry.Scope.ATTRIBUTE;\n        if (options.scope != null) {\n            // Ignore type bits, force attribute bit\n            this.scope = (options.scope & Registry.Scope.LEVEL) | attributeBit;\n        }\n        else {\n            this.scope = Registry.Scope.ATTRIBUTE;\n        }\n        if (options.whitelist != null)\n            this.whitelist = options.whitelist;\n    }\n    Attributor.keys = function (node) {\n        return [].map.call(node.attributes, function (item) {\n            return item.name;\n        });\n    };\n    Attributor.prototype.add = function (node, value) {\n        if (!this.canAdd(node, value))\n            return false;\n        node.setAttribute(this.keyName, value);\n        return true;\n    };\n    Attributor.prototype.canAdd = function (node, value) {\n        var match = Registry.query(node, Registry.Scope.BLOT & (this.scope | Registry.Scope.TYPE));\n        if (match == null)\n            return false;\n        if (this.whitelist == null)\n            return true;\n        if (typeof value === 'string') {\n            return this.whitelist.indexOf(value.replace(/[\"']/g, '')) > -1;\n        }\n        else {\n            return this.whitelist.indexOf(value) > -1;\n        }\n    };\n    Attributor.prototype.remove = function (node) {\n        node.removeAttribute(this.keyName);\n    };\n    Attributor.prototype.value = function (node) {\n        var value = node.getAttribute(this.keyName);\n        if (this.canAdd(node, value) && value) {\n            return value;\n        }\n        return '';\n    };\n    return Attributor;\n}());\nexports.default = Attributor;\n\n\n/***/ }),\n/* 13 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.Code = undefined;\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _quillDelta = __webpack_require__(2);\n\nvar _quillDelta2 = _interopRequireDefault(_quillDelta);\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nvar _block = __webpack_require__(4);\n\nvar _block2 = _interopRequireDefault(_block);\n\nvar _inline = __webpack_require__(6);\n\nvar _inline2 = _interopRequireDefault(_inline);\n\nvar _text = __webpack_require__(7);\n\nvar _text2 = _interopRequireDefault(_text);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Code = function (_Inline) {\n  _inherits(Code, _Inline);\n\n  function Code() {\n    _classCallCheck(this, Code);\n\n    return _possibleConstructorReturn(this, (Code.__proto__ || Object.getPrototypeOf(Code)).apply(this, arguments));\n  }\n\n  return Code;\n}(_inline2.default);\n\nCode.blotName = 'code';\nCode.tagName = 'CODE';\n\nvar CodeBlock = function (_Block) {\n  _inherits(CodeBlock, _Block);\n\n  function CodeBlock() {\n    _classCallCheck(this, CodeBlock);\n\n    return _possibleConstructorReturn(this, (CodeBlock.__proto__ || Object.getPrototypeOf(CodeBlock)).apply(this, arguments));\n  }\n\n  _createClass(CodeBlock, [{\n    key: 'delta',\n    value: function delta() {\n      var _this3 = this;\n\n      var text = this.domNode.textContent;\n      if (text.endsWith('\\n')) {\n        // Should always be true\n        text = text.slice(0, -1);\n      }\n      return text.split('\\n').reduce(function (delta, frag) {\n        return delta.insert(frag).insert('\\n', _this3.formats());\n      }, new _quillDelta2.default());\n    }\n  }, {\n    key: 'format',\n    value: function format(name, value) {\n      if (name === this.statics.blotName && value) return;\n\n      var _descendant = this.descendant(_text2.default, this.length() - 1),\n          _descendant2 = _slicedToArray(_descendant, 1),\n          text = _descendant2[0];\n\n      if (text != null) {\n        text.deleteAt(text.length() - 1, 1);\n      }\n      _get(CodeBlock.prototype.__proto__ || Object.getPrototypeOf(CodeBlock.prototype), 'format', this).call(this, name, value);\n    }\n  }, {\n    key: 'formatAt',\n    value: function formatAt(index, length, name, value) {\n      if (length === 0) return;\n      if (_parchment2.default.query(name, _parchment2.default.Scope.BLOCK) == null || name === this.statics.blotName && value === this.statics.formats(this.domNode)) {\n        return;\n      }\n      var nextNewline = this.newlineIndex(index);\n      if (nextNewline < 0 || nextNewline >= index + length) return;\n      var prevNewline = this.newlineIndex(index, true) + 1;\n      var isolateLength = nextNewline - prevNewline + 1;\n      var blot = this.isolate(prevNewline, isolateLength);\n      var next = blot.next;\n      blot.format(name, value);\n      if (next instanceof CodeBlock) {\n        next.formatAt(0, index - prevNewline + length - isolateLength, name, value);\n      }\n    }\n  }, {\n    key: 'insertAt',\n    value: function insertAt(index, value, def) {\n      if (def != null) return;\n\n      var _descendant3 = this.descendant(_text2.default, index),\n          _descendant4 = _slicedToArray(_descendant3, 2),\n          text = _descendant4[0],\n          offset = _descendant4[1];\n\n      text.insertAt(offset, value);\n    }\n  }, {\n    key: 'length',\n    value: function length() {\n      var length = this.domNode.textContent.length;\n      if (!this.domNode.textContent.endsWith('\\n')) {\n        return length + 1;\n      }\n      return length;\n    }\n  }, {\n    key: 'newlineIndex',\n    value: function newlineIndex(searchIndex) {\n      var reverse = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n      if (!reverse) {\n        var offset = this.domNode.textContent.slice(searchIndex).indexOf('\\n');\n        return offset > -1 ? searchIndex + offset : -1;\n      } else {\n        return this.domNode.textContent.slice(0, searchIndex).lastIndexOf('\\n');\n      }\n    }\n  }, {\n    key: 'optimize',\n    value: function optimize(context) {\n      if (!this.domNode.textContent.endsWith('\\n')) {\n        this.appendChild(_parchment2.default.create('text', '\\n'));\n      }\n      _get(CodeBlock.prototype.__proto__ || Object.getPrototypeOf(CodeBlock.prototype), 'optimize', this).call(this, context);\n      var next = this.next;\n      if (next != null && next.prev === this && next.statics.blotName === this.statics.blotName && this.statics.formats(this.domNode) === next.statics.formats(next.domNode)) {\n        next.optimize(context);\n        next.moveChildren(this);\n        next.remove();\n      }\n    }\n  }, {\n    key: 'replace',\n    value: function replace(target) {\n      _get(CodeBlock.prototype.__proto__ || Object.getPrototypeOf(CodeBlock.prototype), 'replace', this).call(this, target);\n      [].slice.call(this.domNode.querySelectorAll('*')).forEach(function (node) {\n        var blot = _parchment2.default.find(node);\n        if (blot == null) {\n          node.parentNode.removeChild(node);\n        } else if (blot instanceof _parchment2.default.Embed) {\n          blot.remove();\n        } else {\n          blot.unwrap();\n        }\n      });\n    }\n  }], [{\n    key: 'create',\n    value: function create(value) {\n      var domNode = _get(CodeBlock.__proto__ || Object.getPrototypeOf(CodeBlock), 'create', this).call(this, value);\n      domNode.setAttribute('spellcheck', false);\n      return domNode;\n    }\n  }, {\n    key: 'formats',\n    value: function formats() {\n      return true;\n    }\n  }]);\n\n  return CodeBlock;\n}(_block2.default);\n\nCodeBlock.blotName = 'code-block';\nCodeBlock.tagName = 'PRE';\nCodeBlock.TAB = '  ';\n\nexports.Code = Code;\nexports.default = CodeBlock;\n\n/***/ }),\n/* 14 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _quillDelta = __webpack_require__(2);\n\nvar _quillDelta2 = _interopRequireDefault(_quillDelta);\n\nvar _op = __webpack_require__(20);\n\nvar _op2 = _interopRequireDefault(_op);\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nvar _code = __webpack_require__(13);\n\nvar _code2 = _interopRequireDefault(_code);\n\nvar _cursor = __webpack_require__(24);\n\nvar _cursor2 = _interopRequireDefault(_cursor);\n\nvar _block = __webpack_require__(4);\n\nvar _block2 = _interopRequireDefault(_block);\n\nvar _break = __webpack_require__(16);\n\nvar _break2 = _interopRequireDefault(_break);\n\nvar _clone = __webpack_require__(21);\n\nvar _clone2 = _interopRequireDefault(_clone);\n\nvar _deepEqual = __webpack_require__(11);\n\nvar _deepEqual2 = _interopRequireDefault(_deepEqual);\n\nvar _extend = __webpack_require__(3);\n\nvar _extend2 = _interopRequireDefault(_extend);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar ASCII = /^[ -~]*$/;\n\nvar Editor = function () {\n  function Editor(scroll) {\n    _classCallCheck(this, Editor);\n\n    this.scroll = scroll;\n    this.delta = this.getDelta();\n  }\n\n  _createClass(Editor, [{\n    key: 'applyDelta',\n    value: function applyDelta(delta) {\n      var _this = this;\n\n      var consumeNextNewline = false;\n      this.scroll.update();\n      var scrollLength = this.scroll.length();\n      this.scroll.batchStart();\n      delta = normalizeDelta(delta);\n      delta.reduce(function (index, op) {\n        var length = op.retain || op.delete || op.insert.length || 1;\n        var attributes = op.attributes || {};\n        if (op.insert != null) {\n          if (typeof op.insert === 'string') {\n            var text = op.insert;\n            if (text.endsWith('\\n') && consumeNextNewline) {\n              consumeNextNewline = false;\n              text = text.slice(0, -1);\n            }\n            if (index >= scrollLength && !text.endsWith('\\n')) {\n              consumeNextNewline = true;\n            }\n            _this.scroll.insertAt(index, text);\n\n            var _scroll$line = _this.scroll.line(index),\n                _scroll$line2 = _slicedToArray(_scroll$line, 2),\n                line = _scroll$line2[0],\n                offset = _scroll$line2[1];\n\n            var formats = (0, _extend2.default)({}, (0, _block.bubbleFormats)(line));\n            if (line instanceof _block2.default) {\n              var _line$descendant = line.descendant(_parchment2.default.Leaf, offset),\n                  _line$descendant2 = _slicedToArray(_line$descendant, 1),\n                  leaf = _line$descendant2[0];\n\n              formats = (0, _extend2.default)(formats, (0, _block.bubbleFormats)(leaf));\n            }\n            attributes = _op2.default.attributes.diff(formats, attributes) || {};\n          } else if (_typeof(op.insert) === 'object') {\n            var key = Object.keys(op.insert)[0]; // There should only be one key\n            if (key == null) return index;\n            _this.scroll.insertAt(index, key, op.insert[key]);\n          }\n          scrollLength += length;\n        }\n        Object.keys(attributes).forEach(function (name) {\n          _this.scroll.formatAt(index, length, name, attributes[name]);\n        });\n        return index + length;\n      }, 0);\n      delta.reduce(function (index, op) {\n        if (typeof op.delete === 'number') {\n          _this.scroll.deleteAt(index, op.delete);\n          return index;\n        }\n        return index + (op.retain || op.insert.length || 1);\n      }, 0);\n      this.scroll.batchEnd();\n      return this.update(delta);\n    }\n  }, {\n    key: 'deleteText',\n    value: function deleteText(index, length) {\n      this.scroll.deleteAt(index, length);\n      return this.update(new _quillDelta2.default().retain(index).delete(length));\n    }\n  }, {\n    key: 'formatLine',\n    value: function formatLine(index, length) {\n      var _this2 = this;\n\n      var formats = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n      this.scroll.update();\n      Object.keys(formats).forEach(function (format) {\n        if (_this2.scroll.whitelist != null && !_this2.scroll.whitelist[format]) return;\n        var lines = _this2.scroll.lines(index, Math.max(length, 1));\n        var lengthRemaining = length;\n        lines.forEach(function (line) {\n          var lineLength = line.length();\n          if (!(line instanceof _code2.default)) {\n            line.format(format, formats[format]);\n          } else {\n            var codeIndex = index - line.offset(_this2.scroll);\n            var codeLength = line.newlineIndex(codeIndex + lengthRemaining) - codeIndex + 1;\n            line.formatAt(codeIndex, codeLength, format, formats[format]);\n          }\n          lengthRemaining -= lineLength;\n        });\n      });\n      this.scroll.optimize();\n      return this.update(new _quillDelta2.default().retain(index).retain(length, (0, _clone2.default)(formats)));\n    }\n  }, {\n    key: 'formatText',\n    value: function formatText(index, length) {\n      var _this3 = this;\n\n      var formats = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n      Object.keys(formats).forEach(function (format) {\n        _this3.scroll.formatAt(index, length, format, formats[format]);\n      });\n      return this.update(new _quillDelta2.default().retain(index).retain(length, (0, _clone2.default)(formats)));\n    }\n  }, {\n    key: 'getContents',\n    value: function getContents(index, length) {\n      return this.delta.slice(index, index + length);\n    }\n  }, {\n    key: 'getDelta',\n    value: function getDelta() {\n      return this.scroll.lines().reduce(function (delta, line) {\n        return delta.concat(line.delta());\n      }, new _quillDelta2.default());\n    }\n  }, {\n    key: 'getFormat',\n    value: function getFormat(index) {\n      var length = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n\n      var lines = [],\n          leaves = [];\n      if (length === 0) {\n        this.scroll.path(index).forEach(function (path) {\n          var _path = _slicedToArray(path, 1),\n              blot = _path[0];\n\n          if (blot instanceof _block2.default) {\n            lines.push(blot);\n          } else if (blot instanceof _parchment2.default.Leaf) {\n            leaves.push(blot);\n          }\n        });\n      } else {\n        lines = this.scroll.lines(index, length);\n        leaves = this.scroll.descendants(_parchment2.default.Leaf, index, length);\n      }\n      var formatsArr = [lines, leaves].map(function (blots) {\n        if (blots.length === 0) return {};\n        var formats = (0, _block.bubbleFormats)(blots.shift());\n        while (Object.keys(formats).length > 0) {\n          var blot = blots.shift();\n          if (blot == null) return formats;\n          formats = combineFormats((0, _block.bubbleFormats)(blot), formats);\n        }\n        return formats;\n      });\n      return _extend2.default.apply(_extend2.default, formatsArr);\n    }\n  }, {\n    key: 'getText',\n    value: function getText(index, length) {\n      return this.getContents(index, length).filter(function (op) {\n        return typeof op.insert === 'string';\n      }).map(function (op) {\n        return op.insert;\n      }).join('');\n    }\n  }, {\n    key: 'insertEmbed',\n    value: function insertEmbed(index, embed, value) {\n      this.scroll.insertAt(index, embed, value);\n      return this.update(new _quillDelta2.default().retain(index).insert(_defineProperty({}, embed, value)));\n    }\n  }, {\n    key: 'insertText',\n    value: function insertText(index, text) {\n      var _this4 = this;\n\n      var formats = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n      text = text.replace(/\\r\\n/g, '\\n').replace(/\\r/g, '\\n');\n      this.scroll.insertAt(index, text);\n      Object.keys(formats).forEach(function (format) {\n        _this4.scroll.formatAt(index, text.length, format, formats[format]);\n      });\n      return this.update(new _quillDelta2.default().retain(index).insert(text, (0, _clone2.default)(formats)));\n    }\n  }, {\n    key: 'isBlank',\n    value: function isBlank() {\n      if (this.scroll.children.length == 0) return true;\n      if (this.scroll.children.length > 1) return false;\n      var block = this.scroll.children.head;\n      if (block.statics.blotName !== _block2.default.blotName) return false;\n      if (block.children.length > 1) return false;\n      return block.children.head instanceof _break2.default;\n    }\n  }, {\n    key: 'removeFormat',\n    value: function removeFormat(index, length) {\n      var text = this.getText(index, length);\n\n      var _scroll$line3 = this.scroll.line(index + length),\n          _scroll$line4 = _slicedToArray(_scroll$line3, 2),\n          line = _scroll$line4[0],\n          offset = _scroll$line4[1];\n\n      var suffixLength = 0,\n          suffix = new _quillDelta2.default();\n      if (line != null) {\n        if (!(line instanceof _code2.default)) {\n          suffixLength = line.length() - offset;\n        } else {\n          suffixLength = line.newlineIndex(offset) - offset + 1;\n        }\n        suffix = line.delta().slice(offset, offset + suffixLength - 1).insert('\\n');\n      }\n      var contents = this.getContents(index, length + suffixLength);\n      var diff = contents.diff(new _quillDelta2.default().insert(text).concat(suffix));\n      var delta = new _quillDelta2.default().retain(index).concat(diff);\n      return this.applyDelta(delta);\n    }\n  }, {\n    key: 'update',\n    value: function update(change) {\n      var mutations = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n      var cursorIndex = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : undefined;\n\n      var oldDelta = this.delta;\n      if (mutations.length === 1 && mutations[0].type === 'characterData' && mutations[0].target.data.match(ASCII) && _parchment2.default.find(mutations[0].target)) {\n        // Optimization for character changes\n        var textBlot = _parchment2.default.find(mutations[0].target);\n        var formats = (0, _block.bubbleFormats)(textBlot);\n        var index = textBlot.offset(this.scroll);\n        var oldValue = mutations[0].oldValue.replace(_cursor2.default.CONTENTS, '');\n        var oldText = new _quillDelta2.default().insert(oldValue);\n        var newText = new _quillDelta2.default().insert(textBlot.value());\n        var diffDelta = new _quillDelta2.default().retain(index).concat(oldText.diff(newText, cursorIndex));\n        change = diffDelta.reduce(function (delta, op) {\n          if (op.insert) {\n            return delta.insert(op.insert, formats);\n          } else {\n            return delta.push(op);\n          }\n        }, new _quillDelta2.default());\n        this.delta = oldDelta.compose(change);\n      } else {\n        this.delta = this.getDelta();\n        if (!change || !(0, _deepEqual2.default)(oldDelta.compose(change), this.delta)) {\n          change = oldDelta.diff(this.delta, cursorIndex);\n        }\n      }\n      return change;\n    }\n  }]);\n\n  return Editor;\n}();\n\nfunction combineFormats(formats, combined) {\n  return Object.keys(combined).reduce(function (merged, name) {\n    if (formats[name] == null) return merged;\n    if (combined[name] === formats[name]) {\n      merged[name] = combined[name];\n    } else if (Array.isArray(combined[name])) {\n      if (combined[name].indexOf(formats[name]) < 0) {\n        merged[name] = combined[name].concat([formats[name]]);\n      }\n    } else {\n      merged[name] = [combined[name], formats[name]];\n    }\n    return merged;\n  }, {});\n}\n\nfunction normalizeDelta(delta) {\n  return delta.reduce(function (delta, op) {\n    if (op.insert === 1) {\n      var attributes = (0, _clone2.default)(op.attributes);\n      delete attributes['image'];\n      return delta.insert({ image: op.attributes.image }, attributes);\n    }\n    if (op.attributes != null && (op.attributes.list === true || op.attributes.bullet === true)) {\n      op = (0, _clone2.default)(op);\n      if (op.attributes.list) {\n        op.attributes.list = 'ordered';\n      } else {\n        op.attributes.list = 'bullet';\n        delete op.attributes.bullet;\n      }\n    }\n    if (typeof op.insert === 'string') {\n      var text = op.insert.replace(/\\r\\n/g, '\\n').replace(/\\r/g, '\\n');\n      return delta.insert(text, op.attributes);\n    }\n    return delta.push(op);\n  }, new _quillDelta2.default());\n}\n\nexports.default = Editor;\n\n/***/ }),\n/* 15 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.Range = undefined;\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nvar _clone = __webpack_require__(21);\n\nvar _clone2 = _interopRequireDefault(_clone);\n\nvar _deepEqual = __webpack_require__(11);\n\nvar _deepEqual2 = _interopRequireDefault(_deepEqual);\n\nvar _emitter3 = __webpack_require__(8);\n\nvar _emitter4 = _interopRequireDefault(_emitter3);\n\nvar _logger = __webpack_require__(10);\n\nvar _logger2 = _interopRequireDefault(_logger);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar debug = (0, _logger2.default)('quill:selection');\n\nvar Range = function Range(index) {\n  var length = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n\n  _classCallCheck(this, Range);\n\n  this.index = index;\n  this.length = length;\n};\n\nvar Selection = function () {\n  function Selection(scroll, emitter) {\n    var _this = this;\n\n    _classCallCheck(this, Selection);\n\n    this.emitter = emitter;\n    this.scroll = scroll;\n    this.composing = false;\n    this.mouseDown = false;\n    this.root = this.scroll.domNode;\n    this.cursor = _parchment2.default.create('cursor', this);\n    // savedRange is last non-null range\n    this.lastRange = this.savedRange = new Range(0, 0);\n    this.handleComposition();\n    this.handleDragging();\n    this.emitter.listenDOM('selectionchange', document, function () {\n      if (!_this.mouseDown) {\n        setTimeout(_this.update.bind(_this, _emitter4.default.sources.USER), 1);\n      }\n    });\n    this.emitter.on(_emitter4.default.events.EDITOR_CHANGE, function (type, delta) {\n      if (type === _emitter4.default.events.TEXT_CHANGE && delta.length() > 0) {\n        _this.update(_emitter4.default.sources.SILENT);\n      }\n    });\n    this.emitter.on(_emitter4.default.events.SCROLL_BEFORE_UPDATE, function () {\n      if (!_this.hasFocus()) return;\n      var native = _this.getNativeRange();\n      if (native == null) return;\n      if (native.start.node === _this.cursor.textNode) return; // cursor.restore() will handle\n      // TODO unclear if this has negative side effects\n      _this.emitter.once(_emitter4.default.events.SCROLL_UPDATE, function () {\n        try {\n          _this.setNativeRange(native.start.node, native.start.offset, native.end.node, native.end.offset);\n        } catch (ignored) {}\n      });\n    });\n    this.emitter.on(_emitter4.default.events.SCROLL_OPTIMIZE, function (mutations, context) {\n      if (context.range) {\n        var _context$range = context.range,\n            startNode = _context$range.startNode,\n            startOffset = _context$range.startOffset,\n            endNode = _context$range.endNode,\n            endOffset = _context$range.endOffset;\n\n        _this.setNativeRange(startNode, startOffset, endNode, endOffset);\n      }\n    });\n    this.update(_emitter4.default.sources.SILENT);\n  }\n\n  _createClass(Selection, [{\n    key: 'handleComposition',\n    value: function handleComposition() {\n      var _this2 = this;\n\n      this.root.addEventListener('compositionstart', function () {\n        _this2.composing = true;\n      });\n      this.root.addEventListener('compositionend', function () {\n        _this2.composing = false;\n        if (_this2.cursor.parent) {\n          var range = _this2.cursor.restore();\n          if (!range) return;\n          setTimeout(function () {\n            _this2.setNativeRange(range.startNode, range.startOffset, range.endNode, range.endOffset);\n          }, 1);\n        }\n      });\n    }\n  }, {\n    key: 'handleDragging',\n    value: function handleDragging() {\n      var _this3 = this;\n\n      this.emitter.listenDOM('mousedown', document.body, function () {\n        _this3.mouseDown = true;\n      });\n      this.emitter.listenDOM('mouseup', document.body, function () {\n        _this3.mouseDown = false;\n        _this3.update(_emitter4.default.sources.USER);\n      });\n    }\n  }, {\n    key: 'focus',\n    value: function focus() {\n      if (this.hasFocus()) return;\n      this.root.focus();\n      this.setRange(this.savedRange);\n    }\n  }, {\n    key: 'format',\n    value: function format(_format, value) {\n      if (this.scroll.whitelist != null && !this.scroll.whitelist[_format]) return;\n      this.scroll.update();\n      var nativeRange = this.getNativeRange();\n      if (nativeRange == null || !nativeRange.native.collapsed || _parchment2.default.query(_format, _parchment2.default.Scope.BLOCK)) return;\n      if (nativeRange.start.node !== this.cursor.textNode) {\n        var blot = _parchment2.default.find(nativeRange.start.node, false);\n        if (blot == null) return;\n        // TODO Give blot ability to not split\n        if (blot instanceof _parchment2.default.Leaf) {\n          var after = blot.split(nativeRange.start.offset);\n          blot.parent.insertBefore(this.cursor, after);\n        } else {\n          blot.insertBefore(this.cursor, nativeRange.start.node); // Should never happen\n        }\n        this.cursor.attach();\n      }\n      this.cursor.format(_format, value);\n      this.scroll.optimize();\n      this.setNativeRange(this.cursor.textNode, this.cursor.textNode.data.length);\n      this.update();\n    }\n  }, {\n    key: 'getBounds',\n    value: function getBounds(index) {\n      var length = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n\n      var scrollLength = this.scroll.length();\n      index = Math.min(index, scrollLength - 1);\n      length = Math.min(index + length, scrollLength - 1) - index;\n      var node = void 0,\n          _scroll$leaf = this.scroll.leaf(index),\n          _scroll$leaf2 = _slicedToArray(_scroll$leaf, 2),\n          leaf = _scroll$leaf2[0],\n          offset = _scroll$leaf2[1];\n      if (leaf == null) return null;\n\n      var _leaf$position = leaf.position(offset, true);\n\n      var _leaf$position2 = _slicedToArray(_leaf$position, 2);\n\n      node = _leaf$position2[0];\n      offset = _leaf$position2[1];\n\n      var range = document.createRange();\n      if (length > 0) {\n        range.setStart(node, offset);\n\n        var _scroll$leaf3 = this.scroll.leaf(index + length);\n\n        var _scroll$leaf4 = _slicedToArray(_scroll$leaf3, 2);\n\n        leaf = _scroll$leaf4[0];\n        offset = _scroll$leaf4[1];\n\n        if (leaf == null) return null;\n\n        var _leaf$position3 = leaf.position(offset, true);\n\n        var _leaf$position4 = _slicedToArray(_leaf$position3, 2);\n\n        node = _leaf$position4[0];\n        offset = _leaf$position4[1];\n\n        range.setEnd(node, offset);\n        return range.getBoundingClientRect();\n      } else {\n        var side = 'left';\n        var rect = void 0;\n        if (node instanceof Text) {\n          if (offset < node.data.length) {\n            range.setStart(node, offset);\n            range.setEnd(node, offset + 1);\n          } else {\n            range.setStart(node, offset - 1);\n            range.setEnd(node, offset);\n            side = 'right';\n          }\n          rect = range.getBoundingClientRect();\n        } else {\n          rect = leaf.domNode.getBoundingClientRect();\n          if (offset > 0) side = 'right';\n        }\n        return {\n          bottom: rect.top + rect.height,\n          height: rect.height,\n          left: rect[side],\n          right: rect[side],\n          top: rect.top,\n          width: 0\n        };\n      }\n    }\n  }, {\n    key: 'getNativeRange',\n    value: function getNativeRange() {\n      var selection = document.getSelection();\n      if (selection == null || selection.rangeCount <= 0) return null;\n      var nativeRange = selection.getRangeAt(0);\n      if (nativeRange == null) return null;\n      var range = this.normalizeNative(nativeRange);\n      debug.info('getNativeRange', range);\n      return range;\n    }\n  }, {\n    key: 'getRange',\n    value: function getRange() {\n      var normalized = this.getNativeRange();\n      if (normalized == null) return [null, null];\n      var range = this.normalizedToRange(normalized);\n      return [range, normalized];\n    }\n  }, {\n    key: 'hasFocus',\n    value: function hasFocus() {\n      return document.activeElement === this.root;\n    }\n  }, {\n    key: 'normalizedToRange',\n    value: function normalizedToRange(range) {\n      var _this4 = this;\n\n      var positions = [[range.start.node, range.start.offset]];\n      if (!range.native.collapsed) {\n        positions.push([range.end.node, range.end.offset]);\n      }\n      var indexes = positions.map(function (position) {\n        var _position = _slicedToArray(position, 2),\n            node = _position[0],\n            offset = _position[1];\n\n        var blot = _parchment2.default.find(node, true);\n        var index = blot.offset(_this4.scroll);\n        if (offset === 0) {\n          return index;\n        } else if (blot instanceof _parchment2.default.Container) {\n          return index + blot.length();\n        } else {\n          return index + blot.index(node, offset);\n        }\n      });\n      var end = Math.min(Math.max.apply(Math, _toConsumableArray(indexes)), this.scroll.length() - 1);\n      var start = Math.min.apply(Math, [end].concat(_toConsumableArray(indexes)));\n      return new Range(start, end - start);\n    }\n  }, {\n    key: 'normalizeNative',\n    value: function normalizeNative(nativeRange) {\n      if (!contains(this.root, nativeRange.startContainer) || !nativeRange.collapsed && !contains(this.root, nativeRange.endContainer)) {\n        return null;\n      }\n      var range = {\n        start: { node: nativeRange.startContainer, offset: nativeRange.startOffset },\n        end: { node: nativeRange.endContainer, offset: nativeRange.endOffset },\n        native: nativeRange\n      };\n      [range.start, range.end].forEach(function (position) {\n        var node = position.node,\n            offset = position.offset;\n        while (!(node instanceof Text) && node.childNodes.length > 0) {\n          if (node.childNodes.length > offset) {\n            node = node.childNodes[offset];\n            offset = 0;\n          } else if (node.childNodes.length === offset) {\n            node = node.lastChild;\n            offset = node instanceof Text ? node.data.length : node.childNodes.length + 1;\n          } else {\n            break;\n          }\n        }\n        position.node = node, position.offset = offset;\n      });\n      return range;\n    }\n  }, {\n    key: 'rangeToNative',\n    value: function rangeToNative(range) {\n      var _this5 = this;\n\n      var indexes = range.collapsed ? [range.index] : [range.index, range.index + range.length];\n      var args = [];\n      var scrollLength = this.scroll.length();\n      indexes.forEach(function (index, i) {\n        index = Math.min(scrollLength - 1, index);\n        var node = void 0,\n            _scroll$leaf5 = _this5.scroll.leaf(index),\n            _scroll$leaf6 = _slicedToArray(_scroll$leaf5, 2),\n            leaf = _scroll$leaf6[0],\n            offset = _scroll$leaf6[1];\n        var _leaf$position5 = leaf.position(offset, i !== 0);\n\n        var _leaf$position6 = _slicedToArray(_leaf$position5, 2);\n\n        node = _leaf$position6[0];\n        offset = _leaf$position6[1];\n\n        args.push(node, offset);\n      });\n      if (args.length < 2) {\n        args = args.concat(args);\n      }\n      return args;\n    }\n  }, {\n    key: 'scrollIntoView',\n    value: function scrollIntoView(scrollingContainer) {\n      var range = this.lastRange;\n      if (range == null) return;\n      var bounds = this.getBounds(range.index, range.length);\n      if (bounds == null) return;\n      var limit = this.scroll.length() - 1;\n\n      var _scroll$line = this.scroll.line(Math.min(range.index, limit)),\n          _scroll$line2 = _slicedToArray(_scroll$line, 1),\n          first = _scroll$line2[0];\n\n      var last = first;\n      if (range.length > 0) {\n        var _scroll$line3 = this.scroll.line(Math.min(range.index + range.length, limit));\n\n        var _scroll$line4 = _slicedToArray(_scroll$line3, 1);\n\n        last = _scroll$line4[0];\n      }\n      if (first == null || last == null) return;\n      var scrollBounds = scrollingContainer.getBoundingClientRect();\n      if (bounds.top < scrollBounds.top) {\n        scrollingContainer.scrollTop -= scrollBounds.top - bounds.top;\n      } else if (bounds.bottom > scrollBounds.bottom) {\n        scrollingContainer.scrollTop += bounds.bottom - scrollBounds.bottom;\n      }\n    }\n  }, {\n    key: 'setNativeRange',\n    value: function setNativeRange(startNode, startOffset) {\n      var endNode = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : startNode;\n      var endOffset = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : startOffset;\n      var force = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : false;\n\n      debug.info('setNativeRange', startNode, startOffset, endNode, endOffset);\n      if (startNode != null && (this.root.parentNode == null || startNode.parentNode == null || endNode.parentNode == null)) {\n        return;\n      }\n      var selection = document.getSelection();\n      if (selection == null) return;\n      if (startNode != null) {\n        if (!this.hasFocus()) this.root.focus();\n        var native = (this.getNativeRange() || {}).native;\n        if (native == null || force || startNode !== native.startContainer || startOffset !== native.startOffset || endNode !== native.endContainer || endOffset !== native.endOffset) {\n\n          if (startNode.tagName == \"BR\") {\n            startOffset = [].indexOf.call(startNode.parentNode.childNodes, startNode);\n            startNode = startNode.parentNode;\n          }\n          if (endNode.tagName == \"BR\") {\n            endOffset = [].indexOf.call(endNode.parentNode.childNodes, endNode);\n            endNode = endNode.parentNode;\n          }\n          var range = document.createRange();\n          range.setStart(startNode, startOffset);\n          range.setEnd(endNode, endOffset);\n          selection.removeAllRanges();\n          selection.addRange(range);\n        }\n      } else {\n        selection.removeAllRanges();\n        this.root.blur();\n        document.body.focus(); // root.blur() not enough on IE11+Travis+SauceLabs (but not local VMs)\n      }\n    }\n  }, {\n    key: 'setRange',\n    value: function setRange(range) {\n      var force = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      var source = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : _emitter4.default.sources.API;\n\n      if (typeof force === 'string') {\n        source = force;\n        force = false;\n      }\n      debug.info('setRange', range);\n      if (range != null) {\n        var args = this.rangeToNative(range);\n        this.setNativeRange.apply(this, _toConsumableArray(args).concat([force]));\n      } else {\n        this.setNativeRange(null);\n      }\n      this.update(source);\n    }\n  }, {\n    key: 'update',\n    value: function update() {\n      var source = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _emitter4.default.sources.USER;\n\n      var oldRange = this.lastRange;\n\n      var _getRange = this.getRange(),\n          _getRange2 = _slicedToArray(_getRange, 2),\n          lastRange = _getRange2[0],\n          nativeRange = _getRange2[1];\n\n      this.lastRange = lastRange;\n      if (this.lastRange != null) {\n        this.savedRange = this.lastRange;\n      }\n      if (!(0, _deepEqual2.default)(oldRange, this.lastRange)) {\n        var _emitter;\n\n        if (!this.composing && nativeRange != null && nativeRange.native.collapsed && nativeRange.start.node !== this.cursor.textNode) {\n          this.cursor.restore();\n        }\n        var args = [_emitter4.default.events.SELECTION_CHANGE, (0, _clone2.default)(this.lastRange), (0, _clone2.default)(oldRange), source];\n        (_emitter = this.emitter).emit.apply(_emitter, [_emitter4.default.events.EDITOR_CHANGE].concat(args));\n        if (source !== _emitter4.default.sources.SILENT) {\n          var _emitter2;\n\n          (_emitter2 = this.emitter).emit.apply(_emitter2, args);\n        }\n      }\n    }\n  }]);\n\n  return Selection;\n}();\n\nfunction contains(parent, descendant) {\n  try {\n    // Firefox inserts inaccessible nodes around video elements\n    descendant.parentNode;\n  } catch (e) {\n    return false;\n  }\n  // IE11 has bug with Text nodes\n  // https://connect.microsoft.com/IE/feedback/details/780874/node-contains-is-incorrect\n  if (descendant instanceof Text) {\n    descendant = descendant.parentNode;\n  }\n  return parent.contains(descendant);\n}\n\nexports.Range = Range;\nexports.default = Selection;\n\n/***/ }),\n/* 16 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Break = function (_Parchment$Embed) {\n  _inherits(Break, _Parchment$Embed);\n\n  function Break() {\n    _classCallCheck(this, Break);\n\n    return _possibleConstructorReturn(this, (Break.__proto__ || Object.getPrototypeOf(Break)).apply(this, arguments));\n  }\n\n  _createClass(Break, [{\n    key: 'insertInto',\n    value: function insertInto(parent, ref) {\n      if (parent.children.length === 0) {\n        _get(Break.prototype.__proto__ || Object.getPrototypeOf(Break.prototype), 'insertInto', this).call(this, parent, ref);\n      } else {\n        this.remove();\n      }\n    }\n  }, {\n    key: 'length',\n    value: function length() {\n      return 0;\n    }\n  }, {\n    key: 'value',\n    value: function value() {\n      return '';\n    }\n  }], [{\n    key: 'value',\n    value: function value() {\n      return undefined;\n    }\n  }]);\n\n  return Break;\n}(_parchment2.default.Embed);\n\nBreak.blotName = 'break';\nBreak.tagName = 'BR';\n\nexports.default = Break;\n\n/***/ }),\n/* 17 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar linked_list_1 = __webpack_require__(44);\nvar shadow_1 = __webpack_require__(30);\nvar Registry = __webpack_require__(1);\nvar ContainerBlot = /** @class */ (function (_super) {\n    __extends(ContainerBlot, _super);\n    function ContainerBlot(domNode) {\n        var _this = _super.call(this, domNode) || this;\n        _this.build();\n        return _this;\n    }\n    ContainerBlot.prototype.appendChild = function (other) {\n        this.insertBefore(other);\n    };\n    ContainerBlot.prototype.attach = function () {\n        _super.prototype.attach.call(this);\n        this.children.forEach(function (child) {\n            child.attach();\n        });\n    };\n    ContainerBlot.prototype.build = function () {\n        var _this = this;\n        this.children = new linked_list_1.default();\n        // Need to be reversed for if DOM nodes already in order\n        [].slice\n            .call(this.domNode.childNodes)\n            .reverse()\n            .forEach(function (node) {\n            try {\n                var child = makeBlot(node);\n                _this.insertBefore(child, _this.children.head || undefined);\n            }\n            catch (err) {\n                if (err instanceof Registry.ParchmentError)\n                    return;\n                else\n                    throw err;\n            }\n        });\n    };\n    ContainerBlot.prototype.deleteAt = function (index, length) {\n        if (index === 0 && length === this.length()) {\n            return this.remove();\n        }\n        this.children.forEachAt(index, length, function (child, offset, length) {\n            child.deleteAt(offset, length);\n        });\n    };\n    ContainerBlot.prototype.descendant = function (criteria, index) {\n        var _a = this.children.find(index), child = _a[0], offset = _a[1];\n        if ((criteria.blotName == null && criteria(child)) ||\n            (criteria.blotName != null && child instanceof criteria)) {\n            return [child, offset];\n        }\n        else if (child instanceof ContainerBlot) {\n            return child.descendant(criteria, offset);\n        }\n        else {\n            return [null, -1];\n        }\n    };\n    ContainerBlot.prototype.descendants = function (criteria, index, length) {\n        if (index === void 0) { index = 0; }\n        if (length === void 0) { length = Number.MAX_VALUE; }\n        var descendants = [];\n        var lengthLeft = length;\n        this.children.forEachAt(index, length, function (child, index, length) {\n            if ((criteria.blotName == null && criteria(child)) ||\n                (criteria.blotName != null && child instanceof criteria)) {\n                descendants.push(child);\n            }\n            if (child instanceof ContainerBlot) {\n                descendants = descendants.concat(child.descendants(criteria, index, lengthLeft));\n            }\n            lengthLeft -= length;\n        });\n        return descendants;\n    };\n    ContainerBlot.prototype.detach = function () {\n        this.children.forEach(function (child) {\n            child.detach();\n        });\n        _super.prototype.detach.call(this);\n    };\n    ContainerBlot.prototype.formatAt = function (index, length, name, value) {\n        this.children.forEachAt(index, length, function (child, offset, length) {\n            child.formatAt(offset, length, name, value);\n        });\n    };\n    ContainerBlot.prototype.insertAt = function (index, value, def) {\n        var _a = this.children.find(index), child = _a[0], offset = _a[1];\n        if (child) {\n            child.insertAt(offset, value, def);\n        }\n        else {\n            var blot = def == null ? Registry.create('text', value) : Registry.create(value, def);\n            this.appendChild(blot);\n        }\n    };\n    ContainerBlot.prototype.insertBefore = function (childBlot, refBlot) {\n        if (this.statics.allowedChildren != null &&\n            !this.statics.allowedChildren.some(function (child) {\n                return childBlot instanceof child;\n            })) {\n            throw new Registry.ParchmentError(\"Cannot insert \" + childBlot.statics.blotName + \" into \" + this.statics.blotName);\n        }\n        childBlot.insertInto(this, refBlot);\n    };\n    ContainerBlot.prototype.length = function () {\n        return this.children.reduce(function (memo, child) {\n            return memo + child.length();\n        }, 0);\n    };\n    ContainerBlot.prototype.moveChildren = function (targetParent, refNode) {\n        this.children.forEach(function (child) {\n            targetParent.insertBefore(child, refNode);\n        });\n    };\n    ContainerBlot.prototype.optimize = function (context) {\n        _super.prototype.optimize.call(this, context);\n        if (this.children.length === 0) {\n            if (this.statics.defaultChild != null) {\n                var child = Registry.create(this.statics.defaultChild);\n                this.appendChild(child);\n                child.optimize(context);\n            }\n            else {\n                this.remove();\n            }\n        }\n    };\n    ContainerBlot.prototype.path = function (index, inclusive) {\n        if (inclusive === void 0) { inclusive = false; }\n        var _a = this.children.find(index, inclusive), child = _a[0], offset = _a[1];\n        var position = [[this, index]];\n        if (child instanceof ContainerBlot) {\n            return position.concat(child.path(offset, inclusive));\n        }\n        else if (child != null) {\n            position.push([child, offset]);\n        }\n        return position;\n    };\n    ContainerBlot.prototype.removeChild = function (child) {\n        this.children.remove(child);\n    };\n    ContainerBlot.prototype.replace = function (target) {\n        if (target instanceof ContainerBlot) {\n            target.moveChildren(this);\n        }\n        _super.prototype.replace.call(this, target);\n    };\n    ContainerBlot.prototype.split = function (index, force) {\n        if (force === void 0) { force = false; }\n        if (!force) {\n            if (index === 0)\n                return this;\n            if (index === this.length())\n                return this.next;\n        }\n        var after = this.clone();\n        this.parent.insertBefore(after, this.next);\n        this.children.forEachAt(index, this.length(), function (child, offset, length) {\n            child = child.split(offset, force);\n            after.appendChild(child);\n        });\n        return after;\n    };\n    ContainerBlot.prototype.unwrap = function () {\n        this.moveChildren(this.parent, this.next);\n        this.remove();\n    };\n    ContainerBlot.prototype.update = function (mutations, context) {\n        var _this = this;\n        var addedNodes = [];\n        var removedNodes = [];\n        mutations.forEach(function (mutation) {\n            if (mutation.target === _this.domNode && mutation.type === 'childList') {\n                addedNodes.push.apply(addedNodes, mutation.addedNodes);\n                removedNodes.push.apply(removedNodes, mutation.removedNodes);\n            }\n        });\n        removedNodes.forEach(function (node) {\n            // Check node has actually been removed\n            // One exception is Chrome does not immediately remove IFRAMEs\n            // from DOM but MutationRecord is correct in its reported removal\n            if (node.parentNode != null &&\n                // @ts-ignore\n                node.tagName !== 'IFRAME' &&\n                document.body.compareDocumentPosition(node) & Node.DOCUMENT_POSITION_CONTAINED_BY) {\n                return;\n            }\n            var blot = Registry.find(node);\n            if (blot == null)\n                return;\n            if (blot.domNode.parentNode == null || blot.domNode.parentNode === _this.domNode) {\n                blot.detach();\n            }\n        });\n        addedNodes\n            .filter(function (node) {\n            return node.parentNode == _this.domNode;\n        })\n            .sort(function (a, b) {\n            if (a === b)\n                return 0;\n            if (a.compareDocumentPosition(b) & Node.DOCUMENT_POSITION_FOLLOWING) {\n                return 1;\n            }\n            return -1;\n        })\n            .forEach(function (node) {\n            var refBlot = null;\n            if (node.nextSibling != null) {\n                refBlot = Registry.find(node.nextSibling);\n            }\n            var blot = makeBlot(node);\n            if (blot.next != refBlot || blot.next == null) {\n                if (blot.parent != null) {\n                    blot.parent.removeChild(_this);\n                }\n                _this.insertBefore(blot, refBlot || undefined);\n            }\n        });\n    };\n    return ContainerBlot;\n}(shadow_1.default));\nfunction makeBlot(node) {\n    var blot = Registry.find(node);\n    if (blot == null) {\n        try {\n            blot = Registry.create(node);\n        }\n        catch (e) {\n            blot = Registry.create(Registry.Scope.INLINE);\n            [].slice.call(node.childNodes).forEach(function (child) {\n                // @ts-ignore\n                blot.domNode.appendChild(child);\n            });\n            if (node.parentNode) {\n                node.parentNode.replaceChild(blot.domNode, node);\n            }\n            blot.attach();\n        }\n    }\n    return blot;\n}\nexports.default = ContainerBlot;\n\n\n/***/ }),\n/* 18 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar attributor_1 = __webpack_require__(12);\nvar store_1 = __webpack_require__(31);\nvar container_1 = __webpack_require__(17);\nvar Registry = __webpack_require__(1);\nvar FormatBlot = /** @class */ (function (_super) {\n    __extends(FormatBlot, _super);\n    function FormatBlot(domNode) {\n        var _this = _super.call(this, domNode) || this;\n        _this.attributes = new store_1.default(_this.domNode);\n        return _this;\n    }\n    FormatBlot.formats = function (domNode) {\n        if (typeof this.tagName === 'string') {\n            return true;\n        }\n        else if (Array.isArray(this.tagName)) {\n            return domNode.tagName.toLowerCase();\n        }\n        return undefined;\n    };\n    FormatBlot.prototype.format = function (name, value) {\n        var format = Registry.query(name);\n        if (format instanceof attributor_1.default) {\n            this.attributes.attribute(format, value);\n        }\n        else if (value) {\n            if (format != null && (name !== this.statics.blotName || this.formats()[name] !== value)) {\n                this.replaceWith(name, value);\n            }\n        }\n    };\n    FormatBlot.prototype.formats = function () {\n        var formats = this.attributes.values();\n        var format = this.statics.formats(this.domNode);\n        if (format != null) {\n            formats[this.statics.blotName] = format;\n        }\n        return formats;\n    };\n    FormatBlot.prototype.replaceWith = function (name, value) {\n        var replacement = _super.prototype.replaceWith.call(this, name, value);\n        this.attributes.copy(replacement);\n        return replacement;\n    };\n    FormatBlot.prototype.update = function (mutations, context) {\n        var _this = this;\n        _super.prototype.update.call(this, mutations, context);\n        if (mutations.some(function (mutation) {\n            return mutation.target === _this.domNode && mutation.type === 'attributes';\n        })) {\n            this.attributes.build();\n        }\n    };\n    FormatBlot.prototype.wrap = function (name, value) {\n        var wrapper = _super.prototype.wrap.call(this, name, value);\n        if (wrapper instanceof FormatBlot && wrapper.statics.scope === this.statics.scope) {\n            this.attributes.move(wrapper);\n        }\n        return wrapper;\n    };\n    return FormatBlot;\n}(container_1.default));\nexports.default = FormatBlot;\n\n\n/***/ }),\n/* 19 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar shadow_1 = __webpack_require__(30);\nvar Registry = __webpack_require__(1);\nvar LeafBlot = /** @class */ (function (_super) {\n    __extends(LeafBlot, _super);\n    function LeafBlot() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    LeafBlot.value = function (domNode) {\n        return true;\n    };\n    LeafBlot.prototype.index = function (node, offset) {\n        if (this.domNode === node ||\n            this.domNode.compareDocumentPosition(node) & Node.DOCUMENT_POSITION_CONTAINED_BY) {\n            return Math.min(offset, 1);\n        }\n        return -1;\n    };\n    LeafBlot.prototype.position = function (index, inclusive) {\n        var offset = [].indexOf.call(this.parent.domNode.childNodes, this.domNode);\n        if (index > 0)\n            offset += 1;\n        return [this.parent.domNode, offset];\n    };\n    LeafBlot.prototype.value = function () {\n        var _a;\n        return _a = {}, _a[this.statics.blotName] = this.statics.value(this.domNode) || true, _a;\n    };\n    LeafBlot.scope = Registry.Scope.INLINE_BLOT;\n    return LeafBlot;\n}(shadow_1.default));\nexports.default = LeafBlot;\n\n\n/***/ }),\n/* 20 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar equal = __webpack_require__(11);\nvar extend = __webpack_require__(3);\n\n\nvar lib = {\n  attributes: {\n    compose: function (a, b, keepNull) {\n      if (typeof a !== 'object') a = {};\n      if (typeof b !== 'object') b = {};\n      var attributes = extend(true, {}, b);\n      if (!keepNull) {\n        attributes = Object.keys(attributes).reduce(function (copy, key) {\n          if (attributes[key] != null) {\n            copy[key] = attributes[key];\n          }\n          return copy;\n        }, {});\n      }\n      for (var key in a) {\n        if (a[key] !== undefined && b[key] === undefined) {\n          attributes[key] = a[key];\n        }\n      }\n      return Object.keys(attributes).length > 0 ? attributes : undefined;\n    },\n\n    diff: function(a, b) {\n      if (typeof a !== 'object') a = {};\n      if (typeof b !== 'object') b = {};\n      var attributes = Object.keys(a).concat(Object.keys(b)).reduce(function (attributes, key) {\n        if (!equal(a[key], b[key])) {\n          attributes[key] = b[key] === undefined ? null : b[key];\n        }\n        return attributes;\n      }, {});\n      return Object.keys(attributes).length > 0 ? attributes : undefined;\n    },\n\n    transform: function (a, b, priority) {\n      if (typeof a !== 'object') return b;\n      if (typeof b !== 'object') return undefined;\n      if (!priority) return b;  // b simply overwrites us without priority\n      var attributes = Object.keys(b).reduce(function (attributes, key) {\n        if (a[key] === undefined) attributes[key] = b[key];  // null is a valid value\n        return attributes;\n      }, {});\n      return Object.keys(attributes).length > 0 ? attributes : undefined;\n    }\n  },\n\n  iterator: function (ops) {\n    return new Iterator(ops);\n  },\n\n  length: function (op) {\n    if (typeof op['delete'] === 'number') {\n      return op['delete'];\n    } else if (typeof op.retain === 'number') {\n      return op.retain;\n    } else {\n      return typeof op.insert === 'string' ? op.insert.length : 1;\n    }\n  }\n};\n\n\nfunction Iterator(ops) {\n  this.ops = ops;\n  this.index = 0;\n  this.offset = 0;\n};\n\nIterator.prototype.hasNext = function () {\n  return this.peekLength() < Infinity;\n};\n\nIterator.prototype.next = function (length) {\n  if (!length) length = Infinity;\n  var nextOp = this.ops[this.index];\n  if (nextOp) {\n    var offset = this.offset;\n    var opLength = lib.length(nextOp)\n    if (length >= opLength - offset) {\n      length = opLength - offset;\n      this.index += 1;\n      this.offset = 0;\n    } else {\n      this.offset += length;\n    }\n    if (typeof nextOp['delete'] === 'number') {\n      return { 'delete': length };\n    } else {\n      var retOp = {};\n      if (nextOp.attributes) {\n        retOp.attributes = nextOp.attributes;\n      }\n      if (typeof nextOp.retain === 'number') {\n        retOp.retain = length;\n      } else if (typeof nextOp.insert === 'string') {\n        retOp.insert = nextOp.insert.substr(offset, length);\n      } else {\n        // offset should === 0, length should === 1\n        retOp.insert = nextOp.insert;\n      }\n      return retOp;\n    }\n  } else {\n    return { retain: Infinity };\n  }\n};\n\nIterator.prototype.peek = function () {\n  return this.ops[this.index];\n};\n\nIterator.prototype.peekLength = function () {\n  if (this.ops[this.index]) {\n    // Should never return 0 if our index is being managed correctly\n    return lib.length(this.ops[this.index]) - this.offset;\n  } else {\n    return Infinity;\n  }\n};\n\nIterator.prototype.peekType = function () {\n  if (this.ops[this.index]) {\n    if (typeof this.ops[this.index]['delete'] === 'number') {\n      return 'delete';\n    } else if (typeof this.ops[this.index].retain === 'number') {\n      return 'retain';\n    } else {\n      return 'insert';\n    }\n  }\n  return 'retain';\n};\n\nIterator.prototype.rest = function () {\n  if (!this.hasNext()) {\n    return [];\n  } else if (this.offset === 0) {\n    return this.ops.slice(this.index);\n  } else {\n    var offset = this.offset;\n    var index = this.index;\n    var next = this.next();\n    var rest = this.ops.slice(this.index);\n    this.offset = offset;\n    this.index = index;\n    return [next].concat(rest);\n  }\n};\n\n\nmodule.exports = lib;\n\n\n/***/ }),\n/* 21 */\n/***/ (function(module, exports) {\n\nvar clone = (function() {\n'use strict';\n\nfunction _instanceof(obj, type) {\n  return type != null && obj instanceof type;\n}\n\nvar nativeMap;\ntry {\n  nativeMap = Map;\n} catch(_) {\n  // maybe a reference error because no `Map`. Give it a dummy value that no\n  // value will ever be an instanceof.\n  nativeMap = function() {};\n}\n\nvar nativeSet;\ntry {\n  nativeSet = Set;\n} catch(_) {\n  nativeSet = function() {};\n}\n\nvar nativePromise;\ntry {\n  nativePromise = Promise;\n} catch(_) {\n  nativePromise = function() {};\n}\n\n/**\n * Clones (copies) an Object using deep copying.\n *\n * This function supports circular references by default, but if you are certain\n * there are no circular references in your object, you can save some CPU time\n * by calling clone(obj, false).\n *\n * Caution: if `circular` is false and `parent` contains circular references,\n * your program may enter an infinite loop and crash.\n *\n * @param `parent` - the object to be cloned\n * @param `circular` - set to true if the object to be cloned may contain\n *    circular references. (optional - true by default)\n * @param `depth` - set to a number if the object is only to be cloned to\n *    a particular depth. (optional - defaults to Infinity)\n * @param `prototype` - sets the prototype to be used when cloning an object.\n *    (optional - defaults to parent prototype).\n * @param `includeNonEnumerable` - set to true if the non-enumerable properties\n *    should be cloned as well. Non-enumerable properties on the prototype\n *    chain will be ignored. (optional - false by default)\n*/\nfunction clone(parent, circular, depth, prototype, includeNonEnumerable) {\n  if (typeof circular === 'object') {\n    depth = circular.depth;\n    prototype = circular.prototype;\n    includeNonEnumerable = circular.includeNonEnumerable;\n    circular = circular.circular;\n  }\n  // maintain two arrays for circular references, where corresponding parents\n  // and children have the same index\n  var allParents = [];\n  var allChildren = [];\n\n  var useBuffer = typeof Buffer != 'undefined';\n\n  if (typeof circular == 'undefined')\n    circular = true;\n\n  if (typeof depth == 'undefined')\n    depth = Infinity;\n\n  // recurse this function so we don't reset allParents and allChildren\n  function _clone(parent, depth) {\n    // cloning null always returns null\n    if (parent === null)\n      return null;\n\n    if (depth === 0)\n      return parent;\n\n    var child;\n    var proto;\n    if (typeof parent != 'object') {\n      return parent;\n    }\n\n    if (_instanceof(parent, nativeMap)) {\n      child = new nativeMap();\n    } else if (_instanceof(parent, nativeSet)) {\n      child = new nativeSet();\n    } else if (_instanceof(parent, nativePromise)) {\n      child = new nativePromise(function (resolve, reject) {\n        parent.then(function(value) {\n          resolve(_clone(value, depth - 1));\n        }, function(err) {\n          reject(_clone(err, depth - 1));\n        });\n      });\n    } else if (clone.__isArray(parent)) {\n      child = [];\n    } else if (clone.__isRegExp(parent)) {\n      child = new RegExp(parent.source, __getRegExpFlags(parent));\n      if (parent.lastIndex) child.lastIndex = parent.lastIndex;\n    } else if (clone.__isDate(parent)) {\n      child = new Date(parent.getTime());\n    } else if (useBuffer && Buffer.isBuffer(parent)) {\n      if (Buffer.allocUnsafe) {\n        // Node.js >= 4.5.0\n        child = Buffer.allocUnsafe(parent.length);\n      } else {\n        // Older Node.js versions\n        child = new Buffer(parent.length);\n      }\n      parent.copy(child);\n      return child;\n    } else if (_instanceof(parent, Error)) {\n      child = Object.create(parent);\n    } else {\n      if (typeof prototype == 'undefined') {\n        proto = Object.getPrototypeOf(parent);\n        child = Object.create(proto);\n      }\n      else {\n        child = Object.create(prototype);\n        proto = prototype;\n      }\n    }\n\n    if (circular) {\n      var index = allParents.indexOf(parent);\n\n      if (index != -1) {\n        return allChildren[index];\n      }\n      allParents.push(parent);\n      allChildren.push(child);\n    }\n\n    if (_instanceof(parent, nativeMap)) {\n      parent.forEach(function(value, key) {\n        var keyChild = _clone(key, depth - 1);\n        var valueChild = _clone(value, depth - 1);\n        child.set(keyChild, valueChild);\n      });\n    }\n    if (_instanceof(parent, nativeSet)) {\n      parent.forEach(function(value) {\n        var entryChild = _clone(value, depth - 1);\n        child.add(entryChild);\n      });\n    }\n\n    for (var i in parent) {\n      var attrs;\n      if (proto) {\n        attrs = Object.getOwnPropertyDescriptor(proto, i);\n      }\n\n      if (attrs && attrs.set == null) {\n        continue;\n      }\n      child[i] = _clone(parent[i], depth - 1);\n    }\n\n    if (Object.getOwnPropertySymbols) {\n      var symbols = Object.getOwnPropertySymbols(parent);\n      for (var i = 0; i < symbols.length; i++) {\n        // Don't need to worry about cloning a symbol because it is a primitive,\n        // like a number or string.\n        var symbol = symbols[i];\n        var descriptor = Object.getOwnPropertyDescriptor(parent, symbol);\n        if (descriptor && !descriptor.enumerable && !includeNonEnumerable) {\n          continue;\n        }\n        child[symbol] = _clone(parent[symbol], depth - 1);\n        if (!descriptor.enumerable) {\n          Object.defineProperty(child, symbol, {\n            enumerable: false\n          });\n        }\n      }\n    }\n\n    if (includeNonEnumerable) {\n      var allPropertyNames = Object.getOwnPropertyNames(parent);\n      for (var i = 0; i < allPropertyNames.length; i++) {\n        var propertyName = allPropertyNames[i];\n        var descriptor = Object.getOwnPropertyDescriptor(parent, propertyName);\n        if (descriptor && descriptor.enumerable) {\n          continue;\n        }\n        child[propertyName] = _clone(parent[propertyName], depth - 1);\n        Object.defineProperty(child, propertyName, {\n          enumerable: false\n        });\n      }\n    }\n\n    return child;\n  }\n\n  return _clone(parent, depth);\n}\n\n/**\n * Simple flat clone using prototype, accepts only objects, usefull for property\n * override on FLAT configuration object (no nested props).\n *\n * USE WITH CAUTION! This may not behave as you wish if you do not know how this\n * works.\n */\nclone.clonePrototype = function clonePrototype(parent) {\n  if (parent === null)\n    return null;\n\n  var c = function () {};\n  c.prototype = parent;\n  return new c();\n};\n\n// private utility functions\n\nfunction __objToStr(o) {\n  return Object.prototype.toString.call(o);\n}\nclone.__objToStr = __objToStr;\n\nfunction __isDate(o) {\n  return typeof o === 'object' && __objToStr(o) === '[object Date]';\n}\nclone.__isDate = __isDate;\n\nfunction __isArray(o) {\n  return typeof o === 'object' && __objToStr(o) === '[object Array]';\n}\nclone.__isArray = __isArray;\n\nfunction __isRegExp(o) {\n  return typeof o === 'object' && __objToStr(o) === '[object RegExp]';\n}\nclone.__isRegExp = __isRegExp;\n\nfunction __getRegExpFlags(re) {\n  var flags = '';\n  if (re.global) flags += 'g';\n  if (re.ignoreCase) flags += 'i';\n  if (re.multiline) flags += 'm';\n  return flags;\n}\nclone.__getRegExpFlags = __getRegExpFlags;\n\nreturn clone;\n})();\n\nif (typeof module === 'object' && module.exports) {\n  module.exports = clone;\n}\n\n\n/***/ }),\n/* 22 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nvar _emitter = __webpack_require__(8);\n\nvar _emitter2 = _interopRequireDefault(_emitter);\n\nvar _block = __webpack_require__(4);\n\nvar _block2 = _interopRequireDefault(_block);\n\nvar _break = __webpack_require__(16);\n\nvar _break2 = _interopRequireDefault(_break);\n\nvar _code = __webpack_require__(13);\n\nvar _code2 = _interopRequireDefault(_code);\n\nvar _container = __webpack_require__(25);\n\nvar _container2 = _interopRequireDefault(_container);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nfunction isLine(blot) {\n  return blot instanceof _block2.default || blot instanceof _block.BlockEmbed;\n}\n\nvar Scroll = function (_Parchment$Scroll) {\n  _inherits(Scroll, _Parchment$Scroll);\n\n  function Scroll(domNode, config) {\n    _classCallCheck(this, Scroll);\n\n    var _this = _possibleConstructorReturn(this, (Scroll.__proto__ || Object.getPrototypeOf(Scroll)).call(this, domNode));\n\n    _this.emitter = config.emitter;\n    if (Array.isArray(config.whitelist)) {\n      _this.whitelist = config.whitelist.reduce(function (whitelist, format) {\n        whitelist[format] = true;\n        return whitelist;\n      }, {});\n    }\n    // Some reason fixes composition issues with character languages in Windows/Chrome, Safari\n    _this.domNode.addEventListener('DOMNodeInserted', function () {});\n    _this.optimize();\n    _this.enable();\n    return _this;\n  }\n\n  _createClass(Scroll, [{\n    key: 'batchStart',\n    value: function batchStart() {\n      this.batch = true;\n    }\n  }, {\n    key: 'batchEnd',\n    value: function batchEnd() {\n      this.batch = false;\n      this.optimize();\n    }\n  }, {\n    key: 'deleteAt',\n    value: function deleteAt(index, length) {\n      var _line = this.line(index),\n          _line2 = _slicedToArray(_line, 2),\n          first = _line2[0],\n          offset = _line2[1];\n\n      var _line3 = this.line(index + length),\n          _line4 = _slicedToArray(_line3, 1),\n          last = _line4[0];\n\n      _get(Scroll.prototype.__proto__ || Object.getPrototypeOf(Scroll.prototype), 'deleteAt', this).call(this, index, length);\n      if (last != null && first !== last && offset > 0) {\n        if (first instanceof _block.BlockEmbed || last instanceof _block.BlockEmbed) {\n          this.optimize();\n          return;\n        }\n        if (first instanceof _code2.default) {\n          var newlineIndex = first.newlineIndex(first.length(), true);\n          if (newlineIndex > -1) {\n            first = first.split(newlineIndex + 1);\n            if (first === last) {\n              this.optimize();\n              return;\n            }\n          }\n        } else if (last instanceof _code2.default) {\n          var _newlineIndex = last.newlineIndex(0);\n          if (_newlineIndex > -1) {\n            last.split(_newlineIndex + 1);\n          }\n        }\n        var ref = last.children.head instanceof _break2.default ? null : last.children.head;\n        first.moveChildren(last, ref);\n        first.remove();\n      }\n      this.optimize();\n    }\n  }, {\n    key: 'enable',\n    value: function enable() {\n      var enabled = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n      this.domNode.setAttribute('contenteditable', enabled);\n    }\n  }, {\n    key: 'formatAt',\n    value: function formatAt(index, length, format, value) {\n      if (this.whitelist != null && !this.whitelist[format]) return;\n      _get(Scroll.prototype.__proto__ || Object.getPrototypeOf(Scroll.prototype), 'formatAt', this).call(this, index, length, format, value);\n      this.optimize();\n    }\n  }, {\n    key: 'insertAt',\n    value: function insertAt(index, value, def) {\n      if (def != null && this.whitelist != null && !this.whitelist[value]) return;\n      if (index >= this.length()) {\n        if (def == null || _parchment2.default.query(value, _parchment2.default.Scope.BLOCK) == null) {\n          var blot = _parchment2.default.create(this.statics.defaultChild);\n          this.appendChild(blot);\n          if (def == null && value.endsWith('\\n')) {\n            value = value.slice(0, -1);\n          }\n          blot.insertAt(0, value, def);\n        } else {\n          var embed = _parchment2.default.create(value, def);\n          this.appendChild(embed);\n        }\n      } else {\n        _get(Scroll.prototype.__proto__ || Object.getPrototypeOf(Scroll.prototype), 'insertAt', this).call(this, index, value, def);\n      }\n      this.optimize();\n    }\n  }, {\n    key: 'insertBefore',\n    value: function insertBefore(blot, ref) {\n      if (blot.statics.scope === _parchment2.default.Scope.INLINE_BLOT) {\n        var wrapper = _parchment2.default.create(this.statics.defaultChild);\n        wrapper.appendChild(blot);\n        blot = wrapper;\n      }\n      _get(Scroll.prototype.__proto__ || Object.getPrototypeOf(Scroll.prototype), 'insertBefore', this).call(this, blot, ref);\n    }\n  }, {\n    key: 'leaf',\n    value: function leaf(index) {\n      return this.path(index).pop() || [null, -1];\n    }\n  }, {\n    key: 'line',\n    value: function line(index) {\n      if (index === this.length()) {\n        return this.line(index - 1);\n      }\n      return this.descendant(isLine, index);\n    }\n  }, {\n    key: 'lines',\n    value: function lines() {\n      var index = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      var length = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : Number.MAX_VALUE;\n\n      var getLines = function getLines(blot, index, length) {\n        var lines = [],\n            lengthLeft = length;\n        blot.children.forEachAt(index, length, function (child, index, length) {\n          if (isLine(child)) {\n            lines.push(child);\n          } else if (child instanceof _parchment2.default.Container) {\n            lines = lines.concat(getLines(child, index, lengthLeft));\n          }\n          lengthLeft -= length;\n        });\n        return lines;\n      };\n      return getLines(this, index, length);\n    }\n  }, {\n    key: 'optimize',\n    value: function optimize() {\n      var mutations = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n      var context = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      if (this.batch === true) return;\n      _get(Scroll.prototype.__proto__ || Object.getPrototypeOf(Scroll.prototype), 'optimize', this).call(this, mutations, context);\n      if (mutations.length > 0) {\n        this.emitter.emit(_emitter2.default.events.SCROLL_OPTIMIZE, mutations, context);\n      }\n    }\n  }, {\n    key: 'path',\n    value: function path(index) {\n      return _get(Scroll.prototype.__proto__ || Object.getPrototypeOf(Scroll.prototype), 'path', this).call(this, index).slice(1); // Exclude self\n    }\n  }, {\n    key: 'update',\n    value: function update(mutations) {\n      if (this.batch === true) return;\n      var source = _emitter2.default.sources.USER;\n      if (typeof mutations === 'string') {\n        source = mutations;\n      }\n      if (!Array.isArray(mutations)) {\n        mutations = this.observer.takeRecords();\n      }\n      if (mutations.length > 0) {\n        this.emitter.emit(_emitter2.default.events.SCROLL_BEFORE_UPDATE, source, mutations);\n      }\n      _get(Scroll.prototype.__proto__ || Object.getPrototypeOf(Scroll.prototype), 'update', this).call(this, mutations.concat([])); // pass copy\n      if (mutations.length > 0) {\n        this.emitter.emit(_emitter2.default.events.SCROLL_UPDATE, source, mutations);\n      }\n    }\n  }]);\n\n  return Scroll;\n}(_parchment2.default.Scroll);\n\nScroll.blotName = 'scroll';\nScroll.className = 'ql-editor';\nScroll.tagName = 'DIV';\nScroll.defaultChild = 'block';\nScroll.allowedChildren = [_block2.default, _block.BlockEmbed, _container2.default];\n\nexports.default = Scroll;\n\n/***/ }),\n/* 23 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.SHORTKEY = exports.default = undefined;\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _clone = __webpack_require__(21);\n\nvar _clone2 = _interopRequireDefault(_clone);\n\nvar _deepEqual = __webpack_require__(11);\n\nvar _deepEqual2 = _interopRequireDefault(_deepEqual);\n\nvar _extend = __webpack_require__(3);\n\nvar _extend2 = _interopRequireDefault(_extend);\n\nvar _quillDelta = __webpack_require__(2);\n\nvar _quillDelta2 = _interopRequireDefault(_quillDelta);\n\nvar _op = __webpack_require__(20);\n\nvar _op2 = _interopRequireDefault(_op);\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nvar _quill = __webpack_require__(5);\n\nvar _quill2 = _interopRequireDefault(_quill);\n\nvar _logger = __webpack_require__(10);\n\nvar _logger2 = _interopRequireDefault(_logger);\n\nvar _module = __webpack_require__(9);\n\nvar _module2 = _interopRequireDefault(_module);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar debug = (0, _logger2.default)('quill:keyboard');\n\nvar SHORTKEY = /Mac/i.test(navigator.platform) ? 'metaKey' : 'ctrlKey';\n\nvar Keyboard = function (_Module) {\n  _inherits(Keyboard, _Module);\n\n  _createClass(Keyboard, null, [{\n    key: 'match',\n    value: function match(evt, binding) {\n      binding = normalize(binding);\n      if (['altKey', 'ctrlKey', 'metaKey', 'shiftKey'].some(function (key) {\n        return !!binding[key] !== evt[key] && binding[key] !== null;\n      })) {\n        return false;\n      }\n      return binding.key === (evt.which || evt.keyCode);\n    }\n  }]);\n\n  function Keyboard(quill, options) {\n    _classCallCheck(this, Keyboard);\n\n    var _this = _possibleConstructorReturn(this, (Keyboard.__proto__ || Object.getPrototypeOf(Keyboard)).call(this, quill, options));\n\n    _this.bindings = {};\n    Object.keys(_this.options.bindings).forEach(function (name) {\n      if (name === 'list autofill' && quill.scroll.whitelist != null && !quill.scroll.whitelist['list']) {\n        return;\n      }\n      if (_this.options.bindings[name]) {\n        _this.addBinding(_this.options.bindings[name]);\n      }\n    });\n    _this.addBinding({ key: Keyboard.keys.ENTER, shiftKey: null }, handleEnter);\n    _this.addBinding({ key: Keyboard.keys.ENTER, metaKey: null, ctrlKey: null, altKey: null }, function () {});\n    if (/Firefox/i.test(navigator.userAgent)) {\n      // Need to handle delete and backspace for Firefox in the general case #1171\n      _this.addBinding({ key: Keyboard.keys.BACKSPACE }, { collapsed: true }, handleBackspace);\n      _this.addBinding({ key: Keyboard.keys.DELETE }, { collapsed: true }, handleDelete);\n    } else {\n      _this.addBinding({ key: Keyboard.keys.BACKSPACE }, { collapsed: true, prefix: /^.?$/ }, handleBackspace);\n      _this.addBinding({ key: Keyboard.keys.DELETE }, { collapsed: true, suffix: /^.?$/ }, handleDelete);\n    }\n    _this.addBinding({ key: Keyboard.keys.BACKSPACE }, { collapsed: false }, handleDeleteRange);\n    _this.addBinding({ key: Keyboard.keys.DELETE }, { collapsed: false }, handleDeleteRange);\n    _this.addBinding({ key: Keyboard.keys.BACKSPACE, altKey: null, ctrlKey: null, metaKey: null, shiftKey: null }, { collapsed: true, offset: 0 }, handleBackspace);\n    _this.listen();\n    return _this;\n  }\n\n  _createClass(Keyboard, [{\n    key: 'addBinding',\n    value: function addBinding(key) {\n      var context = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var handler = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n      var binding = normalize(key);\n      if (binding == null || binding.key == null) {\n        return debug.warn('Attempted to add invalid keyboard binding', binding);\n      }\n      if (typeof context === 'function') {\n        context = { handler: context };\n      }\n      if (typeof handler === 'function') {\n        handler = { handler: handler };\n      }\n      binding = (0, _extend2.default)(binding, context, handler);\n      this.bindings[binding.key] = this.bindings[binding.key] || [];\n      this.bindings[binding.key].push(binding);\n    }\n  }, {\n    key: 'listen',\n    value: function listen() {\n      var _this2 = this;\n\n      this.quill.root.addEventListener('keydown', function (evt) {\n        if (evt.defaultPrevented) return;\n        var which = evt.which || evt.keyCode;\n        var bindings = (_this2.bindings[which] || []).filter(function (binding) {\n          return Keyboard.match(evt, binding);\n        });\n        if (bindings.length === 0) return;\n        var range = _this2.quill.getSelection();\n        if (range == null || !_this2.quill.hasFocus()) return;\n\n        var _quill$getLine = _this2.quill.getLine(range.index),\n            _quill$getLine2 = _slicedToArray(_quill$getLine, 2),\n            line = _quill$getLine2[0],\n            offset = _quill$getLine2[1];\n\n        var _quill$getLeaf = _this2.quill.getLeaf(range.index),\n            _quill$getLeaf2 = _slicedToArray(_quill$getLeaf, 2),\n            leafStart = _quill$getLeaf2[0],\n            offsetStart = _quill$getLeaf2[1];\n\n        var _ref = range.length === 0 ? [leafStart, offsetStart] : _this2.quill.getLeaf(range.index + range.length),\n            _ref2 = _slicedToArray(_ref, 2),\n            leafEnd = _ref2[0],\n            offsetEnd = _ref2[1];\n\n        var prefixText = leafStart instanceof _parchment2.default.Text ? leafStart.value().slice(0, offsetStart) : '';\n        var suffixText = leafEnd instanceof _parchment2.default.Text ? leafEnd.value().slice(offsetEnd) : '';\n        var curContext = {\n          collapsed: range.length === 0,\n          empty: range.length === 0 && line.length() <= 1,\n          format: _this2.quill.getFormat(range),\n          offset: offset,\n          prefix: prefixText,\n          suffix: suffixText\n        };\n        var prevented = bindings.some(function (binding) {\n          if (binding.collapsed != null && binding.collapsed !== curContext.collapsed) return false;\n          if (binding.empty != null && binding.empty !== curContext.empty) return false;\n          if (binding.offset != null && binding.offset !== curContext.offset) return false;\n          if (Array.isArray(binding.format)) {\n            // any format is present\n            if (binding.format.every(function (name) {\n              return curContext.format[name] == null;\n            })) {\n              return false;\n            }\n          } else if (_typeof(binding.format) === 'object') {\n            // all formats must match\n            if (!Object.keys(binding.format).every(function (name) {\n              if (binding.format[name] === true) return curContext.format[name] != null;\n              if (binding.format[name] === false) return curContext.format[name] == null;\n              return (0, _deepEqual2.default)(binding.format[name], curContext.format[name]);\n            })) {\n              return false;\n            }\n          }\n          if (binding.prefix != null && !binding.prefix.test(curContext.prefix)) return false;\n          if (binding.suffix != null && !binding.suffix.test(curContext.suffix)) return false;\n          return binding.handler.call(_this2, range, curContext) !== true;\n        });\n        if (prevented) {\n          evt.preventDefault();\n        }\n      });\n    }\n  }]);\n\n  return Keyboard;\n}(_module2.default);\n\nKeyboard.keys = {\n  BACKSPACE: 8,\n  TAB: 9,\n  ENTER: 13,\n  ESCAPE: 27,\n  LEFT: 37,\n  UP: 38,\n  RIGHT: 39,\n  DOWN: 40,\n  DELETE: 46\n};\n\nKeyboard.DEFAULTS = {\n  bindings: {\n    'bold': makeFormatHandler('bold'),\n    'italic': makeFormatHandler('italic'),\n    'underline': makeFormatHandler('underline'),\n    'indent': {\n      // highlight tab or tab at beginning of list, indent or blockquote\n      key: Keyboard.keys.TAB,\n      format: ['blockquote', 'indent', 'list'],\n      handler: function handler(range, context) {\n        if (context.collapsed && context.offset !== 0) return true;\n        this.quill.format('indent', '+1', _quill2.default.sources.USER);\n      }\n    },\n    'outdent': {\n      key: Keyboard.keys.TAB,\n      shiftKey: true,\n      format: ['blockquote', 'indent', 'list'],\n      // highlight tab or tab at beginning of list, indent or blockquote\n      handler: function handler(range, context) {\n        if (context.collapsed && context.offset !== 0) return true;\n        this.quill.format('indent', '-1', _quill2.default.sources.USER);\n      }\n    },\n    'outdent backspace': {\n      key: Keyboard.keys.BACKSPACE,\n      collapsed: true,\n      shiftKey: null,\n      metaKey: null,\n      ctrlKey: null,\n      altKey: null,\n      format: ['indent', 'list'],\n      offset: 0,\n      handler: function handler(range, context) {\n        if (context.format.indent != null) {\n          this.quill.format('indent', '-1', _quill2.default.sources.USER);\n        } else if (context.format.list != null) {\n          this.quill.format('list', false, _quill2.default.sources.USER);\n        }\n      }\n    },\n    'indent code-block': makeCodeBlockHandler(true),\n    'outdent code-block': makeCodeBlockHandler(false),\n    'remove tab': {\n      key: Keyboard.keys.TAB,\n      shiftKey: true,\n      collapsed: true,\n      prefix: /\\t$/,\n      handler: function handler(range) {\n        this.quill.deleteText(range.index - 1, 1, _quill2.default.sources.USER);\n      }\n    },\n    'tab': {\n      key: Keyboard.keys.TAB,\n      handler: function handler(range) {\n        this.quill.history.cutoff();\n        var delta = new _quillDelta2.default().retain(range.index).delete(range.length).insert('\\t');\n        this.quill.updateContents(delta, _quill2.default.sources.USER);\n        this.quill.history.cutoff();\n        this.quill.setSelection(range.index + 1, _quill2.default.sources.SILENT);\n      }\n    },\n    'list empty enter': {\n      key: Keyboard.keys.ENTER,\n      collapsed: true,\n      format: ['list'],\n      empty: true,\n      handler: function handler(range, context) {\n        this.quill.format('list', false, _quill2.default.sources.USER);\n        if (context.format.indent) {\n          this.quill.format('indent', false, _quill2.default.sources.USER);\n        }\n      }\n    },\n    'checklist enter': {\n      key: Keyboard.keys.ENTER,\n      collapsed: true,\n      format: { list: 'checked' },\n      handler: function handler(range) {\n        var _quill$getLine3 = this.quill.getLine(range.index),\n            _quill$getLine4 = _slicedToArray(_quill$getLine3, 2),\n            line = _quill$getLine4[0],\n            offset = _quill$getLine4[1];\n\n        var formats = (0, _extend2.default)({}, line.formats(), { list: 'checked' });\n        var delta = new _quillDelta2.default().retain(range.index).insert('\\n', formats).retain(line.length() - offset - 1).retain(1, { list: 'unchecked' });\n        this.quill.updateContents(delta, _quill2.default.sources.USER);\n        this.quill.setSelection(range.index + 1, _quill2.default.sources.SILENT);\n        this.quill.scrollIntoView();\n      }\n    },\n    'header enter': {\n      key: Keyboard.keys.ENTER,\n      collapsed: true,\n      format: ['header'],\n      suffix: /^$/,\n      handler: function handler(range, context) {\n        var _quill$getLine5 = this.quill.getLine(range.index),\n            _quill$getLine6 = _slicedToArray(_quill$getLine5, 2),\n            line = _quill$getLine6[0],\n            offset = _quill$getLine6[1];\n\n        var delta = new _quillDelta2.default().retain(range.index).insert('\\n', context.format).retain(line.length() - offset - 1).retain(1, { header: null });\n        this.quill.updateContents(delta, _quill2.default.sources.USER);\n        this.quill.setSelection(range.index + 1, _quill2.default.sources.SILENT);\n        this.quill.scrollIntoView();\n      }\n    },\n    'list autofill': {\n      key: ' ',\n      collapsed: true,\n      format: { list: false },\n      prefix: /^\\s*?(\\d+\\.|-|\\*|\\[ ?\\]|\\[x\\])$/,\n      handler: function handler(range, context) {\n        var length = context.prefix.length;\n\n        var _quill$getLine7 = this.quill.getLine(range.index),\n            _quill$getLine8 = _slicedToArray(_quill$getLine7, 2),\n            line = _quill$getLine8[0],\n            offset = _quill$getLine8[1];\n\n        if (offset > length) return true;\n        var value = void 0;\n        switch (context.prefix.trim()) {\n          case '[]':case '[ ]':\n            value = 'unchecked';\n            break;\n          case '[x]':\n            value = 'checked';\n            break;\n          case '-':case '*':\n            value = 'bullet';\n            break;\n          default:\n            value = 'ordered';\n        }\n        this.quill.insertText(range.index, ' ', _quill2.default.sources.USER);\n        this.quill.history.cutoff();\n        var delta = new _quillDelta2.default().retain(range.index - offset).delete(length + 1).retain(line.length() - 2 - offset).retain(1, { list: value });\n        this.quill.updateContents(delta, _quill2.default.sources.USER);\n        this.quill.history.cutoff();\n        this.quill.setSelection(range.index - length, _quill2.default.sources.SILENT);\n      }\n    },\n    'code exit': {\n      key: Keyboard.keys.ENTER,\n      collapsed: true,\n      format: ['code-block'],\n      prefix: /\\n\\n$/,\n      suffix: /^\\s+$/,\n      handler: function handler(range) {\n        var _quill$getLine9 = this.quill.getLine(range.index),\n            _quill$getLine10 = _slicedToArray(_quill$getLine9, 2),\n            line = _quill$getLine10[0],\n            offset = _quill$getLine10[1];\n\n        var delta = new _quillDelta2.default().retain(range.index + line.length() - offset - 2).retain(1, { 'code-block': null }).delete(1);\n        this.quill.updateContents(delta, _quill2.default.sources.USER);\n      }\n    },\n    'embed left': makeEmbedArrowHandler(Keyboard.keys.LEFT, false),\n    'embed left shift': makeEmbedArrowHandler(Keyboard.keys.LEFT, true),\n    'embed right': makeEmbedArrowHandler(Keyboard.keys.RIGHT, false),\n    'embed right shift': makeEmbedArrowHandler(Keyboard.keys.RIGHT, true)\n  }\n};\n\nfunction makeEmbedArrowHandler(key, shiftKey) {\n  var _ref3;\n\n  var where = key === Keyboard.keys.LEFT ? 'prefix' : 'suffix';\n  return _ref3 = {\n    key: key,\n    shiftKey: shiftKey,\n    altKey: null\n  }, _defineProperty(_ref3, where, /^$/), _defineProperty(_ref3, 'handler', function handler(range) {\n    var index = range.index;\n    if (key === Keyboard.keys.RIGHT) {\n      index += range.length + 1;\n    }\n\n    var _quill$getLeaf3 = this.quill.getLeaf(index),\n        _quill$getLeaf4 = _slicedToArray(_quill$getLeaf3, 1),\n        leaf = _quill$getLeaf4[0];\n\n    if (!(leaf instanceof _parchment2.default.Embed)) return true;\n    if (key === Keyboard.keys.LEFT) {\n      if (shiftKey) {\n        this.quill.setSelection(range.index - 1, range.length + 1, _quill2.default.sources.USER);\n      } else {\n        this.quill.setSelection(range.index - 1, _quill2.default.sources.USER);\n      }\n    } else {\n      if (shiftKey) {\n        this.quill.setSelection(range.index, range.length + 1, _quill2.default.sources.USER);\n      } else {\n        this.quill.setSelection(range.index + range.length + 1, _quill2.default.sources.USER);\n      }\n    }\n    return false;\n  }), _ref3;\n}\n\nfunction handleBackspace(range, context) {\n  if (range.index === 0 || this.quill.getLength() <= 1) return;\n\n  var _quill$getLine11 = this.quill.getLine(range.index),\n      _quill$getLine12 = _slicedToArray(_quill$getLine11, 1),\n      line = _quill$getLine12[0];\n\n  var formats = {};\n  if (context.offset === 0) {\n    var _quill$getLine13 = this.quill.getLine(range.index - 1),\n        _quill$getLine14 = _slicedToArray(_quill$getLine13, 1),\n        prev = _quill$getLine14[0];\n\n    if (prev != null && prev.length() > 1) {\n      var curFormats = line.formats();\n      var prevFormats = this.quill.getFormat(range.index - 1, 1);\n      formats = _op2.default.attributes.diff(curFormats, prevFormats) || {};\n    }\n  }\n  // Check for astral symbols\n  var length = /[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]$/.test(context.prefix) ? 2 : 1;\n  this.quill.deleteText(range.index - length, length, _quill2.default.sources.USER);\n  if (Object.keys(formats).length > 0) {\n    this.quill.formatLine(range.index - length, length, formats, _quill2.default.sources.USER);\n  }\n  this.quill.focus();\n}\n\nfunction handleDelete(range, context) {\n  // Check for astral symbols\n  var length = /^[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/.test(context.suffix) ? 2 : 1;\n  if (range.index >= this.quill.getLength() - length) return;\n  var formats = {},\n      nextLength = 0;\n\n  var _quill$getLine15 = this.quill.getLine(range.index),\n      _quill$getLine16 = _slicedToArray(_quill$getLine15, 1),\n      line = _quill$getLine16[0];\n\n  if (context.offset >= line.length() - 1) {\n    var _quill$getLine17 = this.quill.getLine(range.index + 1),\n        _quill$getLine18 = _slicedToArray(_quill$getLine17, 1),\n        next = _quill$getLine18[0];\n\n    if (next) {\n      var curFormats = line.formats();\n      var nextFormats = this.quill.getFormat(range.index, 1);\n      formats = _op2.default.attributes.diff(curFormats, nextFormats) || {};\n      nextLength = next.length();\n    }\n  }\n  this.quill.deleteText(range.index, length, _quill2.default.sources.USER);\n  if (Object.keys(formats).length > 0) {\n    this.quill.formatLine(range.index + nextLength - 1, length, formats, _quill2.default.sources.USER);\n  }\n}\n\nfunction handleDeleteRange(range) {\n  var lines = this.quill.getLines(range);\n  var formats = {};\n  if (lines.length > 1) {\n    var firstFormats = lines[0].formats();\n    var lastFormats = lines[lines.length - 1].formats();\n    formats = _op2.default.attributes.diff(lastFormats, firstFormats) || {};\n  }\n  this.quill.deleteText(range, _quill2.default.sources.USER);\n  if (Object.keys(formats).length > 0) {\n    this.quill.formatLine(range.index, 1, formats, _quill2.default.sources.USER);\n  }\n  this.quill.setSelection(range.index, _quill2.default.sources.SILENT);\n  this.quill.focus();\n}\n\nfunction handleEnter(range, context) {\n  var _this3 = this;\n\n  if (range.length > 0) {\n    this.quill.scroll.deleteAt(range.index, range.length); // So we do not trigger text-change\n  }\n  var lineFormats = Object.keys(context.format).reduce(function (lineFormats, format) {\n    if (_parchment2.default.query(format, _parchment2.default.Scope.BLOCK) && !Array.isArray(context.format[format])) {\n      lineFormats[format] = context.format[format];\n    }\n    return lineFormats;\n  }, {});\n  this.quill.insertText(range.index, '\\n', lineFormats, _quill2.default.sources.USER);\n  // Earlier scroll.deleteAt might have messed up our selection,\n  // so insertText's built in selection preservation is not reliable\n  this.quill.setSelection(range.index + 1, _quill2.default.sources.SILENT);\n  this.quill.focus();\n  Object.keys(context.format).forEach(function (name) {\n    if (lineFormats[name] != null) return;\n    if (Array.isArray(context.format[name])) return;\n    if (name === 'link') return;\n    _this3.quill.format(name, context.format[name], _quill2.default.sources.USER);\n  });\n}\n\nfunction makeCodeBlockHandler(indent) {\n  return {\n    key: Keyboard.keys.TAB,\n    shiftKey: !indent,\n    format: { 'code-block': true },\n    handler: function handler(range) {\n      var CodeBlock = _parchment2.default.query('code-block');\n      var index = range.index,\n          length = range.length;\n\n      var _quill$scroll$descend = this.quill.scroll.descendant(CodeBlock, index),\n          _quill$scroll$descend2 = _slicedToArray(_quill$scroll$descend, 2),\n          block = _quill$scroll$descend2[0],\n          offset = _quill$scroll$descend2[1];\n\n      if (block == null) return;\n      var scrollIndex = this.quill.getIndex(block);\n      var start = block.newlineIndex(offset, true) + 1;\n      var end = block.newlineIndex(scrollIndex + offset + length);\n      var lines = block.domNode.textContent.slice(start, end).split('\\n');\n      offset = 0;\n      lines.forEach(function (line, i) {\n        if (indent) {\n          block.insertAt(start + offset, CodeBlock.TAB);\n          offset += CodeBlock.TAB.length;\n          if (i === 0) {\n            index += CodeBlock.TAB.length;\n          } else {\n            length += CodeBlock.TAB.length;\n          }\n        } else if (line.startsWith(CodeBlock.TAB)) {\n          block.deleteAt(start + offset, CodeBlock.TAB.length);\n          offset -= CodeBlock.TAB.length;\n          if (i === 0) {\n            index -= CodeBlock.TAB.length;\n          } else {\n            length -= CodeBlock.TAB.length;\n          }\n        }\n        offset += line.length + 1;\n      });\n      this.quill.update(_quill2.default.sources.USER);\n      this.quill.setSelection(index, length, _quill2.default.sources.SILENT);\n    }\n  };\n}\n\nfunction makeFormatHandler(format) {\n  return {\n    key: format[0].toUpperCase(),\n    shortKey: true,\n    handler: function handler(range, context) {\n      this.quill.format(format, !context.format[format], _quill2.default.sources.USER);\n    }\n  };\n}\n\nfunction normalize(binding) {\n  if (typeof binding === 'string' || typeof binding === 'number') {\n    return normalize({ key: binding });\n  }\n  if ((typeof binding === 'undefined' ? 'undefined' : _typeof(binding)) === 'object') {\n    binding = (0, _clone2.default)(binding, false);\n  }\n  if (typeof binding.key === 'string') {\n    if (Keyboard.keys[binding.key.toUpperCase()] != null) {\n      binding.key = Keyboard.keys[binding.key.toUpperCase()];\n    } else if (binding.key.length === 1) {\n      binding.key = binding.key.toUpperCase().charCodeAt(0);\n    } else {\n      return null;\n    }\n  }\n  if (binding.shortKey) {\n    binding[SHORTKEY] = binding.shortKey;\n    delete binding.shortKey;\n  }\n  return binding;\n}\n\nexports.default = Keyboard;\nexports.SHORTKEY = SHORTKEY;\n\n/***/ }),\n/* 24 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nvar _text = __webpack_require__(7);\n\nvar _text2 = _interopRequireDefault(_text);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Cursor = function (_Parchment$Embed) {\n  _inherits(Cursor, _Parchment$Embed);\n\n  _createClass(Cursor, null, [{\n    key: 'value',\n    value: function value() {\n      return undefined;\n    }\n  }]);\n\n  function Cursor(domNode, selection) {\n    _classCallCheck(this, Cursor);\n\n    var _this = _possibleConstructorReturn(this, (Cursor.__proto__ || Object.getPrototypeOf(Cursor)).call(this, domNode));\n\n    _this.selection = selection;\n    _this.textNode = document.createTextNode(Cursor.CONTENTS);\n    _this.domNode.appendChild(_this.textNode);\n    _this._length = 0;\n    return _this;\n  }\n\n  _createClass(Cursor, [{\n    key: 'detach',\n    value: function detach() {\n      // super.detach() will also clear domNode.__blot\n      if (this.parent != null) this.parent.removeChild(this);\n    }\n  }, {\n    key: 'format',\n    value: function format(name, value) {\n      if (this._length !== 0) {\n        return _get(Cursor.prototype.__proto__ || Object.getPrototypeOf(Cursor.prototype), 'format', this).call(this, name, value);\n      }\n      var target = this,\n          index = 0;\n      while (target != null && target.statics.scope !== _parchment2.default.Scope.BLOCK_BLOT) {\n        index += target.offset(target.parent);\n        target = target.parent;\n      }\n      if (target != null) {\n        this._length = Cursor.CONTENTS.length;\n        target.optimize();\n        target.formatAt(index, Cursor.CONTENTS.length, name, value);\n        this._length = 0;\n      }\n    }\n  }, {\n    key: 'index',\n    value: function index(node, offset) {\n      if (node === this.textNode) return 0;\n      return _get(Cursor.prototype.__proto__ || Object.getPrototypeOf(Cursor.prototype), 'index', this).call(this, node, offset);\n    }\n  }, {\n    key: 'length',\n    value: function length() {\n      return this._length;\n    }\n  }, {\n    key: 'position',\n    value: function position() {\n      return [this.textNode, this.textNode.data.length];\n    }\n  }, {\n    key: 'remove',\n    value: function remove() {\n      _get(Cursor.prototype.__proto__ || Object.getPrototypeOf(Cursor.prototype), 'remove', this).call(this);\n      this.parent = null;\n    }\n  }, {\n    key: 'restore',\n    value: function restore() {\n      if (this.selection.composing || this.parent == null) return;\n      var textNode = this.textNode;\n      var range = this.selection.getNativeRange();\n      var restoreText = void 0,\n          start = void 0,\n          end = void 0;\n      if (range != null && range.start.node === textNode && range.end.node === textNode) {\n        var _ref = [textNode, range.start.offset, range.end.offset];\n        restoreText = _ref[0];\n        start = _ref[1];\n        end = _ref[2];\n      }\n      // Link format will insert text outside of anchor tag\n      while (this.domNode.lastChild != null && this.domNode.lastChild !== this.textNode) {\n        this.domNode.parentNode.insertBefore(this.domNode.lastChild, this.domNode);\n      }\n      if (this.textNode.data !== Cursor.CONTENTS) {\n        var text = this.textNode.data.split(Cursor.CONTENTS).join('');\n        if (this.next instanceof _text2.default) {\n          restoreText = this.next.domNode;\n          this.next.insertAt(0, text);\n          this.textNode.data = Cursor.CONTENTS;\n        } else {\n          this.textNode.data = text;\n          this.parent.insertBefore(_parchment2.default.create(this.textNode), this);\n          this.textNode = document.createTextNode(Cursor.CONTENTS);\n          this.domNode.appendChild(this.textNode);\n        }\n      }\n      this.remove();\n      if (start != null) {\n        var _map = [start, end].map(function (offset) {\n          return Math.max(0, Math.min(restoreText.data.length, offset - 1));\n        });\n\n        var _map2 = _slicedToArray(_map, 2);\n\n        start = _map2[0];\n        end = _map2[1];\n\n        return {\n          startNode: restoreText,\n          startOffset: start,\n          endNode: restoreText,\n          endOffset: end\n        };\n      }\n    }\n  }, {\n    key: 'update',\n    value: function update(mutations, context) {\n      var _this2 = this;\n\n      if (mutations.some(function (mutation) {\n        return mutation.type === 'characterData' && mutation.target === _this2.textNode;\n      })) {\n        var range = this.restore();\n        if (range) context.range = range;\n      }\n    }\n  }, {\n    key: 'value',\n    value: function value() {\n      return '';\n    }\n  }]);\n\n  return Cursor;\n}(_parchment2.default.Embed);\n\nCursor.blotName = 'cursor';\nCursor.className = 'ql-cursor';\nCursor.tagName = 'span';\nCursor.CONTENTS = '\\uFEFF'; // Zero width no break space\n\n\nexports.default = Cursor;\n\n/***/ }),\n/* 25 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nvar _block = __webpack_require__(4);\n\nvar _block2 = _interopRequireDefault(_block);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Container = function (_Parchment$Container) {\n  _inherits(Container, _Parchment$Container);\n\n  function Container() {\n    _classCallCheck(this, Container);\n\n    return _possibleConstructorReturn(this, (Container.__proto__ || Object.getPrototypeOf(Container)).apply(this, arguments));\n  }\n\n  return Container;\n}(_parchment2.default.Container);\n\nContainer.allowedChildren = [_block2.default, _block.BlockEmbed, Container];\n\nexports.default = Container;\n\n/***/ }),\n/* 26 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ColorStyle = exports.ColorClass = exports.ColorAttributor = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar ColorAttributor = function (_Parchment$Attributor) {\n  _inherits(ColorAttributor, _Parchment$Attributor);\n\n  function ColorAttributor() {\n    _classCallCheck(this, ColorAttributor);\n\n    return _possibleConstructorReturn(this, (ColorAttributor.__proto__ || Object.getPrototypeOf(ColorAttributor)).apply(this, arguments));\n  }\n\n  _createClass(ColorAttributor, [{\n    key: 'value',\n    value: function value(domNode) {\n      var value = _get(ColorAttributor.prototype.__proto__ || Object.getPrototypeOf(ColorAttributor.prototype), 'value', this).call(this, domNode);\n      if (!value.startsWith('rgb(')) return value;\n      value = value.replace(/^[^\\d]+/, '').replace(/[^\\d]+$/, '');\n      return '#' + value.split(',').map(function (component) {\n        return ('00' + parseInt(component).toString(16)).slice(-2);\n      }).join('');\n    }\n  }]);\n\n  return ColorAttributor;\n}(_parchment2.default.Attributor.Style);\n\nvar ColorClass = new _parchment2.default.Attributor.Class('color', 'ql-color', {\n  scope: _parchment2.default.Scope.INLINE\n});\nvar ColorStyle = new ColorAttributor('color', 'color', {\n  scope: _parchment2.default.Scope.INLINE\n});\n\nexports.ColorAttributor = ColorAttributor;\nexports.ColorClass = ColorClass;\nexports.ColorStyle = ColorStyle;\n\n/***/ }),\n/* 27 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.sanitize = exports.default = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _inline = __webpack_require__(6);\n\nvar _inline2 = _interopRequireDefault(_inline);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Link = function (_Inline) {\n  _inherits(Link, _Inline);\n\n  function Link() {\n    _classCallCheck(this, Link);\n\n    return _possibleConstructorReturn(this, (Link.__proto__ || Object.getPrototypeOf(Link)).apply(this, arguments));\n  }\n\n  _createClass(Link, [{\n    key: 'format',\n    value: function format(name, value) {\n      if (name !== this.statics.blotName || !value) return _get(Link.prototype.__proto__ || Object.getPrototypeOf(Link.prototype), 'format', this).call(this, name, value);\n      value = this.constructor.sanitize(value);\n      this.domNode.setAttribute('href', value);\n    }\n  }], [{\n    key: 'create',\n    value: function create(value) {\n      var node = _get(Link.__proto__ || Object.getPrototypeOf(Link), 'create', this).call(this, value);\n      value = this.sanitize(value);\n      node.setAttribute('href', value);\n      node.setAttribute('rel', 'noopener noreferrer');\n      node.setAttribute('target', '_blank');\n      return node;\n    }\n  }, {\n    key: 'formats',\n    value: function formats(domNode) {\n      return domNode.getAttribute('href');\n    }\n  }, {\n    key: 'sanitize',\n    value: function sanitize(url) {\n      return _sanitize(url, this.PROTOCOL_WHITELIST) ? url : this.SANITIZED_URL;\n    }\n  }]);\n\n  return Link;\n}(_inline2.default);\n\nLink.blotName = 'link';\nLink.tagName = 'A';\nLink.SANITIZED_URL = 'about:blank';\nLink.PROTOCOL_WHITELIST = ['http', 'https', 'mailto', 'tel'];\n\nfunction _sanitize(url, protocols) {\n  var anchor = document.createElement('a');\n  anchor.href = url;\n  var protocol = anchor.href.slice(0, anchor.href.indexOf(':'));\n  return protocols.indexOf(protocol) > -1;\n}\n\nexports.default = Link;\nexports.sanitize = _sanitize;\n\n/***/ }),\n/* 28 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _keyboard = __webpack_require__(23);\n\nvar _keyboard2 = _interopRequireDefault(_keyboard);\n\nvar _dropdown = __webpack_require__(107);\n\nvar _dropdown2 = _interopRequireDefault(_dropdown);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar optionsCounter = 0;\n\nfunction toggleAriaAttribute(element, attribute) {\n  element.setAttribute(attribute, !(element.getAttribute(attribute) === 'true'));\n}\n\nvar Picker = function () {\n  function Picker(select) {\n    var _this = this;\n\n    _classCallCheck(this, Picker);\n\n    this.select = select;\n    this.container = document.createElement('span');\n    this.buildPicker();\n    this.select.style.display = 'none';\n    this.select.parentNode.insertBefore(this.container, this.select);\n\n    this.label.addEventListener('mousedown', function () {\n      _this.togglePicker();\n    });\n    this.label.addEventListener('keydown', function (event) {\n      switch (event.keyCode) {\n        // Allows the \"Enter\" key to open the picker\n        case _keyboard2.default.keys.ENTER:\n          _this.togglePicker();\n          break;\n\n        // Allows the \"Escape\" key to close the picker\n        case _keyboard2.default.keys.ESCAPE:\n          _this.escape();\n          event.preventDefault();\n          break;\n        default:\n      }\n    });\n    this.select.addEventListener('change', this.update.bind(this));\n  }\n\n  _createClass(Picker, [{\n    key: 'togglePicker',\n    value: function togglePicker() {\n      this.container.classList.toggle('ql-expanded');\n      // Toggle aria-expanded and aria-hidden to make the picker accessible\n      toggleAriaAttribute(this.label, 'aria-expanded');\n      toggleAriaAttribute(this.options, 'aria-hidden');\n    }\n  }, {\n    key: 'buildItem',\n    value: function buildItem(option) {\n      var _this2 = this;\n\n      var item = document.createElement('span');\n      item.tabIndex = '0';\n      item.setAttribute('role', 'button');\n\n      item.classList.add('ql-picker-item');\n      if (option.hasAttribute('value')) {\n        item.setAttribute('data-value', option.getAttribute('value'));\n      }\n      if (option.textContent) {\n        item.setAttribute('data-label', option.textContent);\n      }\n      item.addEventListener('click', function () {\n        _this2.selectItem(item, true);\n      });\n      item.addEventListener('keydown', function (event) {\n        switch (event.keyCode) {\n          // Allows the \"Enter\" key to select an item\n          case _keyboard2.default.keys.ENTER:\n            _this2.selectItem(item, true);\n            event.preventDefault();\n            break;\n\n          // Allows the \"Escape\" key to close the picker\n          case _keyboard2.default.keys.ESCAPE:\n            _this2.escape();\n            event.preventDefault();\n            break;\n          default:\n        }\n      });\n\n      return item;\n    }\n  }, {\n    key: 'buildLabel',\n    value: function buildLabel() {\n      var label = document.createElement('span');\n      label.classList.add('ql-picker-label');\n      label.innerHTML = _dropdown2.default;\n      label.tabIndex = '0';\n      label.setAttribute('role', 'button');\n      label.setAttribute('aria-expanded', 'false');\n      this.container.appendChild(label);\n      return label;\n    }\n  }, {\n    key: 'buildOptions',\n    value: function buildOptions() {\n      var _this3 = this;\n\n      var options = document.createElement('span');\n      options.classList.add('ql-picker-options');\n\n      // Don't want screen readers to read this until options are visible\n      options.setAttribute('aria-hidden', 'true');\n      options.tabIndex = '-1';\n\n      // Need a unique id for aria-controls\n      options.id = 'ql-picker-options-' + optionsCounter;\n      optionsCounter += 1;\n      this.label.setAttribute('aria-controls', options.id);\n\n      this.options = options;\n\n      [].slice.call(this.select.options).forEach(function (option) {\n        var item = _this3.buildItem(option);\n        options.appendChild(item);\n        if (option.selected === true) {\n          _this3.selectItem(item);\n        }\n      });\n      this.container.appendChild(options);\n    }\n  }, {\n    key: 'buildPicker',\n    value: function buildPicker() {\n      var _this4 = this;\n\n      [].slice.call(this.select.attributes).forEach(function (item) {\n        _this4.container.setAttribute(item.name, item.value);\n      });\n      this.container.classList.add('ql-picker');\n      this.label = this.buildLabel();\n      this.buildOptions();\n    }\n  }, {\n    key: 'escape',\n    value: function escape() {\n      var _this5 = this;\n\n      // Close menu and return focus to trigger label\n      this.close();\n      // Need setTimeout for accessibility to ensure that the browser executes\n      // focus on the next process thread and after any DOM content changes\n      setTimeout(function () {\n        return _this5.label.focus();\n      }, 1);\n    }\n  }, {\n    key: 'close',\n    value: function close() {\n      this.container.classList.remove('ql-expanded');\n      this.label.setAttribute('aria-expanded', 'false');\n      this.options.setAttribute('aria-hidden', 'true');\n    }\n  }, {\n    key: 'selectItem',\n    value: function selectItem(item) {\n      var trigger = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n      var selected = this.container.querySelector('.ql-selected');\n      if (item === selected) return;\n      if (selected != null) {\n        selected.classList.remove('ql-selected');\n      }\n      if (item == null) return;\n      item.classList.add('ql-selected');\n      this.select.selectedIndex = [].indexOf.call(item.parentNode.children, item);\n      if (item.hasAttribute('data-value')) {\n        this.label.setAttribute('data-value', item.getAttribute('data-value'));\n      } else {\n        this.label.removeAttribute('data-value');\n      }\n      if (item.hasAttribute('data-label')) {\n        this.label.setAttribute('data-label', item.getAttribute('data-label'));\n      } else {\n        this.label.removeAttribute('data-label');\n      }\n      if (trigger) {\n        if (typeof Event === 'function') {\n          this.select.dispatchEvent(new Event('change'));\n        } else if ((typeof Event === 'undefined' ? 'undefined' : _typeof(Event)) === 'object') {\n          // IE11\n          var event = document.createEvent('Event');\n          event.initEvent('change', true, true);\n          this.select.dispatchEvent(event);\n        }\n        this.close();\n      }\n    }\n  }, {\n    key: 'update',\n    value: function update() {\n      var option = void 0;\n      if (this.select.selectedIndex > -1) {\n        var item = this.container.querySelector('.ql-picker-options').children[this.select.selectedIndex];\n        option = this.select.options[this.select.selectedIndex];\n        this.selectItem(item);\n      } else {\n        this.selectItem(null);\n      }\n      var isActive = option != null && option !== this.select.querySelector('option[selected]');\n      this.label.classList.toggle('ql-active', isActive);\n    }\n  }]);\n\n  return Picker;\n}();\n\nexports.default = Picker;\n\n/***/ }),\n/* 29 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nvar _quill = __webpack_require__(5);\n\nvar _quill2 = _interopRequireDefault(_quill);\n\nvar _block = __webpack_require__(4);\n\nvar _block2 = _interopRequireDefault(_block);\n\nvar _break = __webpack_require__(16);\n\nvar _break2 = _interopRequireDefault(_break);\n\nvar _container = __webpack_require__(25);\n\nvar _container2 = _interopRequireDefault(_container);\n\nvar _cursor = __webpack_require__(24);\n\nvar _cursor2 = _interopRequireDefault(_cursor);\n\nvar _embed = __webpack_require__(35);\n\nvar _embed2 = _interopRequireDefault(_embed);\n\nvar _inline = __webpack_require__(6);\n\nvar _inline2 = _interopRequireDefault(_inline);\n\nvar _scroll = __webpack_require__(22);\n\nvar _scroll2 = _interopRequireDefault(_scroll);\n\nvar _text = __webpack_require__(7);\n\nvar _text2 = _interopRequireDefault(_text);\n\nvar _clipboard = __webpack_require__(55);\n\nvar _clipboard2 = _interopRequireDefault(_clipboard);\n\nvar _history = __webpack_require__(42);\n\nvar _history2 = _interopRequireDefault(_history);\n\nvar _keyboard = __webpack_require__(23);\n\nvar _keyboard2 = _interopRequireDefault(_keyboard);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n_quill2.default.register({\n  'blots/block': _block2.default,\n  'blots/block/embed': _block.BlockEmbed,\n  'blots/break': _break2.default,\n  'blots/container': _container2.default,\n  'blots/cursor': _cursor2.default,\n  'blots/embed': _embed2.default,\n  'blots/inline': _inline2.default,\n  'blots/scroll': _scroll2.default,\n  'blots/text': _text2.default,\n\n  'modules/clipboard': _clipboard2.default,\n  'modules/history': _history2.default,\n  'modules/keyboard': _keyboard2.default\n});\n\n_parchment2.default.register(_block2.default, _break2.default, _cursor2.default, _inline2.default, _scroll2.default, _text2.default);\n\nexports.default = _quill2.default;\n\n/***/ }),\n/* 30 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Registry = __webpack_require__(1);\nvar ShadowBlot = /** @class */ (function () {\n    function ShadowBlot(domNode) {\n        this.domNode = domNode;\n        // @ts-ignore\n        this.domNode[Registry.DATA_KEY] = { blot: this };\n    }\n    Object.defineProperty(ShadowBlot.prototype, \"statics\", {\n        // Hack for accessing inherited static methods\n        get: function () {\n            return this.constructor;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    ShadowBlot.create = function (value) {\n        if (this.tagName == null) {\n            throw new Registry.ParchmentError('Blot definition missing tagName');\n        }\n        var node;\n        if (Array.isArray(this.tagName)) {\n            if (typeof value === 'string') {\n                value = value.toUpperCase();\n                if (parseInt(value).toString() === value) {\n                    value = parseInt(value);\n                }\n            }\n            if (typeof value === 'number') {\n                node = document.createElement(this.tagName[value - 1]);\n            }\n            else if (this.tagName.indexOf(value) > -1) {\n                node = document.createElement(value);\n            }\n            else {\n                node = document.createElement(this.tagName[0]);\n            }\n        }\n        else {\n            node = document.createElement(this.tagName);\n        }\n        if (this.className) {\n            node.classList.add(this.className);\n        }\n        return node;\n    };\n    ShadowBlot.prototype.attach = function () {\n        if (this.parent != null) {\n            this.scroll = this.parent.scroll;\n        }\n    };\n    ShadowBlot.prototype.clone = function () {\n        var domNode = this.domNode.cloneNode(false);\n        return Registry.create(domNode);\n    };\n    ShadowBlot.prototype.detach = function () {\n        if (this.parent != null)\n            this.parent.removeChild(this);\n        // @ts-ignore\n        delete this.domNode[Registry.DATA_KEY];\n    };\n    ShadowBlot.prototype.deleteAt = function (index, length) {\n        var blot = this.isolate(index, length);\n        blot.remove();\n    };\n    ShadowBlot.prototype.formatAt = function (index, length, name, value) {\n        var blot = this.isolate(index, length);\n        if (Registry.query(name, Registry.Scope.BLOT) != null && value) {\n            blot.wrap(name, value);\n        }\n        else if (Registry.query(name, Registry.Scope.ATTRIBUTE) != null) {\n            var parent = Registry.create(this.statics.scope);\n            blot.wrap(parent);\n            parent.format(name, value);\n        }\n    };\n    ShadowBlot.prototype.insertAt = function (index, value, def) {\n        var blot = def == null ? Registry.create('text', value) : Registry.create(value, def);\n        var ref = this.split(index);\n        this.parent.insertBefore(blot, ref);\n    };\n    ShadowBlot.prototype.insertInto = function (parentBlot, refBlot) {\n        if (refBlot === void 0) { refBlot = null; }\n        if (this.parent != null) {\n            this.parent.children.remove(this);\n        }\n        var refDomNode = null;\n        parentBlot.children.insertBefore(this, refBlot);\n        if (refBlot != null) {\n            refDomNode = refBlot.domNode;\n        }\n        if (this.domNode.parentNode != parentBlot.domNode ||\n            this.domNode.nextSibling != refDomNode) {\n            parentBlot.domNode.insertBefore(this.domNode, refDomNode);\n        }\n        this.parent = parentBlot;\n        this.attach();\n    };\n    ShadowBlot.prototype.isolate = function (index, length) {\n        var target = this.split(index);\n        target.split(length);\n        return target;\n    };\n    ShadowBlot.prototype.length = function () {\n        return 1;\n    };\n    ShadowBlot.prototype.offset = function (root) {\n        if (root === void 0) { root = this.parent; }\n        if (this.parent == null || this == root)\n            return 0;\n        return this.parent.children.offset(this) + this.parent.offset(root);\n    };\n    ShadowBlot.prototype.optimize = function (context) {\n        // TODO clean up once we use WeakMap\n        // @ts-ignore\n        if (this.domNode[Registry.DATA_KEY] != null) {\n            // @ts-ignore\n            delete this.domNode[Registry.DATA_KEY].mutations;\n        }\n    };\n    ShadowBlot.prototype.remove = function () {\n        if (this.domNode.parentNode != null) {\n            this.domNode.parentNode.removeChild(this.domNode);\n        }\n        this.detach();\n    };\n    ShadowBlot.prototype.replace = function (target) {\n        if (target.parent == null)\n            return;\n        target.parent.insertBefore(this, target.next);\n        target.remove();\n    };\n    ShadowBlot.prototype.replaceWith = function (name, value) {\n        var replacement = typeof name === 'string' ? Registry.create(name, value) : name;\n        replacement.replace(this);\n        return replacement;\n    };\n    ShadowBlot.prototype.split = function (index, force) {\n        return index === 0 ? this : this.next;\n    };\n    ShadowBlot.prototype.update = function (mutations, context) {\n        // Nothing to do by default\n    };\n    ShadowBlot.prototype.wrap = function (name, value) {\n        var wrapper = typeof name === 'string' ? Registry.create(name, value) : name;\n        if (this.parent != null) {\n            this.parent.insertBefore(wrapper, this.next);\n        }\n        wrapper.appendChild(this);\n        return wrapper;\n    };\n    ShadowBlot.blotName = 'abstract';\n    return ShadowBlot;\n}());\nexports.default = ShadowBlot;\n\n\n/***/ }),\n/* 31 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar attributor_1 = __webpack_require__(12);\nvar class_1 = __webpack_require__(32);\nvar style_1 = __webpack_require__(33);\nvar Registry = __webpack_require__(1);\nvar AttributorStore = /** @class */ (function () {\n    function AttributorStore(domNode) {\n        this.attributes = {};\n        this.domNode = domNode;\n        this.build();\n    }\n    AttributorStore.prototype.attribute = function (attribute, value) {\n        // verb\n        if (value) {\n            if (attribute.add(this.domNode, value)) {\n                if (attribute.value(this.domNode) != null) {\n                    this.attributes[attribute.attrName] = attribute;\n                }\n                else {\n                    delete this.attributes[attribute.attrName];\n                }\n            }\n        }\n        else {\n            attribute.remove(this.domNode);\n            delete this.attributes[attribute.attrName];\n        }\n    };\n    AttributorStore.prototype.build = function () {\n        var _this = this;\n        this.attributes = {};\n        var attributes = attributor_1.default.keys(this.domNode);\n        var classes = class_1.default.keys(this.domNode);\n        var styles = style_1.default.keys(this.domNode);\n        attributes\n            .concat(classes)\n            .concat(styles)\n            .forEach(function (name) {\n            var attr = Registry.query(name, Registry.Scope.ATTRIBUTE);\n            if (attr instanceof attributor_1.default) {\n                _this.attributes[attr.attrName] = attr;\n            }\n        });\n    };\n    AttributorStore.prototype.copy = function (target) {\n        var _this = this;\n        Object.keys(this.attributes).forEach(function (key) {\n            var value = _this.attributes[key].value(_this.domNode);\n            target.format(key, value);\n        });\n    };\n    AttributorStore.prototype.move = function (target) {\n        var _this = this;\n        this.copy(target);\n        Object.keys(this.attributes).forEach(function (key) {\n            _this.attributes[key].remove(_this.domNode);\n        });\n        this.attributes = {};\n    };\n    AttributorStore.prototype.values = function () {\n        var _this = this;\n        return Object.keys(this.attributes).reduce(function (attributes, name) {\n            attributes[name] = _this.attributes[name].value(_this.domNode);\n            return attributes;\n        }, {});\n    };\n    return AttributorStore;\n}());\nexports.default = AttributorStore;\n\n\n/***/ }),\n/* 32 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar attributor_1 = __webpack_require__(12);\nfunction match(node, prefix) {\n    var className = node.getAttribute('class') || '';\n    return className.split(/\\s+/).filter(function (name) {\n        return name.indexOf(prefix + \"-\") === 0;\n    });\n}\nvar ClassAttributor = /** @class */ (function (_super) {\n    __extends(ClassAttributor, _super);\n    function ClassAttributor() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    ClassAttributor.keys = function (node) {\n        return (node.getAttribute('class') || '').split(/\\s+/).map(function (name) {\n            return name\n                .split('-')\n                .slice(0, -1)\n                .join('-');\n        });\n    };\n    ClassAttributor.prototype.add = function (node, value) {\n        if (!this.canAdd(node, value))\n            return false;\n        this.remove(node);\n        node.classList.add(this.keyName + \"-\" + value);\n        return true;\n    };\n    ClassAttributor.prototype.remove = function (node) {\n        var matches = match(node, this.keyName);\n        matches.forEach(function (name) {\n            node.classList.remove(name);\n        });\n        if (node.classList.length === 0) {\n            node.removeAttribute('class');\n        }\n    };\n    ClassAttributor.prototype.value = function (node) {\n        var result = match(node, this.keyName)[0] || '';\n        var value = result.slice(this.keyName.length + 1); // +1 for hyphen\n        return this.canAdd(node, value) ? value : '';\n    };\n    return ClassAttributor;\n}(attributor_1.default));\nexports.default = ClassAttributor;\n\n\n/***/ }),\n/* 33 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar attributor_1 = __webpack_require__(12);\nfunction camelize(name) {\n    var parts = name.split('-');\n    var rest = parts\n        .slice(1)\n        .map(function (part) {\n        return part[0].toUpperCase() + part.slice(1);\n    })\n        .join('');\n    return parts[0] + rest;\n}\nvar StyleAttributor = /** @class */ (function (_super) {\n    __extends(StyleAttributor, _super);\n    function StyleAttributor() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    StyleAttributor.keys = function (node) {\n        return (node.getAttribute('style') || '').split(';').map(function (value) {\n            var arr = value.split(':');\n            return arr[0].trim();\n        });\n    };\n    StyleAttributor.prototype.add = function (node, value) {\n        if (!this.canAdd(node, value))\n            return false;\n        // @ts-ignore\n        node.style[camelize(this.keyName)] = value;\n        return true;\n    };\n    StyleAttributor.prototype.remove = function (node) {\n        // @ts-ignore\n        node.style[camelize(this.keyName)] = '';\n        if (!node.getAttribute('style')) {\n            node.removeAttribute('style');\n        }\n    };\n    StyleAttributor.prototype.value = function (node) {\n        // @ts-ignore\n        var value = node.style[camelize(this.keyName)];\n        return this.canAdd(node, value) ? value : '';\n    };\n    return StyleAttributor;\n}(attributor_1.default));\nexports.default = StyleAttributor;\n\n\n/***/ }),\n/* 34 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Theme = function () {\n  function Theme(quill, options) {\n    _classCallCheck(this, Theme);\n\n    this.quill = quill;\n    this.options = options;\n    this.modules = {};\n  }\n\n  _createClass(Theme, [{\n    key: 'init',\n    value: function init() {\n      var _this = this;\n\n      Object.keys(this.options.modules).forEach(function (name) {\n        if (_this.modules[name] == null) {\n          _this.addModule(name);\n        }\n      });\n    }\n  }, {\n    key: 'addModule',\n    value: function addModule(name) {\n      var moduleClass = this.quill.constructor.import('modules/' + name);\n      this.modules[name] = new moduleClass(this.quill, this.options.modules[name] || {});\n      return this.modules[name];\n    }\n  }]);\n\n  return Theme;\n}();\n\nTheme.DEFAULTS = {\n  modules: {}\n};\nTheme.themes = {\n  'default': Theme\n};\n\nexports.default = Theme;\n\n/***/ }),\n/* 35 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nvar _text = __webpack_require__(7);\n\nvar _text2 = _interopRequireDefault(_text);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar GUARD_TEXT = '\\uFEFF';\n\nvar Embed = function (_Parchment$Embed) {\n  _inherits(Embed, _Parchment$Embed);\n\n  function Embed(node) {\n    _classCallCheck(this, Embed);\n\n    var _this = _possibleConstructorReturn(this, (Embed.__proto__ || Object.getPrototypeOf(Embed)).call(this, node));\n\n    _this.contentNode = document.createElement('span');\n    _this.contentNode.setAttribute('contenteditable', false);\n    [].slice.call(_this.domNode.childNodes).forEach(function (childNode) {\n      _this.contentNode.appendChild(childNode);\n    });\n    _this.leftGuard = document.createTextNode(GUARD_TEXT);\n    _this.rightGuard = document.createTextNode(GUARD_TEXT);\n    _this.domNode.appendChild(_this.leftGuard);\n    _this.domNode.appendChild(_this.contentNode);\n    _this.domNode.appendChild(_this.rightGuard);\n    return _this;\n  }\n\n  _createClass(Embed, [{\n    key: 'index',\n    value: function index(node, offset) {\n      if (node === this.leftGuard) return 0;\n      if (node === this.rightGuard) return 1;\n      return _get(Embed.prototype.__proto__ || Object.getPrototypeOf(Embed.prototype), 'index', this).call(this, node, offset);\n    }\n  }, {\n    key: 'restore',\n    value: function restore(node) {\n      var range = void 0,\n          textNode = void 0;\n      var text = node.data.split(GUARD_TEXT).join('');\n      if (node === this.leftGuard) {\n        if (this.prev instanceof _text2.default) {\n          var prevLength = this.prev.length();\n          this.prev.insertAt(prevLength, text);\n          range = {\n            startNode: this.prev.domNode,\n            startOffset: prevLength + text.length\n          };\n        } else {\n          textNode = document.createTextNode(text);\n          this.parent.insertBefore(_parchment2.default.create(textNode), this);\n          range = {\n            startNode: textNode,\n            startOffset: text.length\n          };\n        }\n      } else if (node === this.rightGuard) {\n        if (this.next instanceof _text2.default) {\n          this.next.insertAt(0, text);\n          range = {\n            startNode: this.next.domNode,\n            startOffset: text.length\n          };\n        } else {\n          textNode = document.createTextNode(text);\n          this.parent.insertBefore(_parchment2.default.create(textNode), this.next);\n          range = {\n            startNode: textNode,\n            startOffset: text.length\n          };\n        }\n      }\n      node.data = GUARD_TEXT;\n      return range;\n    }\n  }, {\n    key: 'update',\n    value: function update(mutations, context) {\n      var _this2 = this;\n\n      mutations.forEach(function (mutation) {\n        if (mutation.type === 'characterData' && (mutation.target === _this2.leftGuard || mutation.target === _this2.rightGuard)) {\n          var range = _this2.restore(mutation.target);\n          if (range) context.range = range;\n        }\n      });\n    }\n  }]);\n\n  return Embed;\n}(_parchment2.default.Embed);\n\nexports.default = Embed;\n\n/***/ }),\n/* 36 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.AlignStyle = exports.AlignClass = exports.AlignAttribute = undefined;\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar config = {\n  scope: _parchment2.default.Scope.BLOCK,\n  whitelist: ['right', 'center', 'justify']\n};\n\nvar AlignAttribute = new _parchment2.default.Attributor.Attribute('align', 'align', config);\nvar AlignClass = new _parchment2.default.Attributor.Class('align', 'ql-align', config);\nvar AlignStyle = new _parchment2.default.Attributor.Style('align', 'text-align', config);\n\nexports.AlignAttribute = AlignAttribute;\nexports.AlignClass = AlignClass;\nexports.AlignStyle = AlignStyle;\n\n/***/ }),\n/* 37 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.BackgroundStyle = exports.BackgroundClass = undefined;\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nvar _color = __webpack_require__(26);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar BackgroundClass = new _parchment2.default.Attributor.Class('background', 'ql-bg', {\n  scope: _parchment2.default.Scope.INLINE\n});\nvar BackgroundStyle = new _color.ColorAttributor('background', 'background-color', {\n  scope: _parchment2.default.Scope.INLINE\n});\n\nexports.BackgroundClass = BackgroundClass;\nexports.BackgroundStyle = BackgroundStyle;\n\n/***/ }),\n/* 38 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.DirectionStyle = exports.DirectionClass = exports.DirectionAttribute = undefined;\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar config = {\n  scope: _parchment2.default.Scope.BLOCK,\n  whitelist: ['rtl']\n};\n\nvar DirectionAttribute = new _parchment2.default.Attributor.Attribute('direction', 'dir', config);\nvar DirectionClass = new _parchment2.default.Attributor.Class('direction', 'ql-direction', config);\nvar DirectionStyle = new _parchment2.default.Attributor.Style('direction', 'direction', config);\n\nexports.DirectionAttribute = DirectionAttribute;\nexports.DirectionClass = DirectionClass;\nexports.DirectionStyle = DirectionStyle;\n\n/***/ }),\n/* 39 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.FontClass = exports.FontStyle = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar config = {\n  scope: _parchment2.default.Scope.INLINE,\n  whitelist: ['serif', 'monospace']\n};\n\nvar FontClass = new _parchment2.default.Attributor.Class('font', 'ql-font', config);\n\nvar FontStyleAttributor = function (_Parchment$Attributor) {\n  _inherits(FontStyleAttributor, _Parchment$Attributor);\n\n  function FontStyleAttributor() {\n    _classCallCheck(this, FontStyleAttributor);\n\n    return _possibleConstructorReturn(this, (FontStyleAttributor.__proto__ || Object.getPrototypeOf(FontStyleAttributor)).apply(this, arguments));\n  }\n\n  _createClass(FontStyleAttributor, [{\n    key: 'value',\n    value: function value(node) {\n      return _get(FontStyleAttributor.prototype.__proto__ || Object.getPrototypeOf(FontStyleAttributor.prototype), 'value', this).call(this, node).replace(/[\"']/g, '');\n    }\n  }]);\n\n  return FontStyleAttributor;\n}(_parchment2.default.Attributor.Style);\n\nvar FontStyle = new FontStyleAttributor('font', 'font-family', config);\n\nexports.FontStyle = FontStyle;\nexports.FontClass = FontClass;\n\n/***/ }),\n/* 40 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.SizeStyle = exports.SizeClass = undefined;\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar SizeClass = new _parchment2.default.Attributor.Class('size', 'ql-size', {\n  scope: _parchment2.default.Scope.INLINE,\n  whitelist: ['small', 'large', 'huge']\n});\nvar SizeStyle = new _parchment2.default.Attributor.Style('size', 'font-size', {\n  scope: _parchment2.default.Scope.INLINE,\n  whitelist: ['10px', '18px', '32px']\n});\n\nexports.SizeClass = SizeClass;\nexports.SizeStyle = SizeStyle;\n\n/***/ }),\n/* 41 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nmodule.exports = {\n  'align': {\n    '': __webpack_require__(76),\n    'center': __webpack_require__(77),\n    'right': __webpack_require__(78),\n    'justify': __webpack_require__(79)\n  },\n  'background': __webpack_require__(80),\n  'blockquote': __webpack_require__(81),\n  'bold': __webpack_require__(82),\n  'clean': __webpack_require__(83),\n  'code': __webpack_require__(58),\n  'code-block': __webpack_require__(58),\n  'color': __webpack_require__(84),\n  'direction': {\n    '': __webpack_require__(85),\n    'rtl': __webpack_require__(86)\n  },\n  'float': {\n    'center': __webpack_require__(87),\n    'full': __webpack_require__(88),\n    'left': __webpack_require__(89),\n    'right': __webpack_require__(90)\n  },\n  'formula': __webpack_require__(91),\n  'header': {\n    '1': __webpack_require__(92),\n    '2': __webpack_require__(93)\n  },\n  'italic': __webpack_require__(94),\n  'image': __webpack_require__(95),\n  'indent': {\n    '+1': __webpack_require__(96),\n    '-1': __webpack_require__(97)\n  },\n  'link': __webpack_require__(98),\n  'list': {\n    'ordered': __webpack_require__(99),\n    'bullet': __webpack_require__(100),\n    'check': __webpack_require__(101)\n  },\n  'script': {\n    'sub': __webpack_require__(102),\n    'super': __webpack_require__(103)\n  },\n  'strike': __webpack_require__(104),\n  'underline': __webpack_require__(105),\n  'video': __webpack_require__(106)\n};\n\n/***/ }),\n/* 42 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getLastChangeIndex = exports.default = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nvar _quill = __webpack_require__(5);\n\nvar _quill2 = _interopRequireDefault(_quill);\n\nvar _module = __webpack_require__(9);\n\nvar _module2 = _interopRequireDefault(_module);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar History = function (_Module) {\n  _inherits(History, _Module);\n\n  function History(quill, options) {\n    _classCallCheck(this, History);\n\n    var _this = _possibleConstructorReturn(this, (History.__proto__ || Object.getPrototypeOf(History)).call(this, quill, options));\n\n    _this.lastRecorded = 0;\n    _this.ignoreChange = false;\n    _this.clear();\n    _this.quill.on(_quill2.default.events.EDITOR_CHANGE, function (eventName, delta, oldDelta, source) {\n      if (eventName !== _quill2.default.events.TEXT_CHANGE || _this.ignoreChange) return;\n      if (!_this.options.userOnly || source === _quill2.default.sources.USER) {\n        _this.record(delta, oldDelta);\n      } else {\n        _this.transform(delta);\n      }\n    });\n    _this.quill.keyboard.addBinding({ key: 'Z', shortKey: true }, _this.undo.bind(_this));\n    _this.quill.keyboard.addBinding({ key: 'Z', shortKey: true, shiftKey: true }, _this.redo.bind(_this));\n    if (/Win/i.test(navigator.platform)) {\n      _this.quill.keyboard.addBinding({ key: 'Y', shortKey: true }, _this.redo.bind(_this));\n    }\n    return _this;\n  }\n\n  _createClass(History, [{\n    key: 'change',\n    value: function change(source, dest) {\n      if (this.stack[source].length === 0) return;\n      var delta = this.stack[source].pop();\n      this.stack[dest].push(delta);\n      this.lastRecorded = 0;\n      this.ignoreChange = true;\n      this.quill.updateContents(delta[source], _quill2.default.sources.USER);\n      this.ignoreChange = false;\n      var index = getLastChangeIndex(delta[source]);\n      this.quill.setSelection(index);\n    }\n  }, {\n    key: 'clear',\n    value: function clear() {\n      this.stack = { undo: [], redo: [] };\n    }\n  }, {\n    key: 'cutoff',\n    value: function cutoff() {\n      this.lastRecorded = 0;\n    }\n  }, {\n    key: 'record',\n    value: function record(changeDelta, oldDelta) {\n      if (changeDelta.ops.length === 0) return;\n      this.stack.redo = [];\n      var undoDelta = this.quill.getContents().diff(oldDelta);\n      var timestamp = Date.now();\n      if (this.lastRecorded + this.options.delay > timestamp && this.stack.undo.length > 0) {\n        var delta = this.stack.undo.pop();\n        undoDelta = undoDelta.compose(delta.undo);\n        changeDelta = delta.redo.compose(changeDelta);\n      } else {\n        this.lastRecorded = timestamp;\n      }\n      this.stack.undo.push({\n        redo: changeDelta,\n        undo: undoDelta\n      });\n      if (this.stack.undo.length > this.options.maxStack) {\n        this.stack.undo.shift();\n      }\n    }\n  }, {\n    key: 'redo',\n    value: function redo() {\n      this.change('redo', 'undo');\n    }\n  }, {\n    key: 'transform',\n    value: function transform(delta) {\n      this.stack.undo.forEach(function (change) {\n        change.undo = delta.transform(change.undo, true);\n        change.redo = delta.transform(change.redo, true);\n      });\n      this.stack.redo.forEach(function (change) {\n        change.undo = delta.transform(change.undo, true);\n        change.redo = delta.transform(change.redo, true);\n      });\n    }\n  }, {\n    key: 'undo',\n    value: function undo() {\n      this.change('undo', 'redo');\n    }\n  }]);\n\n  return History;\n}(_module2.default);\n\nHistory.DEFAULTS = {\n  delay: 1000,\n  maxStack: 100,\n  userOnly: false\n};\n\nfunction endsWithNewlineChange(delta) {\n  var lastOp = delta.ops[delta.ops.length - 1];\n  if (lastOp == null) return false;\n  if (lastOp.insert != null) {\n    return typeof lastOp.insert === 'string' && lastOp.insert.endsWith('\\n');\n  }\n  if (lastOp.attributes != null) {\n    return Object.keys(lastOp.attributes).some(function (attr) {\n      return _parchment2.default.query(attr, _parchment2.default.Scope.BLOCK) != null;\n    });\n  }\n  return false;\n}\n\nfunction getLastChangeIndex(delta) {\n  var deleteLength = delta.reduce(function (length, op) {\n    length += op.delete || 0;\n    return length;\n  }, 0);\n  var changeIndex = delta.length() - deleteLength;\n  if (endsWithNewlineChange(delta)) {\n    changeIndex -= 1;\n  }\n  return changeIndex;\n}\n\nexports.default = History;\nexports.getLastChangeIndex = getLastChangeIndex;\n\n/***/ }),\n/* 43 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.BaseTooltip = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _extend = __webpack_require__(3);\n\nvar _extend2 = _interopRequireDefault(_extend);\n\nvar _quillDelta = __webpack_require__(2);\n\nvar _quillDelta2 = _interopRequireDefault(_quillDelta);\n\nvar _emitter = __webpack_require__(8);\n\nvar _emitter2 = _interopRequireDefault(_emitter);\n\nvar _keyboard = __webpack_require__(23);\n\nvar _keyboard2 = _interopRequireDefault(_keyboard);\n\nvar _theme = __webpack_require__(34);\n\nvar _theme2 = _interopRequireDefault(_theme);\n\nvar _colorPicker = __webpack_require__(59);\n\nvar _colorPicker2 = _interopRequireDefault(_colorPicker);\n\nvar _iconPicker = __webpack_require__(60);\n\nvar _iconPicker2 = _interopRequireDefault(_iconPicker);\n\nvar _picker = __webpack_require__(28);\n\nvar _picker2 = _interopRequireDefault(_picker);\n\nvar _tooltip = __webpack_require__(61);\n\nvar _tooltip2 = _interopRequireDefault(_tooltip);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar ALIGNS = [false, 'center', 'right', 'justify'];\n\nvar COLORS = [\"#000000\", \"#e60000\", \"#ff9900\", \"#ffff00\", \"#008a00\", \"#0066cc\", \"#9933ff\", \"#ffffff\", \"#facccc\", \"#ffebcc\", \"#ffffcc\", \"#cce8cc\", \"#cce0f5\", \"#ebd6ff\", \"#bbbbbb\", \"#f06666\", \"#ffc266\", \"#ffff66\", \"#66b966\", \"#66a3e0\", \"#c285ff\", \"#888888\", \"#a10000\", \"#b26b00\", \"#b2b200\", \"#006100\", \"#0047b2\", \"#6b24b2\", \"#444444\", \"#5c0000\", \"#663d00\", \"#666600\", \"#003700\", \"#002966\", \"#3d1466\"];\n\nvar FONTS = [false, 'serif', 'monospace'];\n\nvar HEADERS = ['1', '2', '3', false];\n\nvar SIZES = ['small', false, 'large', 'huge'];\n\nvar BaseTheme = function (_Theme) {\n  _inherits(BaseTheme, _Theme);\n\n  function BaseTheme(quill, options) {\n    _classCallCheck(this, BaseTheme);\n\n    var _this = _possibleConstructorReturn(this, (BaseTheme.__proto__ || Object.getPrototypeOf(BaseTheme)).call(this, quill, options));\n\n    var listener = function listener(e) {\n      if (!document.body.contains(quill.root)) {\n        return document.body.removeEventListener('click', listener);\n      }\n      if (_this.tooltip != null && !_this.tooltip.root.contains(e.target) && document.activeElement !== _this.tooltip.textbox && !_this.quill.hasFocus()) {\n        _this.tooltip.hide();\n      }\n      if (_this.pickers != null) {\n        _this.pickers.forEach(function (picker) {\n          if (!picker.container.contains(e.target)) {\n            picker.close();\n          }\n        });\n      }\n    };\n    quill.emitter.listenDOM('click', document.body, listener);\n    return _this;\n  }\n\n  _createClass(BaseTheme, [{\n    key: 'addModule',\n    value: function addModule(name) {\n      var module = _get(BaseTheme.prototype.__proto__ || Object.getPrototypeOf(BaseTheme.prototype), 'addModule', this).call(this, name);\n      if (name === 'toolbar') {\n        this.extendToolbar(module);\n      }\n      return module;\n    }\n  }, {\n    key: 'buildButtons',\n    value: function buildButtons(buttons, icons) {\n      buttons.forEach(function (button) {\n        var className = button.getAttribute('class') || '';\n        className.split(/\\s+/).forEach(function (name) {\n          if (!name.startsWith('ql-')) return;\n          name = name.slice('ql-'.length);\n          if (icons[name] == null) return;\n          if (name === 'direction') {\n            button.innerHTML = icons[name][''] + icons[name]['rtl'];\n          } else if (typeof icons[name] === 'string') {\n            button.innerHTML = icons[name];\n          } else {\n            var value = button.value || '';\n            if (value != null && icons[name][value]) {\n              button.innerHTML = icons[name][value];\n            }\n          }\n        });\n      });\n    }\n  }, {\n    key: 'buildPickers',\n    value: function buildPickers(selects, icons) {\n      var _this2 = this;\n\n      this.pickers = selects.map(function (select) {\n        if (select.classList.contains('ql-align')) {\n          if (select.querySelector('option') == null) {\n            fillSelect(select, ALIGNS);\n          }\n          return new _iconPicker2.default(select, icons.align);\n        } else if (select.classList.contains('ql-background') || select.classList.contains('ql-color')) {\n          var format = select.classList.contains('ql-background') ? 'background' : 'color';\n          if (select.querySelector('option') == null) {\n            fillSelect(select, COLORS, format === 'background' ? '#ffffff' : '#000000');\n          }\n          return new _colorPicker2.default(select, icons[format]);\n        } else {\n          if (select.querySelector('option') == null) {\n            if (select.classList.contains('ql-font')) {\n              fillSelect(select, FONTS);\n            } else if (select.classList.contains('ql-header')) {\n              fillSelect(select, HEADERS);\n            } else if (select.classList.contains('ql-size')) {\n              fillSelect(select, SIZES);\n            }\n          }\n          return new _picker2.default(select);\n        }\n      });\n      var update = function update() {\n        _this2.pickers.forEach(function (picker) {\n          picker.update();\n        });\n      };\n      this.quill.on(_emitter2.default.events.EDITOR_CHANGE, update);\n    }\n  }]);\n\n  return BaseTheme;\n}(_theme2.default);\n\nBaseTheme.DEFAULTS = (0, _extend2.default)(true, {}, _theme2.default.DEFAULTS, {\n  modules: {\n    toolbar: {\n      handlers: {\n        formula: function formula() {\n          this.quill.theme.tooltip.edit('formula');\n        },\n        image: function image() {\n          var _this3 = this;\n\n          var fileInput = this.container.querySelector('input.ql-image[type=file]');\n          if (fileInput == null) {\n            fileInput = document.createElement('input');\n            fileInput.setAttribute('type', 'file');\n            fileInput.setAttribute('accept', 'image/png, image/gif, image/jpeg, image/bmp, image/x-icon');\n            fileInput.classList.add('ql-image');\n            fileInput.addEventListener('change', function () {\n              if (fileInput.files != null && fileInput.files[0] != null) {\n                var reader = new FileReader();\n                reader.onload = function (e) {\n                  var range = _this3.quill.getSelection(true);\n                  _this3.quill.updateContents(new _quillDelta2.default().retain(range.index).delete(range.length).insert({ image: e.target.result }), _emitter2.default.sources.USER);\n                  _this3.quill.setSelection(range.index + 1, _emitter2.default.sources.SILENT);\n                  fileInput.value = \"\";\n                };\n                reader.readAsDataURL(fileInput.files[0]);\n              }\n            });\n            this.container.appendChild(fileInput);\n          }\n          fileInput.click();\n        },\n        video: function video() {\n          this.quill.theme.tooltip.edit('video');\n        }\n      }\n    }\n  }\n});\n\nvar BaseTooltip = function (_Tooltip) {\n  _inherits(BaseTooltip, _Tooltip);\n\n  function BaseTooltip(quill, boundsContainer) {\n    _classCallCheck(this, BaseTooltip);\n\n    var _this4 = _possibleConstructorReturn(this, (BaseTooltip.__proto__ || Object.getPrototypeOf(BaseTooltip)).call(this, quill, boundsContainer));\n\n    _this4.textbox = _this4.root.querySelector('input[type=\"text\"]');\n    _this4.listen();\n    return _this4;\n  }\n\n  _createClass(BaseTooltip, [{\n    key: 'listen',\n    value: function listen() {\n      var _this5 = this;\n\n      this.textbox.addEventListener('keydown', function (event) {\n        if (_keyboard2.default.match(event, 'enter')) {\n          _this5.save();\n          event.preventDefault();\n        } else if (_keyboard2.default.match(event, 'escape')) {\n          _this5.cancel();\n          event.preventDefault();\n        }\n      });\n    }\n  }, {\n    key: 'cancel',\n    value: function cancel() {\n      this.hide();\n    }\n  }, {\n    key: 'edit',\n    value: function edit() {\n      var mode = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'link';\n      var preview = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n      this.root.classList.remove('ql-hidden');\n      this.root.classList.add('ql-editing');\n      if (preview != null) {\n        this.textbox.value = preview;\n      } else if (mode !== this.root.getAttribute('data-mode')) {\n        this.textbox.value = '';\n      }\n      this.position(this.quill.getBounds(this.quill.selection.savedRange));\n      this.textbox.select();\n      this.textbox.setAttribute('placeholder', this.textbox.getAttribute('data-' + mode) || '');\n      this.root.setAttribute('data-mode', mode);\n    }\n  }, {\n    key: 'restoreFocus',\n    value: function restoreFocus() {\n      var scrollTop = this.quill.scrollingContainer.scrollTop;\n      this.quill.focus();\n      this.quill.scrollingContainer.scrollTop = scrollTop;\n    }\n  }, {\n    key: 'save',\n    value: function save() {\n      var value = this.textbox.value;\n      switch (this.root.getAttribute('data-mode')) {\n        case 'link':\n          {\n            var scrollTop = this.quill.root.scrollTop;\n            if (this.linkRange) {\n              this.quill.formatText(this.linkRange, 'link', value, _emitter2.default.sources.USER);\n              delete this.linkRange;\n            } else {\n              this.restoreFocus();\n              this.quill.format('link', value, _emitter2.default.sources.USER);\n            }\n            this.quill.root.scrollTop = scrollTop;\n            break;\n          }\n        case 'video':\n          {\n            value = extractVideoUrl(value);\n          } // eslint-disable-next-line no-fallthrough\n        case 'formula':\n          {\n            if (!value) break;\n            var range = this.quill.getSelection(true);\n            if (range != null) {\n              var index = range.index + range.length;\n              this.quill.insertEmbed(index, this.root.getAttribute('data-mode'), value, _emitter2.default.sources.USER);\n              if (this.root.getAttribute('data-mode') === 'formula') {\n                this.quill.insertText(index + 1, ' ', _emitter2.default.sources.USER);\n              }\n              this.quill.setSelection(index + 2, _emitter2.default.sources.USER);\n            }\n            break;\n          }\n        default:\n      }\n      this.textbox.value = '';\n      this.hide();\n    }\n  }]);\n\n  return BaseTooltip;\n}(_tooltip2.default);\n\nfunction extractVideoUrl(url) {\n  var match = url.match(/^(?:(https?):\\/\\/)?(?:(?:www|m)\\.)?youtube\\.com\\/watch.*v=([a-zA-Z0-9_-]+)/) || url.match(/^(?:(https?):\\/\\/)?(?:(?:www|m)\\.)?youtu\\.be\\/([a-zA-Z0-9_-]+)/);\n  if (match) {\n    return (match[1] || 'https') + '://www.youtube.com/embed/' + match[2] + '?showinfo=0';\n  }\n  if (match = url.match(/^(?:(https?):\\/\\/)?(?:www\\.)?vimeo\\.com\\/(\\d+)/)) {\n    // eslint-disable-line no-cond-assign\n    return (match[1] || 'https') + '://player.vimeo.com/video/' + match[2] + '/';\n  }\n  return url;\n}\n\nfunction fillSelect(select, values) {\n  var defaultValue = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n  values.forEach(function (value) {\n    var option = document.createElement('option');\n    if (value === defaultValue) {\n      option.setAttribute('selected', 'selected');\n    } else {\n      option.setAttribute('value', value);\n    }\n    select.appendChild(option);\n  });\n}\n\nexports.BaseTooltip = BaseTooltip;\nexports.default = BaseTheme;\n\n/***/ }),\n/* 44 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar LinkedList = /** @class */ (function () {\n    function LinkedList() {\n        this.head = this.tail = null;\n        this.length = 0;\n    }\n    LinkedList.prototype.append = function () {\n        var nodes = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            nodes[_i] = arguments[_i];\n        }\n        this.insertBefore(nodes[0], null);\n        if (nodes.length > 1) {\n            this.append.apply(this, nodes.slice(1));\n        }\n    };\n    LinkedList.prototype.contains = function (node) {\n        var cur, next = this.iterator();\n        while ((cur = next())) {\n            if (cur === node)\n                return true;\n        }\n        return false;\n    };\n    LinkedList.prototype.insertBefore = function (node, refNode) {\n        if (!node)\n            return;\n        node.next = refNode;\n        if (refNode != null) {\n            node.prev = refNode.prev;\n            if (refNode.prev != null) {\n                refNode.prev.next = node;\n            }\n            refNode.prev = node;\n            if (refNode === this.head) {\n                this.head = node;\n            }\n        }\n        else if (this.tail != null) {\n            this.tail.next = node;\n            node.prev = this.tail;\n            this.tail = node;\n        }\n        else {\n            node.prev = null;\n            this.head = this.tail = node;\n        }\n        this.length += 1;\n    };\n    LinkedList.prototype.offset = function (target) {\n        var index = 0, cur = this.head;\n        while (cur != null) {\n            if (cur === target)\n                return index;\n            index += cur.length();\n            cur = cur.next;\n        }\n        return -1;\n    };\n    LinkedList.prototype.remove = function (node) {\n        if (!this.contains(node))\n            return;\n        if (node.prev != null)\n            node.prev.next = node.next;\n        if (node.next != null)\n            node.next.prev = node.prev;\n        if (node === this.head)\n            this.head = node.next;\n        if (node === this.tail)\n            this.tail = node.prev;\n        this.length -= 1;\n    };\n    LinkedList.prototype.iterator = function (curNode) {\n        if (curNode === void 0) { curNode = this.head; }\n        // TODO use yield when we can\n        return function () {\n            var ret = curNode;\n            if (curNode != null)\n                curNode = curNode.next;\n            return ret;\n        };\n    };\n    LinkedList.prototype.find = function (index, inclusive) {\n        if (inclusive === void 0) { inclusive = false; }\n        var cur, next = this.iterator();\n        while ((cur = next())) {\n            var length = cur.length();\n            if (index < length ||\n                (inclusive && index === length && (cur.next == null || cur.next.length() !== 0))) {\n                return [cur, index];\n            }\n            index -= length;\n        }\n        return [null, 0];\n    };\n    LinkedList.prototype.forEach = function (callback) {\n        var cur, next = this.iterator();\n        while ((cur = next())) {\n            callback(cur);\n        }\n    };\n    LinkedList.prototype.forEachAt = function (index, length, callback) {\n        if (length <= 0)\n            return;\n        var _a = this.find(index), startNode = _a[0], offset = _a[1];\n        var cur, curIndex = index - offset, next = this.iterator(startNode);\n        while ((cur = next()) && curIndex < index + length) {\n            var curLength = cur.length();\n            if (index > curIndex) {\n                callback(cur, index - curIndex, Math.min(length, curIndex + curLength - index));\n            }\n            else {\n                callback(cur, 0, Math.min(curLength, index + length - curIndex));\n            }\n            curIndex += curLength;\n        }\n    };\n    LinkedList.prototype.map = function (callback) {\n        return this.reduce(function (memo, cur) {\n            memo.push(callback(cur));\n            return memo;\n        }, []);\n    };\n    LinkedList.prototype.reduce = function (callback, memo) {\n        var cur, next = this.iterator();\n        while ((cur = next())) {\n            memo = callback(memo, cur);\n        }\n        return memo;\n    };\n    return LinkedList;\n}());\nexports.default = LinkedList;\n\n\n/***/ }),\n/* 45 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar container_1 = __webpack_require__(17);\nvar Registry = __webpack_require__(1);\nvar OBSERVER_CONFIG = {\n    attributes: true,\n    characterData: true,\n    characterDataOldValue: true,\n    childList: true,\n    subtree: true,\n};\nvar MAX_OPTIMIZE_ITERATIONS = 100;\nvar ScrollBlot = /** @class */ (function (_super) {\n    __extends(ScrollBlot, _super);\n    function ScrollBlot(node) {\n        var _this = _super.call(this, node) || this;\n        _this.scroll = _this;\n        _this.observer = new MutationObserver(function (mutations) {\n            _this.update(mutations);\n        });\n        _this.observer.observe(_this.domNode, OBSERVER_CONFIG);\n        _this.attach();\n        return _this;\n    }\n    ScrollBlot.prototype.detach = function () {\n        _super.prototype.detach.call(this);\n        this.observer.disconnect();\n    };\n    ScrollBlot.prototype.deleteAt = function (index, length) {\n        this.update();\n        if (index === 0 && length === this.length()) {\n            this.children.forEach(function (child) {\n                child.remove();\n            });\n        }\n        else {\n            _super.prototype.deleteAt.call(this, index, length);\n        }\n    };\n    ScrollBlot.prototype.formatAt = function (index, length, name, value) {\n        this.update();\n        _super.prototype.formatAt.call(this, index, length, name, value);\n    };\n    ScrollBlot.prototype.insertAt = function (index, value, def) {\n        this.update();\n        _super.prototype.insertAt.call(this, index, value, def);\n    };\n    ScrollBlot.prototype.optimize = function (mutations, context) {\n        var _this = this;\n        if (mutations === void 0) { mutations = []; }\n        if (context === void 0) { context = {}; }\n        _super.prototype.optimize.call(this, context);\n        // We must modify mutations directly, cannot make copy and then modify\n        var records = [].slice.call(this.observer.takeRecords());\n        // Array.push currently seems to be implemented by a non-tail recursive function\n        // so we cannot just mutations.push.apply(mutations, this.observer.takeRecords());\n        while (records.length > 0)\n            mutations.push(records.pop());\n        // TODO use WeakMap\n        var mark = function (blot, markParent) {\n            if (markParent === void 0) { markParent = true; }\n            if (blot == null || blot === _this)\n                return;\n            if (blot.domNode.parentNode == null)\n                return;\n            // @ts-ignore\n            if (blot.domNode[Registry.DATA_KEY].mutations == null) {\n                // @ts-ignore\n                blot.domNode[Registry.DATA_KEY].mutations = [];\n            }\n            if (markParent)\n                mark(blot.parent);\n        };\n        var optimize = function (blot) {\n            // Post-order traversal\n            if (\n            // @ts-ignore\n            blot.domNode[Registry.DATA_KEY] == null ||\n                // @ts-ignore\n                blot.domNode[Registry.DATA_KEY].mutations == null) {\n                return;\n            }\n            if (blot instanceof container_1.default) {\n                blot.children.forEach(optimize);\n            }\n            blot.optimize(context);\n        };\n        var remaining = mutations;\n        for (var i = 0; remaining.length > 0; i += 1) {\n            if (i >= MAX_OPTIMIZE_ITERATIONS) {\n                throw new Error('[Parchment] Maximum optimize iterations reached');\n            }\n            remaining.forEach(function (mutation) {\n                var blot = Registry.find(mutation.target, true);\n                if (blot == null)\n                    return;\n                if (blot.domNode === mutation.target) {\n                    if (mutation.type === 'childList') {\n                        mark(Registry.find(mutation.previousSibling, false));\n                        [].forEach.call(mutation.addedNodes, function (node) {\n                            var child = Registry.find(node, false);\n                            mark(child, false);\n                            if (child instanceof container_1.default) {\n                                child.children.forEach(function (grandChild) {\n                                    mark(grandChild, false);\n                                });\n                            }\n                        });\n                    }\n                    else if (mutation.type === 'attributes') {\n                        mark(blot.prev);\n                    }\n                }\n                mark(blot);\n            });\n            this.children.forEach(optimize);\n            remaining = [].slice.call(this.observer.takeRecords());\n            records = remaining.slice();\n            while (records.length > 0)\n                mutations.push(records.pop());\n        }\n    };\n    ScrollBlot.prototype.update = function (mutations, context) {\n        var _this = this;\n        if (context === void 0) { context = {}; }\n        mutations = mutations || this.observer.takeRecords();\n        // TODO use WeakMap\n        mutations\n            .map(function (mutation) {\n            var blot = Registry.find(mutation.target, true);\n            if (blot == null)\n                return null;\n            // @ts-ignore\n            if (blot.domNode[Registry.DATA_KEY].mutations == null) {\n                // @ts-ignore\n                blot.domNode[Registry.DATA_KEY].mutations = [mutation];\n                return blot;\n            }\n            else {\n                // @ts-ignore\n                blot.domNode[Registry.DATA_KEY].mutations.push(mutation);\n                return null;\n            }\n        })\n            .forEach(function (blot) {\n            if (blot == null ||\n                blot === _this ||\n                //@ts-ignore\n                blot.domNode[Registry.DATA_KEY] == null)\n                return;\n            // @ts-ignore\n            blot.update(blot.domNode[Registry.DATA_KEY].mutations || [], context);\n        });\n        // @ts-ignore\n        if (this.domNode[Registry.DATA_KEY].mutations != null) {\n            // @ts-ignore\n            _super.prototype.update.call(this, this.domNode[Registry.DATA_KEY].mutations, context);\n        }\n        this.optimize(mutations, context);\n    };\n    ScrollBlot.blotName = 'scroll';\n    ScrollBlot.defaultChild = 'block';\n    ScrollBlot.scope = Registry.Scope.BLOCK_BLOT;\n    ScrollBlot.tagName = 'DIV';\n    return ScrollBlot;\n}(container_1.default));\nexports.default = ScrollBlot;\n\n\n/***/ }),\n/* 46 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar format_1 = __webpack_require__(18);\nvar Registry = __webpack_require__(1);\n// Shallow object comparison\nfunction isEqual(obj1, obj2) {\n    if (Object.keys(obj1).length !== Object.keys(obj2).length)\n        return false;\n    // @ts-ignore\n    for (var prop in obj1) {\n        // @ts-ignore\n        if (obj1[prop] !== obj2[prop])\n            return false;\n    }\n    return true;\n}\nvar InlineBlot = /** @class */ (function (_super) {\n    __extends(InlineBlot, _super);\n    function InlineBlot() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    InlineBlot.formats = function (domNode) {\n        if (domNode.tagName === InlineBlot.tagName)\n            return undefined;\n        return _super.formats.call(this, domNode);\n    };\n    InlineBlot.prototype.format = function (name, value) {\n        var _this = this;\n        if (name === this.statics.blotName && !value) {\n            this.children.forEach(function (child) {\n                if (!(child instanceof format_1.default)) {\n                    child = child.wrap(InlineBlot.blotName, true);\n                }\n                _this.attributes.copy(child);\n            });\n            this.unwrap();\n        }\n        else {\n            _super.prototype.format.call(this, name, value);\n        }\n    };\n    InlineBlot.prototype.formatAt = function (index, length, name, value) {\n        if (this.formats()[name] != null || Registry.query(name, Registry.Scope.ATTRIBUTE)) {\n            var blot = this.isolate(index, length);\n            blot.format(name, value);\n        }\n        else {\n            _super.prototype.formatAt.call(this, index, length, name, value);\n        }\n    };\n    InlineBlot.prototype.optimize = function (context) {\n        _super.prototype.optimize.call(this, context);\n        var formats = this.formats();\n        if (Object.keys(formats).length === 0) {\n            return this.unwrap(); // unformatted span\n        }\n        var next = this.next;\n        if (next instanceof InlineBlot && next.prev === this && isEqual(formats, next.formats())) {\n            next.moveChildren(this);\n            next.remove();\n        }\n    };\n    InlineBlot.blotName = 'inline';\n    InlineBlot.scope = Registry.Scope.INLINE_BLOT;\n    InlineBlot.tagName = 'SPAN';\n    return InlineBlot;\n}(format_1.default));\nexports.default = InlineBlot;\n\n\n/***/ }),\n/* 47 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar format_1 = __webpack_require__(18);\nvar Registry = __webpack_require__(1);\nvar BlockBlot = /** @class */ (function (_super) {\n    __extends(BlockBlot, _super);\n    function BlockBlot() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    BlockBlot.formats = function (domNode) {\n        var tagName = Registry.query(BlockBlot.blotName).tagName;\n        if (domNode.tagName === tagName)\n            return undefined;\n        return _super.formats.call(this, domNode);\n    };\n    BlockBlot.prototype.format = function (name, value) {\n        if (Registry.query(name, Registry.Scope.BLOCK) == null) {\n            return;\n        }\n        else if (name === this.statics.blotName && !value) {\n            this.replaceWith(BlockBlot.blotName);\n        }\n        else {\n            _super.prototype.format.call(this, name, value);\n        }\n    };\n    BlockBlot.prototype.formatAt = function (index, length, name, value) {\n        if (Registry.query(name, Registry.Scope.BLOCK) != null) {\n            this.format(name, value);\n        }\n        else {\n            _super.prototype.formatAt.call(this, index, length, name, value);\n        }\n    };\n    BlockBlot.prototype.insertAt = function (index, value, def) {\n        if (def == null || Registry.query(value, Registry.Scope.INLINE) != null) {\n            // Insert text or inline\n            _super.prototype.insertAt.call(this, index, value, def);\n        }\n        else {\n            var after = this.split(index);\n            var blot = Registry.create(value, def);\n            after.parent.insertBefore(blot, after);\n        }\n    };\n    BlockBlot.prototype.update = function (mutations, context) {\n        if (navigator.userAgent.match(/Trident/)) {\n            this.build();\n        }\n        else {\n            _super.prototype.update.call(this, mutations, context);\n        }\n    };\n    BlockBlot.blotName = 'block';\n    BlockBlot.scope = Registry.Scope.BLOCK_BLOT;\n    BlockBlot.tagName = 'P';\n    return BlockBlot;\n}(format_1.default));\nexports.default = BlockBlot;\n\n\n/***/ }),\n/* 48 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar leaf_1 = __webpack_require__(19);\nvar EmbedBlot = /** @class */ (function (_super) {\n    __extends(EmbedBlot, _super);\n    function EmbedBlot() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    EmbedBlot.formats = function (domNode) {\n        return undefined;\n    };\n    EmbedBlot.prototype.format = function (name, value) {\n        // super.formatAt wraps, which is what we want in general,\n        // but this allows subclasses to overwrite for formats\n        // that just apply to particular embeds\n        _super.prototype.formatAt.call(this, 0, this.length(), name, value);\n    };\n    EmbedBlot.prototype.formatAt = function (index, length, name, value) {\n        if (index === 0 && length === this.length()) {\n            this.format(name, value);\n        }\n        else {\n            _super.prototype.formatAt.call(this, index, length, name, value);\n        }\n    };\n    EmbedBlot.prototype.formats = function () {\n        return this.statics.formats(this.domNode);\n    };\n    return EmbedBlot;\n}(leaf_1.default));\nexports.default = EmbedBlot;\n\n\n/***/ }),\n/* 49 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar leaf_1 = __webpack_require__(19);\nvar Registry = __webpack_require__(1);\nvar TextBlot = /** @class */ (function (_super) {\n    __extends(TextBlot, _super);\n    function TextBlot(node) {\n        var _this = _super.call(this, node) || this;\n        _this.text = _this.statics.value(_this.domNode);\n        return _this;\n    }\n    TextBlot.create = function (value) {\n        return document.createTextNode(value);\n    };\n    TextBlot.value = function (domNode) {\n        var text = domNode.data;\n        // @ts-ignore\n        if (text['normalize'])\n            text = text['normalize']();\n        return text;\n    };\n    TextBlot.prototype.deleteAt = function (index, length) {\n        this.domNode.data = this.text = this.text.slice(0, index) + this.text.slice(index + length);\n    };\n    TextBlot.prototype.index = function (node, offset) {\n        if (this.domNode === node) {\n            return offset;\n        }\n        return -1;\n    };\n    TextBlot.prototype.insertAt = function (index, value, def) {\n        if (def == null) {\n            this.text = this.text.slice(0, index) + value + this.text.slice(index);\n            this.domNode.data = this.text;\n        }\n        else {\n            _super.prototype.insertAt.call(this, index, value, def);\n        }\n    };\n    TextBlot.prototype.length = function () {\n        return this.text.length;\n    };\n    TextBlot.prototype.optimize = function (context) {\n        _super.prototype.optimize.call(this, context);\n        this.text = this.statics.value(this.domNode);\n        if (this.text.length === 0) {\n            this.remove();\n        }\n        else if (this.next instanceof TextBlot && this.next.prev === this) {\n            this.insertAt(this.length(), this.next.value());\n            this.next.remove();\n        }\n    };\n    TextBlot.prototype.position = function (index, inclusive) {\n        if (inclusive === void 0) { inclusive = false; }\n        return [this.domNode, index];\n    };\n    TextBlot.prototype.split = function (index, force) {\n        if (force === void 0) { force = false; }\n        if (!force) {\n            if (index === 0)\n                return this;\n            if (index === this.length())\n                return this.next;\n        }\n        var after = Registry.create(this.domNode.splitText(index));\n        this.parent.insertBefore(after, this.next);\n        this.text = this.statics.value(this.domNode);\n        return after;\n    };\n    TextBlot.prototype.update = function (mutations, context) {\n        var _this = this;\n        if (mutations.some(function (mutation) {\n            return mutation.type === 'characterData' && mutation.target === _this.domNode;\n        })) {\n            this.text = this.statics.value(this.domNode);\n        }\n    };\n    TextBlot.prototype.value = function () {\n        return this.text;\n    };\n    TextBlot.blotName = 'text';\n    TextBlot.scope = Registry.Scope.INLINE_BLOT;\n    return TextBlot;\n}(leaf_1.default));\nexports.default = TextBlot;\n\n\n/***/ }),\n/* 50 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar elem = document.createElement('div');\nelem.classList.toggle('test-class', false);\nif (elem.classList.contains('test-class')) {\n  var _toggle = DOMTokenList.prototype.toggle;\n  DOMTokenList.prototype.toggle = function (token, force) {\n    if (arguments.length > 1 && !this.contains(token) === !force) {\n      return force;\n    } else {\n      return _toggle.call(this, token);\n    }\n  };\n}\n\nif (!String.prototype.startsWith) {\n  String.prototype.startsWith = function (searchString, position) {\n    position = position || 0;\n    return this.substr(position, searchString.length) === searchString;\n  };\n}\n\nif (!String.prototype.endsWith) {\n  String.prototype.endsWith = function (searchString, position) {\n    var subjectString = this.toString();\n    if (typeof position !== 'number' || !isFinite(position) || Math.floor(position) !== position || position > subjectString.length) {\n      position = subjectString.length;\n    }\n    position -= searchString.length;\n    var lastIndex = subjectString.indexOf(searchString, position);\n    return lastIndex !== -1 && lastIndex === position;\n  };\n}\n\nif (!Array.prototype.find) {\n  Object.defineProperty(Array.prototype, \"find\", {\n    value: function value(predicate) {\n      if (this === null) {\n        throw new TypeError('Array.prototype.find called on null or undefined');\n      }\n      if (typeof predicate !== 'function') {\n        throw new TypeError('predicate must be a function');\n      }\n      var list = Object(this);\n      var length = list.length >>> 0;\n      var thisArg = arguments[1];\n      var value;\n\n      for (var i = 0; i < length; i++) {\n        value = list[i];\n        if (predicate.call(thisArg, value, i, list)) {\n          return value;\n        }\n      }\n      return undefined;\n    }\n  });\n}\n\ndocument.addEventListener(\"DOMContentLoaded\", function () {\n  // Disable resizing in Firefox\n  document.execCommand(\"enableObjectResizing\", false, false);\n  // Disable automatic linkifying in IE11\n  document.execCommand(\"autoUrlDetect\", false, false);\n});\n\n/***/ }),\n/* 51 */\n/***/ (function(module, exports) {\n\n/**\n * This library modifies the diff-patch-match library by Neil Fraser\n * by removing the patch and match functionality and certain advanced\n * options in the diff function. The original license is as follows:\n *\n * ===\n *\n * Diff Match and Patch\n *\n * Copyright 2006 Google Inc.\n * http://code.google.com/p/google-diff-match-patch/\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n\n/**\n * The data structure representing a diff is an array of tuples:\n * [[DIFF_DELETE, 'Hello'], [DIFF_INSERT, 'Goodbye'], [DIFF_EQUAL, ' world.']]\n * which means: delete 'Hello', add 'Goodbye' and keep ' world.'\n */\nvar DIFF_DELETE = -1;\nvar DIFF_INSERT = 1;\nvar DIFF_EQUAL = 0;\n\n\n/**\n * Find the differences between two texts.  Simplifies the problem by stripping\n * any common prefix or suffix off the texts before diffing.\n * @param {string} text1 Old string to be diffed.\n * @param {string} text2 New string to be diffed.\n * @param {Int} cursor_pos Expected edit position in text1 (optional)\n * @return {Array} Array of diff tuples.\n */\nfunction diff_main(text1, text2, cursor_pos) {\n  // Check for equality (speedup).\n  if (text1 == text2) {\n    if (text1) {\n      return [[DIFF_EQUAL, text1]];\n    }\n    return [];\n  }\n\n  // Check cursor_pos within bounds\n  if (cursor_pos < 0 || text1.length < cursor_pos) {\n    cursor_pos = null;\n  }\n\n  // Trim off common prefix (speedup).\n  var commonlength = diff_commonPrefix(text1, text2);\n  var commonprefix = text1.substring(0, commonlength);\n  text1 = text1.substring(commonlength);\n  text2 = text2.substring(commonlength);\n\n  // Trim off common suffix (speedup).\n  commonlength = diff_commonSuffix(text1, text2);\n  var commonsuffix = text1.substring(text1.length - commonlength);\n  text1 = text1.substring(0, text1.length - commonlength);\n  text2 = text2.substring(0, text2.length - commonlength);\n\n  // Compute the diff on the middle block.\n  var diffs = diff_compute_(text1, text2);\n\n  // Restore the prefix and suffix.\n  if (commonprefix) {\n    diffs.unshift([DIFF_EQUAL, commonprefix]);\n  }\n  if (commonsuffix) {\n    diffs.push([DIFF_EQUAL, commonsuffix]);\n  }\n  diff_cleanupMerge(diffs);\n  if (cursor_pos != null) {\n    diffs = fix_cursor(diffs, cursor_pos);\n  }\n  diffs = fix_emoji(diffs);\n  return diffs;\n};\n\n\n/**\n * Find the differences between two texts.  Assumes that the texts do not\n * have any common prefix or suffix.\n * @param {string} text1 Old string to be diffed.\n * @param {string} text2 New string to be diffed.\n * @return {Array} Array of diff tuples.\n */\nfunction diff_compute_(text1, text2) {\n  var diffs;\n\n  if (!text1) {\n    // Just add some text (speedup).\n    return [[DIFF_INSERT, text2]];\n  }\n\n  if (!text2) {\n    // Just delete some text (speedup).\n    return [[DIFF_DELETE, text1]];\n  }\n\n  var longtext = text1.length > text2.length ? text1 : text2;\n  var shorttext = text1.length > text2.length ? text2 : text1;\n  var i = longtext.indexOf(shorttext);\n  if (i != -1) {\n    // Shorter text is inside the longer text (speedup).\n    diffs = [[DIFF_INSERT, longtext.substring(0, i)],\n             [DIFF_EQUAL, shorttext],\n             [DIFF_INSERT, longtext.substring(i + shorttext.length)]];\n    // Swap insertions for deletions if diff is reversed.\n    if (text1.length > text2.length) {\n      diffs[0][0] = diffs[2][0] = DIFF_DELETE;\n    }\n    return diffs;\n  }\n\n  if (shorttext.length == 1) {\n    // Single character string.\n    // After the previous speedup, the character can't be an equality.\n    return [[DIFF_DELETE, text1], [DIFF_INSERT, text2]];\n  }\n\n  // Check to see if the problem can be split in two.\n  var hm = diff_halfMatch_(text1, text2);\n  if (hm) {\n    // A half-match was found, sort out the return data.\n    var text1_a = hm[0];\n    var text1_b = hm[1];\n    var text2_a = hm[2];\n    var text2_b = hm[3];\n    var mid_common = hm[4];\n    // Send both pairs off for separate processing.\n    var diffs_a = diff_main(text1_a, text2_a);\n    var diffs_b = diff_main(text1_b, text2_b);\n    // Merge the results.\n    return diffs_a.concat([[DIFF_EQUAL, mid_common]], diffs_b);\n  }\n\n  return diff_bisect_(text1, text2);\n};\n\n\n/**\n * Find the 'middle snake' of a diff, split the problem in two\n * and return the recursively constructed diff.\n * See Myers 1986 paper: An O(ND) Difference Algorithm and Its Variations.\n * @param {string} text1 Old string to be diffed.\n * @param {string} text2 New string to be diffed.\n * @return {Array} Array of diff tuples.\n * @private\n */\nfunction diff_bisect_(text1, text2) {\n  // Cache the text lengths to prevent multiple calls.\n  var text1_length = text1.length;\n  var text2_length = text2.length;\n  var max_d = Math.ceil((text1_length + text2_length) / 2);\n  var v_offset = max_d;\n  var v_length = 2 * max_d;\n  var v1 = new Array(v_length);\n  var v2 = new Array(v_length);\n  // Setting all elements to -1 is faster in Chrome & Firefox than mixing\n  // integers and undefined.\n  for (var x = 0; x < v_length; x++) {\n    v1[x] = -1;\n    v2[x] = -1;\n  }\n  v1[v_offset + 1] = 0;\n  v2[v_offset + 1] = 0;\n  var delta = text1_length - text2_length;\n  // If the total number of characters is odd, then the front path will collide\n  // with the reverse path.\n  var front = (delta % 2 != 0);\n  // Offsets for start and end of k loop.\n  // Prevents mapping of space beyond the grid.\n  var k1start = 0;\n  var k1end = 0;\n  var k2start = 0;\n  var k2end = 0;\n  for (var d = 0; d < max_d; d++) {\n    // Walk the front path one step.\n    for (var k1 = -d + k1start; k1 <= d - k1end; k1 += 2) {\n      var k1_offset = v_offset + k1;\n      var x1;\n      if (k1 == -d || (k1 != d && v1[k1_offset - 1] < v1[k1_offset + 1])) {\n        x1 = v1[k1_offset + 1];\n      } else {\n        x1 = v1[k1_offset - 1] + 1;\n      }\n      var y1 = x1 - k1;\n      while (x1 < text1_length && y1 < text2_length &&\n             text1.charAt(x1) == text2.charAt(y1)) {\n        x1++;\n        y1++;\n      }\n      v1[k1_offset] = x1;\n      if (x1 > text1_length) {\n        // Ran off the right of the graph.\n        k1end += 2;\n      } else if (y1 > text2_length) {\n        // Ran off the bottom of the graph.\n        k1start += 2;\n      } else if (front) {\n        var k2_offset = v_offset + delta - k1;\n        if (k2_offset >= 0 && k2_offset < v_length && v2[k2_offset] != -1) {\n          // Mirror x2 onto top-left coordinate system.\n          var x2 = text1_length - v2[k2_offset];\n          if (x1 >= x2) {\n            // Overlap detected.\n            return diff_bisectSplit_(text1, text2, x1, y1);\n          }\n        }\n      }\n    }\n\n    // Walk the reverse path one step.\n    for (var k2 = -d + k2start; k2 <= d - k2end; k2 += 2) {\n      var k2_offset = v_offset + k2;\n      var x2;\n      if (k2 == -d || (k2 != d && v2[k2_offset - 1] < v2[k2_offset + 1])) {\n        x2 = v2[k2_offset + 1];\n      } else {\n        x2 = v2[k2_offset - 1] + 1;\n      }\n      var y2 = x2 - k2;\n      while (x2 < text1_length && y2 < text2_length &&\n             text1.charAt(text1_length - x2 - 1) ==\n             text2.charAt(text2_length - y2 - 1)) {\n        x2++;\n        y2++;\n      }\n      v2[k2_offset] = x2;\n      if (x2 > text1_length) {\n        // Ran off the left of the graph.\n        k2end += 2;\n      } else if (y2 > text2_length) {\n        // Ran off the top of the graph.\n        k2start += 2;\n      } else if (!front) {\n        var k1_offset = v_offset + delta - k2;\n        if (k1_offset >= 0 && k1_offset < v_length && v1[k1_offset] != -1) {\n          var x1 = v1[k1_offset];\n          var y1 = v_offset + x1 - k1_offset;\n          // Mirror x2 onto top-left coordinate system.\n          x2 = text1_length - x2;\n          if (x1 >= x2) {\n            // Overlap detected.\n            return diff_bisectSplit_(text1, text2, x1, y1);\n          }\n        }\n      }\n    }\n  }\n  // Diff took too long and hit the deadline or\n  // number of diffs equals number of characters, no commonality at all.\n  return [[DIFF_DELETE, text1], [DIFF_INSERT, text2]];\n};\n\n\n/**\n * Given the location of the 'middle snake', split the diff in two parts\n * and recurse.\n * @param {string} text1 Old string to be diffed.\n * @param {string} text2 New string to be diffed.\n * @param {number} x Index of split point in text1.\n * @param {number} y Index of split point in text2.\n * @return {Array} Array of diff tuples.\n */\nfunction diff_bisectSplit_(text1, text2, x, y) {\n  var text1a = text1.substring(0, x);\n  var text2a = text2.substring(0, y);\n  var text1b = text1.substring(x);\n  var text2b = text2.substring(y);\n\n  // Compute both diffs serially.\n  var diffs = diff_main(text1a, text2a);\n  var diffsb = diff_main(text1b, text2b);\n\n  return diffs.concat(diffsb);\n};\n\n\n/**\n * Determine the common prefix of two strings.\n * @param {string} text1 First string.\n * @param {string} text2 Second string.\n * @return {number} The number of characters common to the start of each\n *     string.\n */\nfunction diff_commonPrefix(text1, text2) {\n  // Quick check for common null cases.\n  if (!text1 || !text2 || text1.charAt(0) != text2.charAt(0)) {\n    return 0;\n  }\n  // Binary search.\n  // Performance analysis: http://neil.fraser.name/news/2007/10/09/\n  var pointermin = 0;\n  var pointermax = Math.min(text1.length, text2.length);\n  var pointermid = pointermax;\n  var pointerstart = 0;\n  while (pointermin < pointermid) {\n    if (text1.substring(pointerstart, pointermid) ==\n        text2.substring(pointerstart, pointermid)) {\n      pointermin = pointermid;\n      pointerstart = pointermin;\n    } else {\n      pointermax = pointermid;\n    }\n    pointermid = Math.floor((pointermax - pointermin) / 2 + pointermin);\n  }\n  return pointermid;\n};\n\n\n/**\n * Determine the common suffix of two strings.\n * @param {string} text1 First string.\n * @param {string} text2 Second string.\n * @return {number} The number of characters common to the end of each string.\n */\nfunction diff_commonSuffix(text1, text2) {\n  // Quick check for common null cases.\n  if (!text1 || !text2 ||\n      text1.charAt(text1.length - 1) != text2.charAt(text2.length - 1)) {\n    return 0;\n  }\n  // Binary search.\n  // Performance analysis: http://neil.fraser.name/news/2007/10/09/\n  var pointermin = 0;\n  var pointermax = Math.min(text1.length, text2.length);\n  var pointermid = pointermax;\n  var pointerend = 0;\n  while (pointermin < pointermid) {\n    if (text1.substring(text1.length - pointermid, text1.length - pointerend) ==\n        text2.substring(text2.length - pointermid, text2.length - pointerend)) {\n      pointermin = pointermid;\n      pointerend = pointermin;\n    } else {\n      pointermax = pointermid;\n    }\n    pointermid = Math.floor((pointermax - pointermin) / 2 + pointermin);\n  }\n  return pointermid;\n};\n\n\n/**\n * Do the two texts share a substring which is at least half the length of the\n * longer text?\n * This speedup can produce non-minimal diffs.\n * @param {string} text1 First string.\n * @param {string} text2 Second string.\n * @return {Array.<string>} Five element Array, containing the prefix of\n *     text1, the suffix of text1, the prefix of text2, the suffix of\n *     text2 and the common middle.  Or null if there was no match.\n */\nfunction diff_halfMatch_(text1, text2) {\n  var longtext = text1.length > text2.length ? text1 : text2;\n  var shorttext = text1.length > text2.length ? text2 : text1;\n  if (longtext.length < 4 || shorttext.length * 2 < longtext.length) {\n    return null;  // Pointless.\n  }\n\n  /**\n   * Does a substring of shorttext exist within longtext such that the substring\n   * is at least half the length of longtext?\n   * Closure, but does not reference any external variables.\n   * @param {string} longtext Longer string.\n   * @param {string} shorttext Shorter string.\n   * @param {number} i Start index of quarter length substring within longtext.\n   * @return {Array.<string>} Five element Array, containing the prefix of\n   *     longtext, the suffix of longtext, the prefix of shorttext, the suffix\n   *     of shorttext and the common middle.  Or null if there was no match.\n   * @private\n   */\n  function diff_halfMatchI_(longtext, shorttext, i) {\n    // Start with a 1/4 length substring at position i as a seed.\n    var seed = longtext.substring(i, i + Math.floor(longtext.length / 4));\n    var j = -1;\n    var best_common = '';\n    var best_longtext_a, best_longtext_b, best_shorttext_a, best_shorttext_b;\n    while ((j = shorttext.indexOf(seed, j + 1)) != -1) {\n      var prefixLength = diff_commonPrefix(longtext.substring(i),\n                                           shorttext.substring(j));\n      var suffixLength = diff_commonSuffix(longtext.substring(0, i),\n                                           shorttext.substring(0, j));\n      if (best_common.length < suffixLength + prefixLength) {\n        best_common = shorttext.substring(j - suffixLength, j) +\n            shorttext.substring(j, j + prefixLength);\n        best_longtext_a = longtext.substring(0, i - suffixLength);\n        best_longtext_b = longtext.substring(i + prefixLength);\n        best_shorttext_a = shorttext.substring(0, j - suffixLength);\n        best_shorttext_b = shorttext.substring(j + prefixLength);\n      }\n    }\n    if (best_common.length * 2 >= longtext.length) {\n      return [best_longtext_a, best_longtext_b,\n              best_shorttext_a, best_shorttext_b, best_common];\n    } else {\n      return null;\n    }\n  }\n\n  // First check if the second quarter is the seed for a half-match.\n  var hm1 = diff_halfMatchI_(longtext, shorttext,\n                             Math.ceil(longtext.length / 4));\n  // Check again based on the third quarter.\n  var hm2 = diff_halfMatchI_(longtext, shorttext,\n                             Math.ceil(longtext.length / 2));\n  var hm;\n  if (!hm1 && !hm2) {\n    return null;\n  } else if (!hm2) {\n    hm = hm1;\n  } else if (!hm1) {\n    hm = hm2;\n  } else {\n    // Both matched.  Select the longest.\n    hm = hm1[4].length > hm2[4].length ? hm1 : hm2;\n  }\n\n  // A half-match was found, sort out the return data.\n  var text1_a, text1_b, text2_a, text2_b;\n  if (text1.length > text2.length) {\n    text1_a = hm[0];\n    text1_b = hm[1];\n    text2_a = hm[2];\n    text2_b = hm[3];\n  } else {\n    text2_a = hm[0];\n    text2_b = hm[1];\n    text1_a = hm[2];\n    text1_b = hm[3];\n  }\n  var mid_common = hm[4];\n  return [text1_a, text1_b, text2_a, text2_b, mid_common];\n};\n\n\n/**\n * Reorder and merge like edit sections.  Merge equalities.\n * Any edit section can move as long as it doesn't cross an equality.\n * @param {Array} diffs Array of diff tuples.\n */\nfunction diff_cleanupMerge(diffs) {\n  diffs.push([DIFF_EQUAL, '']);  // Add a dummy entry at the end.\n  var pointer = 0;\n  var count_delete = 0;\n  var count_insert = 0;\n  var text_delete = '';\n  var text_insert = '';\n  var commonlength;\n  while (pointer < diffs.length) {\n    switch (diffs[pointer][0]) {\n      case DIFF_INSERT:\n        count_insert++;\n        text_insert += diffs[pointer][1];\n        pointer++;\n        break;\n      case DIFF_DELETE:\n        count_delete++;\n        text_delete += diffs[pointer][1];\n        pointer++;\n        break;\n      case DIFF_EQUAL:\n        // Upon reaching an equality, check for prior redundancies.\n        if (count_delete + count_insert > 1) {\n          if (count_delete !== 0 && count_insert !== 0) {\n            // Factor out any common prefixies.\n            commonlength = diff_commonPrefix(text_insert, text_delete);\n            if (commonlength !== 0) {\n              if ((pointer - count_delete - count_insert) > 0 &&\n                  diffs[pointer - count_delete - count_insert - 1][0] ==\n                  DIFF_EQUAL) {\n                diffs[pointer - count_delete - count_insert - 1][1] +=\n                    text_insert.substring(0, commonlength);\n              } else {\n                diffs.splice(0, 0, [DIFF_EQUAL,\n                                    text_insert.substring(0, commonlength)]);\n                pointer++;\n              }\n              text_insert = text_insert.substring(commonlength);\n              text_delete = text_delete.substring(commonlength);\n            }\n            // Factor out any common suffixies.\n            commonlength = diff_commonSuffix(text_insert, text_delete);\n            if (commonlength !== 0) {\n              diffs[pointer][1] = text_insert.substring(text_insert.length -\n                  commonlength) + diffs[pointer][1];\n              text_insert = text_insert.substring(0, text_insert.length -\n                  commonlength);\n              text_delete = text_delete.substring(0, text_delete.length -\n                  commonlength);\n            }\n          }\n          // Delete the offending records and add the merged ones.\n          if (count_delete === 0) {\n            diffs.splice(pointer - count_insert,\n                count_delete + count_insert, [DIFF_INSERT, text_insert]);\n          } else if (count_insert === 0) {\n            diffs.splice(pointer - count_delete,\n                count_delete + count_insert, [DIFF_DELETE, text_delete]);\n          } else {\n            diffs.splice(pointer - count_delete - count_insert,\n                count_delete + count_insert, [DIFF_DELETE, text_delete],\n                [DIFF_INSERT, text_insert]);\n          }\n          pointer = pointer - count_delete - count_insert +\n                    (count_delete ? 1 : 0) + (count_insert ? 1 : 0) + 1;\n        } else if (pointer !== 0 && diffs[pointer - 1][0] == DIFF_EQUAL) {\n          // Merge this equality with the previous one.\n          diffs[pointer - 1][1] += diffs[pointer][1];\n          diffs.splice(pointer, 1);\n        } else {\n          pointer++;\n        }\n        count_insert = 0;\n        count_delete = 0;\n        text_delete = '';\n        text_insert = '';\n        break;\n    }\n  }\n  if (diffs[diffs.length - 1][1] === '') {\n    diffs.pop();  // Remove the dummy entry at the end.\n  }\n\n  // Second pass: look for single edits surrounded on both sides by equalities\n  // which can be shifted sideways to eliminate an equality.\n  // e.g: A<ins>BA</ins>C -> <ins>AB</ins>AC\n  var changes = false;\n  pointer = 1;\n  // Intentionally ignore the first and last element (don't need checking).\n  while (pointer < diffs.length - 1) {\n    if (diffs[pointer - 1][0] == DIFF_EQUAL &&\n        diffs[pointer + 1][0] == DIFF_EQUAL) {\n      // This is a single edit surrounded by equalities.\n      if (diffs[pointer][1].substring(diffs[pointer][1].length -\n          diffs[pointer - 1][1].length) == diffs[pointer - 1][1]) {\n        // Shift the edit over the previous equality.\n        diffs[pointer][1] = diffs[pointer - 1][1] +\n            diffs[pointer][1].substring(0, diffs[pointer][1].length -\n                                        diffs[pointer - 1][1].length);\n        diffs[pointer + 1][1] = diffs[pointer - 1][1] + diffs[pointer + 1][1];\n        diffs.splice(pointer - 1, 1);\n        changes = true;\n      } else if (diffs[pointer][1].substring(0, diffs[pointer + 1][1].length) ==\n          diffs[pointer + 1][1]) {\n        // Shift the edit over the next equality.\n        diffs[pointer - 1][1] += diffs[pointer + 1][1];\n        diffs[pointer][1] =\n            diffs[pointer][1].substring(diffs[pointer + 1][1].length) +\n            diffs[pointer + 1][1];\n        diffs.splice(pointer + 1, 1);\n        changes = true;\n      }\n    }\n    pointer++;\n  }\n  // If shifts were made, the diff needs reordering and another shift sweep.\n  if (changes) {\n    diff_cleanupMerge(diffs);\n  }\n};\n\n\nvar diff = diff_main;\ndiff.INSERT = DIFF_INSERT;\ndiff.DELETE = DIFF_DELETE;\ndiff.EQUAL = DIFF_EQUAL;\n\nmodule.exports = diff;\n\n/*\n * Modify a diff such that the cursor position points to the start of a change:\n * E.g.\n *   cursor_normalize_diff([[DIFF_EQUAL, 'abc']], 1)\n *     => [1, [[DIFF_EQUAL, 'a'], [DIFF_EQUAL, 'bc']]]\n *   cursor_normalize_diff([[DIFF_INSERT, 'new'], [DIFF_DELETE, 'xyz']], 2)\n *     => [2, [[DIFF_INSERT, 'new'], [DIFF_DELETE, 'xy'], [DIFF_DELETE, 'z']]]\n *\n * @param {Array} diffs Array of diff tuples\n * @param {Int} cursor_pos Suggested edit position. Must not be out of bounds!\n * @return {Array} A tuple [cursor location in the modified diff, modified diff]\n */\nfunction cursor_normalize_diff (diffs, cursor_pos) {\n  if (cursor_pos === 0) {\n    return [DIFF_EQUAL, diffs];\n  }\n  for (var current_pos = 0, i = 0; i < diffs.length; i++) {\n    var d = diffs[i];\n    if (d[0] === DIFF_DELETE || d[0] === DIFF_EQUAL) {\n      var next_pos = current_pos + d[1].length;\n      if (cursor_pos === next_pos) {\n        return [i + 1, diffs];\n      } else if (cursor_pos < next_pos) {\n        // copy to prevent side effects\n        diffs = diffs.slice();\n        // split d into two diff changes\n        var split_pos = cursor_pos - current_pos;\n        var d_left = [d[0], d[1].slice(0, split_pos)];\n        var d_right = [d[0], d[1].slice(split_pos)];\n        diffs.splice(i, 1, d_left, d_right);\n        return [i + 1, diffs];\n      } else {\n        current_pos = next_pos;\n      }\n    }\n  }\n  throw new Error('cursor_pos is out of bounds!')\n}\n\n/*\n * Modify a diff such that the edit position is \"shifted\" to the proposed edit location (cursor_position).\n *\n * Case 1)\n *   Check if a naive shift is possible:\n *     [0, X], [ 1, Y] -> [ 1, Y], [0, X]    (if X + Y === Y + X)\n *     [0, X], [-1, Y] -> [-1, Y], [0, X]    (if X + Y === Y + X) - holds same result\n * Case 2)\n *   Check if the following shifts are possible:\n *     [0, 'pre'], [ 1, 'prefix'] -> [ 1, 'pre'], [0, 'pre'], [ 1, 'fix']\n *     [0, 'pre'], [-1, 'prefix'] -> [-1, 'pre'], [0, 'pre'], [-1, 'fix']\n *         ^            ^\n *         d          d_next\n *\n * @param {Array} diffs Array of diff tuples\n * @param {Int} cursor_pos Suggested edit position. Must not be out of bounds!\n * @return {Array} Array of diff tuples\n */\nfunction fix_cursor (diffs, cursor_pos) {\n  var norm = cursor_normalize_diff(diffs, cursor_pos);\n  var ndiffs = norm[1];\n  var cursor_pointer = norm[0];\n  var d = ndiffs[cursor_pointer];\n  var d_next = ndiffs[cursor_pointer + 1];\n\n  if (d == null) {\n    // Text was deleted from end of original string,\n    // cursor is now out of bounds in new string\n    return diffs;\n  } else if (d[0] !== DIFF_EQUAL) {\n    // A modification happened at the cursor location.\n    // This is the expected outcome, so we can return the original diff.\n    return diffs;\n  } else {\n    if (d_next != null && d[1] + d_next[1] === d_next[1] + d[1]) {\n      // Case 1)\n      // It is possible to perform a naive shift\n      ndiffs.splice(cursor_pointer, 2, d_next, d)\n      return merge_tuples(ndiffs, cursor_pointer, 2)\n    } else if (d_next != null && d_next[1].indexOf(d[1]) === 0) {\n      // Case 2)\n      // d[1] is a prefix of d_next[1]\n      // We can assume that d_next[0] !== 0, since d[0] === 0\n      // Shift edit locations..\n      ndiffs.splice(cursor_pointer, 2, [d_next[0], d[1]], [0, d[1]]);\n      var suffix = d_next[1].slice(d[1].length);\n      if (suffix.length > 0) {\n        ndiffs.splice(cursor_pointer + 2, 0, [d_next[0], suffix]);\n      }\n      return merge_tuples(ndiffs, cursor_pointer, 3)\n    } else {\n      // Not possible to perform any modification\n      return diffs;\n    }\n  }\n}\n\n/*\n * Check diff did not split surrogate pairs.\n * Ex. [0, '\\uD83D'], [-1, '\\uDC36'], [1, '\\uDC2F'] -> [-1, '\\uD83D\\uDC36'], [1, '\\uD83D\\uDC2F']\n *     '\\uD83D\\uDC36' === '🐶', '\\uD83D\\uDC2F' === '🐯'\n *\n * @param {Array} diffs Array of diff tuples\n * @return {Array} Array of diff tuples\n */\nfunction fix_emoji (diffs) {\n  var compact = false;\n  var starts_with_pair_end = function(str) {\n    return str.charCodeAt(0) >= 0xDC00 && str.charCodeAt(0) <= 0xDFFF;\n  }\n  var ends_with_pair_start = function(str) {\n    return str.charCodeAt(str.length-1) >= 0xD800 && str.charCodeAt(str.length-1) <= 0xDBFF;\n  }\n  for (var i = 2; i < diffs.length; i += 1) {\n    if (diffs[i-2][0] === DIFF_EQUAL && ends_with_pair_start(diffs[i-2][1]) &&\n        diffs[i-1][0] === DIFF_DELETE && starts_with_pair_end(diffs[i-1][1]) &&\n        diffs[i][0] === DIFF_INSERT && starts_with_pair_end(diffs[i][1])) {\n      compact = true;\n\n      diffs[i-1][1] = diffs[i-2][1].slice(-1) + diffs[i-1][1];\n      diffs[i][1] = diffs[i-2][1].slice(-1) + diffs[i][1];\n\n      diffs[i-2][1] = diffs[i-2][1].slice(0, -1);\n    }\n  }\n  if (!compact) {\n    return diffs;\n  }\n  var fixed_diffs = [];\n  for (var i = 0; i < diffs.length; i += 1) {\n    if (diffs[i][1].length > 0) {\n      fixed_diffs.push(diffs[i]);\n    }\n  }\n  return fixed_diffs;\n}\n\n/*\n * Try to merge tuples with their neigbors in a given range.\n * E.g. [0, 'a'], [0, 'b'] -> [0, 'ab']\n *\n * @param {Array} diffs Array of diff tuples.\n * @param {Int} start Position of the first element to merge (diffs[start] is also merged with diffs[start - 1]).\n * @param {Int} length Number of consecutive elements to check.\n * @return {Array} Array of merged diff tuples.\n */\nfunction merge_tuples (diffs, start, length) {\n  // Check from (start-1) to (start+length).\n  for (var i = start + length - 1; i >= 0 && i >= start - 1; i--) {\n    if (i + 1 < diffs.length) {\n      var left_d = diffs[i];\n      var right_d = diffs[i+1];\n      if (left_d[0] === right_d[1]) {\n        diffs.splice(i, 2, [left_d[0], left_d[1] + right_d[1]]);\n      }\n    }\n  }\n  return diffs;\n}\n\n\n/***/ }),\n/* 52 */\n/***/ (function(module, exports) {\n\nexports = module.exports = typeof Object.keys === 'function'\n  ? Object.keys : shim;\n\nexports.shim = shim;\nfunction shim (obj) {\n  var keys = [];\n  for (var key in obj) keys.push(key);\n  return keys;\n}\n\n\n/***/ }),\n/* 53 */\n/***/ (function(module, exports) {\n\nvar supportsArgumentsClass = (function(){\n  return Object.prototype.toString.call(arguments)\n})() == '[object Arguments]';\n\nexports = module.exports = supportsArgumentsClass ? supported : unsupported;\n\nexports.supported = supported;\nfunction supported(object) {\n  return Object.prototype.toString.call(object) == '[object Arguments]';\n};\n\nexports.unsupported = unsupported;\nfunction unsupported(object){\n  return object &&\n    typeof object == 'object' &&\n    typeof object.length == 'number' &&\n    Object.prototype.hasOwnProperty.call(object, 'callee') &&\n    !Object.prototype.propertyIsEnumerable.call(object, 'callee') ||\n    false;\n};\n\n\n/***/ }),\n/* 54 */\n/***/ (function(module, exports) {\n\n'use strict';\n\nvar has = Object.prototype.hasOwnProperty\n  , prefix = '~';\n\n/**\n * Constructor to create a storage for our `EE` objects.\n * An `Events` instance is a plain object whose properties are event names.\n *\n * @constructor\n * @api private\n */\nfunction Events() {}\n\n//\n// We try to not inherit from `Object.prototype`. In some engines creating an\n// instance in this way is faster than calling `Object.create(null)` directly.\n// If `Object.create(null)` is not supported we prefix the event names with a\n// character to make sure that the built-in object properties are not\n// overridden or used as an attack vector.\n//\nif (Object.create) {\n  Events.prototype = Object.create(null);\n\n  //\n  // This hack is needed because the `__proto__` property is still inherited in\n  // some old browsers like Android 4, iPhone 5.1, Opera 11 and Safari 5.\n  //\n  if (!new Events().__proto__) prefix = false;\n}\n\n/**\n * Representation of a single event listener.\n *\n * @param {Function} fn The listener function.\n * @param {Mixed} context The context to invoke the listener with.\n * @param {Boolean} [once=false] Specify if the listener is a one-time listener.\n * @constructor\n * @api private\n */\nfunction EE(fn, context, once) {\n  this.fn = fn;\n  this.context = context;\n  this.once = once || false;\n}\n\n/**\n * Minimal `EventEmitter` interface that is molded against the Node.js\n * `EventEmitter` interface.\n *\n * @constructor\n * @api public\n */\nfunction EventEmitter() {\n  this._events = new Events();\n  this._eventsCount = 0;\n}\n\n/**\n * Return an array listing the events for which the emitter has registered\n * listeners.\n *\n * @returns {Array}\n * @api public\n */\nEventEmitter.prototype.eventNames = function eventNames() {\n  var names = []\n    , events\n    , name;\n\n  if (this._eventsCount === 0) return names;\n\n  for (name in (events = this._events)) {\n    if (has.call(events, name)) names.push(prefix ? name.slice(1) : name);\n  }\n\n  if (Object.getOwnPropertySymbols) {\n    return names.concat(Object.getOwnPropertySymbols(events));\n  }\n\n  return names;\n};\n\n/**\n * Return the listeners registered for a given event.\n *\n * @param {String|Symbol} event The event name.\n * @param {Boolean} exists Only check if there are listeners.\n * @returns {Array|Boolean}\n * @api public\n */\nEventEmitter.prototype.listeners = function listeners(event, exists) {\n  var evt = prefix ? prefix + event : event\n    , available = this._events[evt];\n\n  if (exists) return !!available;\n  if (!available) return [];\n  if (available.fn) return [available.fn];\n\n  for (var i = 0, l = available.length, ee = new Array(l); i < l; i++) {\n    ee[i] = available[i].fn;\n  }\n\n  return ee;\n};\n\n/**\n * Calls each of the listeners registered for a given event.\n *\n * @param {String|Symbol} event The event name.\n * @returns {Boolean} `true` if the event had listeners, else `false`.\n * @api public\n */\nEventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return false;\n\n  var listeners = this._events[evt]\n    , len = arguments.length\n    , args\n    , i;\n\n  if (listeners.fn) {\n    if (listeners.once) this.removeListener(event, listeners.fn, undefined, true);\n\n    switch (len) {\n      case 1: return listeners.fn.call(listeners.context), true;\n      case 2: return listeners.fn.call(listeners.context, a1), true;\n      case 3: return listeners.fn.call(listeners.context, a1, a2), true;\n      case 4: return listeners.fn.call(listeners.context, a1, a2, a3), true;\n      case 5: return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;\n      case 6: return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;\n    }\n\n    for (i = 1, args = new Array(len -1); i < len; i++) {\n      args[i - 1] = arguments[i];\n    }\n\n    listeners.fn.apply(listeners.context, args);\n  } else {\n    var length = listeners.length\n      , j;\n\n    for (i = 0; i < length; i++) {\n      if (listeners[i].once) this.removeListener(event, listeners[i].fn, undefined, true);\n\n      switch (len) {\n        case 1: listeners[i].fn.call(listeners[i].context); break;\n        case 2: listeners[i].fn.call(listeners[i].context, a1); break;\n        case 3: listeners[i].fn.call(listeners[i].context, a1, a2); break;\n        case 4: listeners[i].fn.call(listeners[i].context, a1, a2, a3); break;\n        default:\n          if (!args) for (j = 1, args = new Array(len -1); j < len; j++) {\n            args[j - 1] = arguments[j];\n          }\n\n          listeners[i].fn.apply(listeners[i].context, args);\n      }\n    }\n  }\n\n  return true;\n};\n\n/**\n * Add a listener for a given event.\n *\n * @param {String|Symbol} event The event name.\n * @param {Function} fn The listener function.\n * @param {Mixed} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @api public\n */\nEventEmitter.prototype.on = function on(event, fn, context) {\n  var listener = new EE(fn, context || this)\n    , evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) this._events[evt] = listener, this._eventsCount++;\n  else if (!this._events[evt].fn) this._events[evt].push(listener);\n  else this._events[evt] = [this._events[evt], listener];\n\n  return this;\n};\n\n/**\n * Add a one-time listener for a given event.\n *\n * @param {String|Symbol} event The event name.\n * @param {Function} fn The listener function.\n * @param {Mixed} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @api public\n */\nEventEmitter.prototype.once = function once(event, fn, context) {\n  var listener = new EE(fn, context || this, true)\n    , evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) this._events[evt] = listener, this._eventsCount++;\n  else if (!this._events[evt].fn) this._events[evt].push(listener);\n  else this._events[evt] = [this._events[evt], listener];\n\n  return this;\n};\n\n/**\n * Remove the listeners of a given event.\n *\n * @param {String|Symbol} event The event name.\n * @param {Function} fn Only remove the listeners that match this function.\n * @param {Mixed} context Only remove the listeners that have this context.\n * @param {Boolean} once Only remove one-time listeners.\n * @returns {EventEmitter} `this`.\n * @api public\n */\nEventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return this;\n  if (!fn) {\n    if (--this._eventsCount === 0) this._events = new Events();\n    else delete this._events[evt];\n    return this;\n  }\n\n  var listeners = this._events[evt];\n\n  if (listeners.fn) {\n    if (\n         listeners.fn === fn\n      && (!once || listeners.once)\n      && (!context || listeners.context === context)\n    ) {\n      if (--this._eventsCount === 0) this._events = new Events();\n      else delete this._events[evt];\n    }\n  } else {\n    for (var i = 0, events = [], length = listeners.length; i < length; i++) {\n      if (\n           listeners[i].fn !== fn\n        || (once && !listeners[i].once)\n        || (context && listeners[i].context !== context)\n      ) {\n        events.push(listeners[i]);\n      }\n    }\n\n    //\n    // Reset the array, or remove it completely if we have no more listeners.\n    //\n    if (events.length) this._events[evt] = events.length === 1 ? events[0] : events;\n    else if (--this._eventsCount === 0) this._events = new Events();\n    else delete this._events[evt];\n  }\n\n  return this;\n};\n\n/**\n * Remove all listeners, or those of the specified event.\n *\n * @param {String|Symbol} [event] The event name.\n * @returns {EventEmitter} `this`.\n * @api public\n */\nEventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {\n  var evt;\n\n  if (event) {\n    evt = prefix ? prefix + event : event;\n    if (this._events[evt]) {\n      if (--this._eventsCount === 0) this._events = new Events();\n      else delete this._events[evt];\n    }\n  } else {\n    this._events = new Events();\n    this._eventsCount = 0;\n  }\n\n  return this;\n};\n\n//\n// Alias methods names because people roll like that.\n//\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\nEventEmitter.prototype.addListener = EventEmitter.prototype.on;\n\n//\n// This function doesn't apply anymore.\n//\nEventEmitter.prototype.setMaxListeners = function setMaxListeners() {\n  return this;\n};\n\n//\n// Expose the prefix.\n//\nEventEmitter.prefixed = prefix;\n\n//\n// Allow `EventEmitter` to be imported as module namespace.\n//\nEventEmitter.EventEmitter = EventEmitter;\n\n//\n// Expose the module.\n//\nif ('undefined' !== typeof module) {\n  module.exports = EventEmitter;\n}\n\n\n/***/ }),\n/* 55 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.matchText = exports.matchSpacing = exports.matchNewline = exports.matchBlot = exports.matchAttributor = exports.default = undefined;\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _extend2 = __webpack_require__(3);\n\nvar _extend3 = _interopRequireDefault(_extend2);\n\nvar _quillDelta = __webpack_require__(2);\n\nvar _quillDelta2 = _interopRequireDefault(_quillDelta);\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nvar _quill = __webpack_require__(5);\n\nvar _quill2 = _interopRequireDefault(_quill);\n\nvar _logger = __webpack_require__(10);\n\nvar _logger2 = _interopRequireDefault(_logger);\n\nvar _module = __webpack_require__(9);\n\nvar _module2 = _interopRequireDefault(_module);\n\nvar _align = __webpack_require__(36);\n\nvar _background = __webpack_require__(37);\n\nvar _code = __webpack_require__(13);\n\nvar _code2 = _interopRequireDefault(_code);\n\nvar _color = __webpack_require__(26);\n\nvar _direction = __webpack_require__(38);\n\nvar _font = __webpack_require__(39);\n\nvar _size = __webpack_require__(40);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar debug = (0, _logger2.default)('quill:clipboard');\n\nvar DOM_KEY = '__ql-matcher';\n\nvar CLIPBOARD_CONFIG = [[Node.TEXT_NODE, matchText], [Node.TEXT_NODE, matchNewline], ['br', matchBreak], [Node.ELEMENT_NODE, matchNewline], [Node.ELEMENT_NODE, matchBlot], [Node.ELEMENT_NODE, matchSpacing], [Node.ELEMENT_NODE, matchAttributor], [Node.ELEMENT_NODE, matchStyles], ['li', matchIndent], ['b', matchAlias.bind(matchAlias, 'bold')], ['i', matchAlias.bind(matchAlias, 'italic')], ['style', matchIgnore]];\n\nvar ATTRIBUTE_ATTRIBUTORS = [_align.AlignAttribute, _direction.DirectionAttribute].reduce(function (memo, attr) {\n  memo[attr.keyName] = attr;\n  return memo;\n}, {});\n\nvar STYLE_ATTRIBUTORS = [_align.AlignStyle, _background.BackgroundStyle, _color.ColorStyle, _direction.DirectionStyle, _font.FontStyle, _size.SizeStyle].reduce(function (memo, attr) {\n  memo[attr.keyName] = attr;\n  return memo;\n}, {});\n\nvar Clipboard = function (_Module) {\n  _inherits(Clipboard, _Module);\n\n  function Clipboard(quill, options) {\n    _classCallCheck(this, Clipboard);\n\n    var _this = _possibleConstructorReturn(this, (Clipboard.__proto__ || Object.getPrototypeOf(Clipboard)).call(this, quill, options));\n\n    _this.quill.root.addEventListener('paste', _this.onPaste.bind(_this));\n    _this.container = _this.quill.addContainer('ql-clipboard');\n    _this.container.setAttribute('contenteditable', true);\n    _this.container.setAttribute('tabindex', -1);\n    _this.matchers = [];\n    CLIPBOARD_CONFIG.concat(_this.options.matchers).forEach(function (_ref) {\n      var _ref2 = _slicedToArray(_ref, 2),\n          selector = _ref2[0],\n          matcher = _ref2[1];\n\n      if (!options.matchVisual && matcher === matchSpacing) return;\n      _this.addMatcher(selector, matcher);\n    });\n    return _this;\n  }\n\n  _createClass(Clipboard, [{\n    key: 'addMatcher',\n    value: function addMatcher(selector, matcher) {\n      this.matchers.push([selector, matcher]);\n    }\n  }, {\n    key: 'convert',\n    value: function convert(html) {\n      if (typeof html === 'string') {\n        this.container.innerHTML = html.replace(/\\>\\r?\\n +\\</g, '><'); // Remove spaces between tags\n        return this.convert();\n      }\n      var formats = this.quill.getFormat(this.quill.selection.savedRange.index);\n      if (formats[_code2.default.blotName]) {\n        var text = this.container.innerText;\n        this.container.innerHTML = '';\n        return new _quillDelta2.default().insert(text, _defineProperty({}, _code2.default.blotName, formats[_code2.default.blotName]));\n      }\n\n      var _prepareMatching = this.prepareMatching(),\n          _prepareMatching2 = _slicedToArray(_prepareMatching, 2),\n          elementMatchers = _prepareMatching2[0],\n          textMatchers = _prepareMatching2[1];\n\n      var delta = traverse(this.container, elementMatchers, textMatchers);\n      // Remove trailing newline\n      if (deltaEndsWith(delta, '\\n') && delta.ops[delta.ops.length - 1].attributes == null) {\n        delta = delta.compose(new _quillDelta2.default().retain(delta.length() - 1).delete(1));\n      }\n      debug.log('convert', this.container.innerHTML, delta);\n      this.container.innerHTML = '';\n      return delta;\n    }\n  }, {\n    key: 'dangerouslyPasteHTML',\n    value: function dangerouslyPasteHTML(index, html) {\n      var source = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : _quill2.default.sources.API;\n\n      if (typeof index === 'string') {\n        this.quill.setContents(this.convert(index), html);\n        this.quill.setSelection(0, _quill2.default.sources.SILENT);\n      } else {\n        var paste = this.convert(html);\n        this.quill.updateContents(new _quillDelta2.default().retain(index).concat(paste), source);\n        this.quill.setSelection(index + paste.length(), _quill2.default.sources.SILENT);\n      }\n    }\n  }, {\n    key: 'onPaste',\n    value: function onPaste(e) {\n      var _this2 = this;\n\n      if (e.defaultPrevented || !this.quill.isEnabled()) return;\n      var range = this.quill.getSelection();\n      var delta = new _quillDelta2.default().retain(range.index);\n      var scrollTop = this.quill.scrollingContainer.scrollTop;\n      this.container.focus();\n      this.quill.selection.update(_quill2.default.sources.SILENT);\n      setTimeout(function () {\n        delta = delta.concat(_this2.convert()).delete(range.length);\n        _this2.quill.updateContents(delta, _quill2.default.sources.USER);\n        // range.length contributes to delta.length()\n        _this2.quill.setSelection(delta.length() - range.length, _quill2.default.sources.SILENT);\n        _this2.quill.scrollingContainer.scrollTop = scrollTop;\n        _this2.quill.focus();\n      }, 1);\n    }\n  }, {\n    key: 'prepareMatching',\n    value: function prepareMatching() {\n      var _this3 = this;\n\n      var elementMatchers = [],\n          textMatchers = [];\n      this.matchers.forEach(function (pair) {\n        var _pair = _slicedToArray(pair, 2),\n            selector = _pair[0],\n            matcher = _pair[1];\n\n        switch (selector) {\n          case Node.TEXT_NODE:\n            textMatchers.push(matcher);\n            break;\n          case Node.ELEMENT_NODE:\n            elementMatchers.push(matcher);\n            break;\n          default:\n            [].forEach.call(_this3.container.querySelectorAll(selector), function (node) {\n              // TODO use weakmap\n              node[DOM_KEY] = node[DOM_KEY] || [];\n              node[DOM_KEY].push(matcher);\n            });\n            break;\n        }\n      });\n      return [elementMatchers, textMatchers];\n    }\n  }]);\n\n  return Clipboard;\n}(_module2.default);\n\nClipboard.DEFAULTS = {\n  matchers: [],\n  matchVisual: true\n};\n\nfunction applyFormat(delta, format, value) {\n  if ((typeof format === 'undefined' ? 'undefined' : _typeof(format)) === 'object') {\n    return Object.keys(format).reduce(function (delta, key) {\n      return applyFormat(delta, key, format[key]);\n    }, delta);\n  } else {\n    return delta.reduce(function (delta, op) {\n      if (op.attributes && op.attributes[format]) {\n        return delta.push(op);\n      } else {\n        return delta.insert(op.insert, (0, _extend3.default)({}, _defineProperty({}, format, value), op.attributes));\n      }\n    }, new _quillDelta2.default());\n  }\n}\n\nfunction computeStyle(node) {\n  if (node.nodeType !== Node.ELEMENT_NODE) return {};\n  var DOM_KEY = '__ql-computed-style';\n  return node[DOM_KEY] || (node[DOM_KEY] = window.getComputedStyle(node));\n}\n\nfunction deltaEndsWith(delta, text) {\n  var endText = \"\";\n  for (var i = delta.ops.length - 1; i >= 0 && endText.length < text.length; --i) {\n    var op = delta.ops[i];\n    if (typeof op.insert !== 'string') break;\n    endText = op.insert + endText;\n  }\n  return endText.slice(-1 * text.length) === text;\n}\n\nfunction isLine(node) {\n  if (node.childNodes.length === 0) return false; // Exclude embed blocks\n  var style = computeStyle(node);\n  return ['block', 'list-item'].indexOf(style.display) > -1;\n}\n\nfunction traverse(node, elementMatchers, textMatchers) {\n  // Post-order\n  if (node.nodeType === node.TEXT_NODE) {\n    return textMatchers.reduce(function (delta, matcher) {\n      return matcher(node, delta);\n    }, new _quillDelta2.default());\n  } else if (node.nodeType === node.ELEMENT_NODE) {\n    return [].reduce.call(node.childNodes || [], function (delta, childNode) {\n      var childrenDelta = traverse(childNode, elementMatchers, textMatchers);\n      if (childNode.nodeType === node.ELEMENT_NODE) {\n        childrenDelta = elementMatchers.reduce(function (childrenDelta, matcher) {\n          return matcher(childNode, childrenDelta);\n        }, childrenDelta);\n        childrenDelta = (childNode[DOM_KEY] || []).reduce(function (childrenDelta, matcher) {\n          return matcher(childNode, childrenDelta);\n        }, childrenDelta);\n      }\n      return delta.concat(childrenDelta);\n    }, new _quillDelta2.default());\n  } else {\n    return new _quillDelta2.default();\n  }\n}\n\nfunction matchAlias(format, node, delta) {\n  return applyFormat(delta, format, true);\n}\n\nfunction matchAttributor(node, delta) {\n  var attributes = _parchment2.default.Attributor.Attribute.keys(node);\n  var classes = _parchment2.default.Attributor.Class.keys(node);\n  var styles = _parchment2.default.Attributor.Style.keys(node);\n  var formats = {};\n  attributes.concat(classes).concat(styles).forEach(function (name) {\n    var attr = _parchment2.default.query(name, _parchment2.default.Scope.ATTRIBUTE);\n    if (attr != null) {\n      formats[attr.attrName] = attr.value(node);\n      if (formats[attr.attrName]) return;\n    }\n    attr = ATTRIBUTE_ATTRIBUTORS[name];\n    if (attr != null && (attr.attrName === name || attr.keyName === name)) {\n      formats[attr.attrName] = attr.value(node) || undefined;\n    }\n    attr = STYLE_ATTRIBUTORS[name];\n    if (attr != null && (attr.attrName === name || attr.keyName === name)) {\n      attr = STYLE_ATTRIBUTORS[name];\n      formats[attr.attrName] = attr.value(node) || undefined;\n    }\n  });\n  if (Object.keys(formats).length > 0) {\n    delta = applyFormat(delta, formats);\n  }\n  return delta;\n}\n\nfunction matchBlot(node, delta) {\n  var match = _parchment2.default.query(node);\n  if (match == null) return delta;\n  if (match.prototype instanceof _parchment2.default.Embed) {\n    var embed = {};\n    var value = match.value(node);\n    if (value != null) {\n      embed[match.blotName] = value;\n      delta = new _quillDelta2.default().insert(embed, match.formats(node));\n    }\n  } else if (typeof match.formats === 'function') {\n    delta = applyFormat(delta, match.blotName, match.formats(node));\n  }\n  return delta;\n}\n\nfunction matchBreak(node, delta) {\n  if (!deltaEndsWith(delta, '\\n')) {\n    delta.insert('\\n');\n  }\n  return delta;\n}\n\nfunction matchIgnore() {\n  return new _quillDelta2.default();\n}\n\nfunction matchIndent(node, delta) {\n  var match = _parchment2.default.query(node);\n  if (match == null || match.blotName !== 'list-item' || !deltaEndsWith(delta, '\\n')) {\n    return delta;\n  }\n  var indent = -1,\n      parent = node.parentNode;\n  while (!parent.classList.contains('ql-clipboard')) {\n    if ((_parchment2.default.query(parent) || {}).blotName === 'list') {\n      indent += 1;\n    }\n    parent = parent.parentNode;\n  }\n  if (indent <= 0) return delta;\n  return delta.compose(new _quillDelta2.default().retain(delta.length() - 1).retain(1, { indent: indent }));\n}\n\nfunction matchNewline(node, delta) {\n  if (!deltaEndsWith(delta, '\\n')) {\n    if (isLine(node) || delta.length() > 0 && node.nextSibling && isLine(node.nextSibling)) {\n      delta.insert('\\n');\n    }\n  }\n  return delta;\n}\n\nfunction matchSpacing(node, delta) {\n  if (isLine(node) && node.nextElementSibling != null && !deltaEndsWith(delta, '\\n\\n')) {\n    var nodeHeight = node.offsetHeight + parseFloat(computeStyle(node).marginTop) + parseFloat(computeStyle(node).marginBottom);\n    if (node.nextElementSibling.offsetTop > node.offsetTop + nodeHeight * 1.5) {\n      delta.insert('\\n');\n    }\n  }\n  return delta;\n}\n\nfunction matchStyles(node, delta) {\n  var formats = {};\n  var style = node.style || {};\n  if (style.fontStyle && computeStyle(node).fontStyle === 'italic') {\n    formats.italic = true;\n  }\n  if (style.fontWeight && (computeStyle(node).fontWeight.startsWith('bold') || parseInt(computeStyle(node).fontWeight) >= 700)) {\n    formats.bold = true;\n  }\n  if (Object.keys(formats).length > 0) {\n    delta = applyFormat(delta, formats);\n  }\n  if (parseFloat(style.textIndent || 0) > 0) {\n    // Could be 0.5in\n    delta = new _quillDelta2.default().insert('\\t').concat(delta);\n  }\n  return delta;\n}\n\nfunction matchText(node, delta) {\n  var text = node.data;\n  // Word represents empty line with <o:p>&nbsp;</o:p>\n  if (node.parentNode.tagName === 'O:P') {\n    return delta.insert(text.trim());\n  }\n  if (text.trim().length === 0 && node.parentNode.classList.contains('ql-clipboard')) {\n    return delta;\n  }\n  if (!computeStyle(node.parentNode).whiteSpace.startsWith('pre')) {\n    // eslint-disable-next-line func-style\n    var replacer = function replacer(collapse, match) {\n      match = match.replace(/[^\\u00a0]/g, ''); // \\u00a0 is nbsp;\n      return match.length < 1 && collapse ? ' ' : match;\n    };\n    text = text.replace(/\\r\\n/g, ' ').replace(/\\n/g, ' ');\n    text = text.replace(/\\s\\s+/g, replacer.bind(replacer, true)); // collapse whitespace\n    if (node.previousSibling == null && isLine(node.parentNode) || node.previousSibling != null && isLine(node.previousSibling)) {\n      text = text.replace(/^\\s+/, replacer.bind(replacer, false));\n    }\n    if (node.nextSibling == null && isLine(node.parentNode) || node.nextSibling != null && isLine(node.nextSibling)) {\n      text = text.replace(/\\s+$/, replacer.bind(replacer, false));\n    }\n  }\n  return delta.insert(text);\n}\n\nexports.default = Clipboard;\nexports.matchAttributor = matchAttributor;\nexports.matchBlot = matchBlot;\nexports.matchNewline = matchNewline;\nexports.matchSpacing = matchSpacing;\nexports.matchText = matchText;\n\n/***/ }),\n/* 56 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _inline = __webpack_require__(6);\n\nvar _inline2 = _interopRequireDefault(_inline);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Bold = function (_Inline) {\n  _inherits(Bold, _Inline);\n\n  function Bold() {\n    _classCallCheck(this, Bold);\n\n    return _possibleConstructorReturn(this, (Bold.__proto__ || Object.getPrototypeOf(Bold)).apply(this, arguments));\n  }\n\n  _createClass(Bold, [{\n    key: 'optimize',\n    value: function optimize(context) {\n      _get(Bold.prototype.__proto__ || Object.getPrototypeOf(Bold.prototype), 'optimize', this).call(this, context);\n      if (this.domNode.tagName !== this.statics.tagName[0]) {\n        this.replaceWith(this.statics.blotName);\n      }\n    }\n  }], [{\n    key: 'create',\n    value: function create() {\n      return _get(Bold.__proto__ || Object.getPrototypeOf(Bold), 'create', this).call(this);\n    }\n  }, {\n    key: 'formats',\n    value: function formats() {\n      return true;\n    }\n  }]);\n\n  return Bold;\n}(_inline2.default);\n\nBold.blotName = 'bold';\nBold.tagName = ['STRONG', 'B'];\n\nexports.default = Bold;\n\n/***/ }),\n/* 57 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.addControls = exports.default = undefined;\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _quillDelta = __webpack_require__(2);\n\nvar _quillDelta2 = _interopRequireDefault(_quillDelta);\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nvar _quill = __webpack_require__(5);\n\nvar _quill2 = _interopRequireDefault(_quill);\n\nvar _logger = __webpack_require__(10);\n\nvar _logger2 = _interopRequireDefault(_logger);\n\nvar _module = __webpack_require__(9);\n\nvar _module2 = _interopRequireDefault(_module);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar debug = (0, _logger2.default)('quill:toolbar');\n\nvar Toolbar = function (_Module) {\n  _inherits(Toolbar, _Module);\n\n  function Toolbar(quill, options) {\n    _classCallCheck(this, Toolbar);\n\n    var _this = _possibleConstructorReturn(this, (Toolbar.__proto__ || Object.getPrototypeOf(Toolbar)).call(this, quill, options));\n\n    if (Array.isArray(_this.options.container)) {\n      var container = document.createElement('div');\n      addControls(container, _this.options.container);\n      quill.container.parentNode.insertBefore(container, quill.container);\n      _this.container = container;\n    } else if (typeof _this.options.container === 'string') {\n      _this.container = document.querySelector(_this.options.container);\n    } else {\n      _this.container = _this.options.container;\n    }\n    if (!(_this.container instanceof HTMLElement)) {\n      var _ret;\n\n      return _ret = debug.error('Container required for toolbar', _this.options), _possibleConstructorReturn(_this, _ret);\n    }\n    _this.container.classList.add('ql-toolbar');\n    _this.controls = [];\n    _this.handlers = {};\n    Object.keys(_this.options.handlers).forEach(function (format) {\n      _this.addHandler(format, _this.options.handlers[format]);\n    });\n    [].forEach.call(_this.container.querySelectorAll('button, select'), function (input) {\n      _this.attach(input);\n    });\n    _this.quill.on(_quill2.default.events.EDITOR_CHANGE, function (type, range) {\n      if (type === _quill2.default.events.SELECTION_CHANGE) {\n        _this.update(range);\n      }\n    });\n    _this.quill.on(_quill2.default.events.SCROLL_OPTIMIZE, function () {\n      var _this$quill$selection = _this.quill.selection.getRange(),\n          _this$quill$selection2 = _slicedToArray(_this$quill$selection, 1),\n          range = _this$quill$selection2[0]; // quill.getSelection triggers update\n\n\n      _this.update(range);\n    });\n    return _this;\n  }\n\n  _createClass(Toolbar, [{\n    key: 'addHandler',\n    value: function addHandler(format, handler) {\n      this.handlers[format] = handler;\n    }\n  }, {\n    key: 'attach',\n    value: function attach(input) {\n      var _this2 = this;\n\n      var format = [].find.call(input.classList, function (className) {\n        return className.indexOf('ql-') === 0;\n      });\n      if (!format) return;\n      format = format.slice('ql-'.length);\n      if (input.tagName === 'BUTTON') {\n        input.setAttribute('type', 'button');\n      }\n      if (this.handlers[format] == null) {\n        if (this.quill.scroll.whitelist != null && this.quill.scroll.whitelist[format] == null) {\n          debug.warn('ignoring attaching to disabled format', format, input);\n          return;\n        }\n        if (_parchment2.default.query(format) == null) {\n          debug.warn('ignoring attaching to nonexistent format', format, input);\n          return;\n        }\n      }\n      var eventName = input.tagName === 'SELECT' ? 'change' : 'click';\n      input.addEventListener(eventName, function (e) {\n        var value = void 0;\n        if (input.tagName === 'SELECT') {\n          if (input.selectedIndex < 0) return;\n          var selected = input.options[input.selectedIndex];\n          if (selected.hasAttribute('selected')) {\n            value = false;\n          } else {\n            value = selected.value || false;\n          }\n        } else {\n          if (input.classList.contains('ql-active')) {\n            value = false;\n          } else {\n            value = input.value || !input.hasAttribute('value');\n          }\n          e.preventDefault();\n        }\n        _this2.quill.focus();\n\n        var _quill$selection$getR = _this2.quill.selection.getRange(),\n            _quill$selection$getR2 = _slicedToArray(_quill$selection$getR, 1),\n            range = _quill$selection$getR2[0];\n\n        if (_this2.handlers[format] != null) {\n          _this2.handlers[format].call(_this2, value);\n        } else if (_parchment2.default.query(format).prototype instanceof _parchment2.default.Embed) {\n          value = prompt('Enter ' + format);\n          if (!value) return;\n          _this2.quill.updateContents(new _quillDelta2.default().retain(range.index).delete(range.length).insert(_defineProperty({}, format, value)), _quill2.default.sources.USER);\n        } else {\n          _this2.quill.format(format, value, _quill2.default.sources.USER);\n        }\n        _this2.update(range);\n      });\n      // TODO use weakmap\n      this.controls.push([format, input]);\n    }\n  }, {\n    key: 'update',\n    value: function update(range) {\n      var formats = range == null ? {} : this.quill.getFormat(range);\n      this.controls.forEach(function (pair) {\n        var _pair = _slicedToArray(pair, 2),\n            format = _pair[0],\n            input = _pair[1];\n\n        if (input.tagName === 'SELECT') {\n          var option = void 0;\n          if (range == null) {\n            option = null;\n          } else if (formats[format] == null) {\n            option = input.querySelector('option[selected]');\n          } else if (!Array.isArray(formats[format])) {\n            var value = formats[format];\n            if (typeof value === 'string') {\n              value = value.replace(/\\\"/g, '\\\\\"');\n            }\n            option = input.querySelector('option[value=\"' + value + '\"]');\n          }\n          if (option == null) {\n            input.value = ''; // TODO make configurable?\n            input.selectedIndex = -1;\n          } else {\n            option.selected = true;\n          }\n        } else {\n          if (range == null) {\n            input.classList.remove('ql-active');\n          } else if (input.hasAttribute('value')) {\n            // both being null should match (default values)\n            // '1' should match with 1 (headers)\n            var isActive = formats[format] === input.getAttribute('value') || formats[format] != null && formats[format].toString() === input.getAttribute('value') || formats[format] == null && !input.getAttribute('value');\n            input.classList.toggle('ql-active', isActive);\n          } else {\n            input.classList.toggle('ql-active', formats[format] != null);\n          }\n        }\n      });\n    }\n  }]);\n\n  return Toolbar;\n}(_module2.default);\n\nToolbar.DEFAULTS = {};\n\nfunction addButton(container, format, value) {\n  var input = document.createElement('button');\n  input.setAttribute('type', 'button');\n  input.classList.add('ql-' + format);\n  if (value != null) {\n    input.value = value;\n  }\n  container.appendChild(input);\n}\n\nfunction addControls(container, groups) {\n  if (!Array.isArray(groups[0])) {\n    groups = [groups];\n  }\n  groups.forEach(function (controls) {\n    var group = document.createElement('span');\n    group.classList.add('ql-formats');\n    controls.forEach(function (control) {\n      if (typeof control === 'string') {\n        addButton(group, control);\n      } else {\n        var format = Object.keys(control)[0];\n        var value = control[format];\n        if (Array.isArray(value)) {\n          addSelect(group, format, value);\n        } else {\n          addButton(group, format, value);\n        }\n      }\n    });\n    container.appendChild(group);\n  });\n}\n\nfunction addSelect(container, format, values) {\n  var input = document.createElement('select');\n  input.classList.add('ql-' + format);\n  values.forEach(function (value) {\n    var option = document.createElement('option');\n    if (value !== false) {\n      option.setAttribute('value', value);\n    } else {\n      option.setAttribute('selected', 'selected');\n    }\n    input.appendChild(option);\n  });\n  container.appendChild(input);\n}\n\nToolbar.DEFAULTS = {\n  container: null,\n  handlers: {\n    clean: function clean() {\n      var _this3 = this;\n\n      var range = this.quill.getSelection();\n      if (range == null) return;\n      if (range.length == 0) {\n        var formats = this.quill.getFormat();\n        Object.keys(formats).forEach(function (name) {\n          // Clean functionality in existing apps only clean inline formats\n          if (_parchment2.default.query(name, _parchment2.default.Scope.INLINE) != null) {\n            _this3.quill.format(name, false);\n          }\n        });\n      } else {\n        this.quill.removeFormat(range, _quill2.default.sources.USER);\n      }\n    },\n    direction: function direction(value) {\n      var align = this.quill.getFormat()['align'];\n      if (value === 'rtl' && align == null) {\n        this.quill.format('align', 'right', _quill2.default.sources.USER);\n      } else if (!value && align === 'right') {\n        this.quill.format('align', false, _quill2.default.sources.USER);\n      }\n      this.quill.format('direction', value, _quill2.default.sources.USER);\n    },\n    indent: function indent(value) {\n      var range = this.quill.getSelection();\n      var formats = this.quill.getFormat(range);\n      var indent = parseInt(formats.indent || 0);\n      if (value === '+1' || value === '-1') {\n        var modifier = value === '+1' ? 1 : -1;\n        if (formats.direction === 'rtl') modifier *= -1;\n        this.quill.format('indent', indent + modifier, _quill2.default.sources.USER);\n      }\n    },\n    link: function link(value) {\n      if (value === true) {\n        value = prompt('Enter link URL:');\n      }\n      this.quill.format('link', value, _quill2.default.sources.USER);\n    },\n    list: function list(value) {\n      var range = this.quill.getSelection();\n      var formats = this.quill.getFormat(range);\n      if (value === 'check') {\n        if (formats['list'] === 'checked' || formats['list'] === 'unchecked') {\n          this.quill.format('list', false, _quill2.default.sources.USER);\n        } else {\n          this.quill.format('list', 'unchecked', _quill2.default.sources.USER);\n        }\n      } else {\n        this.quill.format('list', value, _quill2.default.sources.USER);\n      }\n    }\n  }\n};\n\nexports.default = Toolbar;\nexports.addControls = addControls;\n\n/***/ }),\n/* 58 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <polyline class=\\\"ql-even ql-stroke\\\" points=\\\"5 7 3 9 5 11\\\"></polyline> <polyline class=\\\"ql-even ql-stroke\\\" points=\\\"13 7 15 9 13 11\\\"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>\";\n\n/***/ }),\n/* 59 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _picker = __webpack_require__(28);\n\nvar _picker2 = _interopRequireDefault(_picker);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar ColorPicker = function (_Picker) {\n  _inherits(ColorPicker, _Picker);\n\n  function ColorPicker(select, label) {\n    _classCallCheck(this, ColorPicker);\n\n    var _this = _possibleConstructorReturn(this, (ColorPicker.__proto__ || Object.getPrototypeOf(ColorPicker)).call(this, select));\n\n    _this.label.innerHTML = label;\n    _this.container.classList.add('ql-color-picker');\n    [].slice.call(_this.container.querySelectorAll('.ql-picker-item'), 0, 7).forEach(function (item) {\n      item.classList.add('ql-primary');\n    });\n    return _this;\n  }\n\n  _createClass(ColorPicker, [{\n    key: 'buildItem',\n    value: function buildItem(option) {\n      var item = _get(ColorPicker.prototype.__proto__ || Object.getPrototypeOf(ColorPicker.prototype), 'buildItem', this).call(this, option);\n      item.style.backgroundColor = option.getAttribute('value') || '';\n      return item;\n    }\n  }, {\n    key: 'selectItem',\n    value: function selectItem(item, trigger) {\n      _get(ColorPicker.prototype.__proto__ || Object.getPrototypeOf(ColorPicker.prototype), 'selectItem', this).call(this, item, trigger);\n      var colorLabel = this.label.querySelector('.ql-color-label');\n      var value = item ? item.getAttribute('data-value') || '' : '';\n      if (colorLabel) {\n        if (colorLabel.tagName === 'line') {\n          colorLabel.style.stroke = value;\n        } else {\n          colorLabel.style.fill = value;\n        }\n      }\n    }\n  }]);\n\n  return ColorPicker;\n}(_picker2.default);\n\nexports.default = ColorPicker;\n\n/***/ }),\n/* 60 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _picker = __webpack_require__(28);\n\nvar _picker2 = _interopRequireDefault(_picker);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar IconPicker = function (_Picker) {\n  _inherits(IconPicker, _Picker);\n\n  function IconPicker(select, icons) {\n    _classCallCheck(this, IconPicker);\n\n    var _this = _possibleConstructorReturn(this, (IconPicker.__proto__ || Object.getPrototypeOf(IconPicker)).call(this, select));\n\n    _this.container.classList.add('ql-icon-picker');\n    [].forEach.call(_this.container.querySelectorAll('.ql-picker-item'), function (item) {\n      item.innerHTML = icons[item.getAttribute('data-value') || ''];\n    });\n    _this.defaultItem = _this.container.querySelector('.ql-selected');\n    _this.selectItem(_this.defaultItem);\n    return _this;\n  }\n\n  _createClass(IconPicker, [{\n    key: 'selectItem',\n    value: function selectItem(item, trigger) {\n      _get(IconPicker.prototype.__proto__ || Object.getPrototypeOf(IconPicker.prototype), 'selectItem', this).call(this, item, trigger);\n      item = item || this.defaultItem;\n      this.label.innerHTML = item.innerHTML;\n    }\n  }]);\n\n  return IconPicker;\n}(_picker2.default);\n\nexports.default = IconPicker;\n\n/***/ }),\n/* 61 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Tooltip = function () {\n  function Tooltip(quill, boundsContainer) {\n    var _this = this;\n\n    _classCallCheck(this, Tooltip);\n\n    this.quill = quill;\n    this.boundsContainer = boundsContainer || document.body;\n    this.root = quill.addContainer('ql-tooltip');\n    this.root.innerHTML = this.constructor.TEMPLATE;\n    if (this.quill.root === this.quill.scrollingContainer) {\n      this.quill.root.addEventListener('scroll', function () {\n        _this.root.style.marginTop = -1 * _this.quill.root.scrollTop + 'px';\n      });\n    }\n    this.hide();\n  }\n\n  _createClass(Tooltip, [{\n    key: 'hide',\n    value: function hide() {\n      this.root.classList.add('ql-hidden');\n    }\n  }, {\n    key: 'position',\n    value: function position(reference) {\n      var left = reference.left + reference.width / 2 - this.root.offsetWidth / 2;\n      // root.scrollTop should be 0 if scrollContainer !== root\n      var top = reference.bottom + this.quill.root.scrollTop;\n      this.root.style.left = left + 'px';\n      this.root.style.top = top + 'px';\n      this.root.classList.remove('ql-flip');\n      var containerBounds = this.boundsContainer.getBoundingClientRect();\n      var rootBounds = this.root.getBoundingClientRect();\n      var shift = 0;\n      if (rootBounds.right > containerBounds.right) {\n        shift = containerBounds.right - rootBounds.right;\n        this.root.style.left = left + shift + 'px';\n      }\n      if (rootBounds.left < containerBounds.left) {\n        shift = containerBounds.left - rootBounds.left;\n        this.root.style.left = left + shift + 'px';\n      }\n      if (rootBounds.bottom > containerBounds.bottom) {\n        var height = rootBounds.bottom - rootBounds.top;\n        var verticalShift = reference.bottom - reference.top + height;\n        this.root.style.top = top - verticalShift + 'px';\n        this.root.classList.add('ql-flip');\n      }\n      return shift;\n    }\n  }, {\n    key: 'show',\n    value: function show() {\n      this.root.classList.remove('ql-editing');\n      this.root.classList.remove('ql-hidden');\n    }\n  }]);\n\n  return Tooltip;\n}();\n\nexports.default = Tooltip;\n\n/***/ }),\n/* 62 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _extend = __webpack_require__(3);\n\nvar _extend2 = _interopRequireDefault(_extend);\n\nvar _emitter = __webpack_require__(8);\n\nvar _emitter2 = _interopRequireDefault(_emitter);\n\nvar _base = __webpack_require__(43);\n\nvar _base2 = _interopRequireDefault(_base);\n\nvar _link = __webpack_require__(27);\n\nvar _link2 = _interopRequireDefault(_link);\n\nvar _selection = __webpack_require__(15);\n\nvar _icons = __webpack_require__(41);\n\nvar _icons2 = _interopRequireDefault(_icons);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar TOOLBAR_CONFIG = [[{ header: ['1', '2', '3', false] }], ['bold', 'italic', 'underline', 'link'], [{ list: 'ordered' }, { list: 'bullet' }], ['clean']];\n\nvar SnowTheme = function (_BaseTheme) {\n  _inherits(SnowTheme, _BaseTheme);\n\n  function SnowTheme(quill, options) {\n    _classCallCheck(this, SnowTheme);\n\n    if (options.modules.toolbar != null && options.modules.toolbar.container == null) {\n      options.modules.toolbar.container = TOOLBAR_CONFIG;\n    }\n\n    var _this = _possibleConstructorReturn(this, (SnowTheme.__proto__ || Object.getPrototypeOf(SnowTheme)).call(this, quill, options));\n\n    _this.quill.container.classList.add('ql-snow');\n    return _this;\n  }\n\n  _createClass(SnowTheme, [{\n    key: 'extendToolbar',\n    value: function extendToolbar(toolbar) {\n      toolbar.container.classList.add('ql-snow');\n      this.buildButtons([].slice.call(toolbar.container.querySelectorAll('button')), _icons2.default);\n      this.buildPickers([].slice.call(toolbar.container.querySelectorAll('select')), _icons2.default);\n      this.tooltip = new SnowTooltip(this.quill, this.options.bounds);\n      if (toolbar.container.querySelector('.ql-link')) {\n        this.quill.keyboard.addBinding({ key: 'K', shortKey: true }, function (range, context) {\n          toolbar.handlers['link'].call(toolbar, !context.format.link);\n        });\n      }\n    }\n  }]);\n\n  return SnowTheme;\n}(_base2.default);\n\nSnowTheme.DEFAULTS = (0, _extend2.default)(true, {}, _base2.default.DEFAULTS, {\n  modules: {\n    toolbar: {\n      handlers: {\n        link: function link(value) {\n          if (value) {\n            var range = this.quill.getSelection();\n            if (range == null || range.length == 0) return;\n            var preview = this.quill.getText(range);\n            if (/^\\S+@\\S+\\.\\S+$/.test(preview) && preview.indexOf('mailto:') !== 0) {\n              preview = 'mailto:' + preview;\n            }\n            var tooltip = this.quill.theme.tooltip;\n            tooltip.edit('link', preview);\n          } else {\n            this.quill.format('link', false);\n          }\n        }\n      }\n    }\n  }\n});\n\nvar SnowTooltip = function (_BaseTooltip) {\n  _inherits(SnowTooltip, _BaseTooltip);\n\n  function SnowTooltip(quill, bounds) {\n    _classCallCheck(this, SnowTooltip);\n\n    var _this2 = _possibleConstructorReturn(this, (SnowTooltip.__proto__ || Object.getPrototypeOf(SnowTooltip)).call(this, quill, bounds));\n\n    _this2.preview = _this2.root.querySelector('a.ql-preview');\n    return _this2;\n  }\n\n  _createClass(SnowTooltip, [{\n    key: 'listen',\n    value: function listen() {\n      var _this3 = this;\n\n      _get(SnowTooltip.prototype.__proto__ || Object.getPrototypeOf(SnowTooltip.prototype), 'listen', this).call(this);\n      this.root.querySelector('a.ql-action').addEventListener('click', function (event) {\n        if (_this3.root.classList.contains('ql-editing')) {\n          _this3.save();\n        } else {\n          _this3.edit('link', _this3.preview.textContent);\n        }\n        event.preventDefault();\n      });\n      this.root.querySelector('a.ql-remove').addEventListener('click', function (event) {\n        if (_this3.linkRange != null) {\n          var range = _this3.linkRange;\n          _this3.restoreFocus();\n          _this3.quill.formatText(range, 'link', false, _emitter2.default.sources.USER);\n          delete _this3.linkRange;\n        }\n        event.preventDefault();\n        _this3.hide();\n      });\n      this.quill.on(_emitter2.default.events.SELECTION_CHANGE, function (range, oldRange, source) {\n        if (range == null) return;\n        if (range.length === 0 && source === _emitter2.default.sources.USER) {\n          var _quill$scroll$descend = _this3.quill.scroll.descendant(_link2.default, range.index),\n              _quill$scroll$descend2 = _slicedToArray(_quill$scroll$descend, 2),\n              link = _quill$scroll$descend2[0],\n              offset = _quill$scroll$descend2[1];\n\n          if (link != null) {\n            _this3.linkRange = new _selection.Range(range.index - offset, link.length());\n            var preview = _link2.default.formats(link.domNode);\n            _this3.preview.textContent = preview;\n            _this3.preview.setAttribute('href', preview);\n            _this3.show();\n            _this3.position(_this3.quill.getBounds(_this3.linkRange));\n            return;\n          }\n        } else {\n          delete _this3.linkRange;\n        }\n        _this3.hide();\n      });\n    }\n  }, {\n    key: 'show',\n    value: function show() {\n      _get(SnowTooltip.prototype.__proto__ || Object.getPrototypeOf(SnowTooltip.prototype), 'show', this).call(this);\n      this.root.removeAttribute('data-mode');\n    }\n  }]);\n\n  return SnowTooltip;\n}(_base.BaseTooltip);\n\nSnowTooltip.TEMPLATE = ['<a class=\"ql-preview\" rel=\"noopener noreferrer\" target=\"_blank\" href=\"about:blank\"></a>', '<input type=\"text\" data-formula=\"e=mc^2\" data-link=\"https://quilljs.com\" data-video=\"Embed URL\">', '<a class=\"ql-action\"></a>', '<a class=\"ql-remove\"></a>'].join('');\n\nexports.default = SnowTheme;\n\n/***/ }),\n/* 63 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _core = __webpack_require__(29);\n\nvar _core2 = _interopRequireDefault(_core);\n\nvar _align = __webpack_require__(36);\n\nvar _direction = __webpack_require__(38);\n\nvar _indent = __webpack_require__(64);\n\nvar _blockquote = __webpack_require__(65);\n\nvar _blockquote2 = _interopRequireDefault(_blockquote);\n\nvar _header = __webpack_require__(66);\n\nvar _header2 = _interopRequireDefault(_header);\n\nvar _list = __webpack_require__(67);\n\nvar _list2 = _interopRequireDefault(_list);\n\nvar _background = __webpack_require__(37);\n\nvar _color = __webpack_require__(26);\n\nvar _font = __webpack_require__(39);\n\nvar _size = __webpack_require__(40);\n\nvar _bold = __webpack_require__(56);\n\nvar _bold2 = _interopRequireDefault(_bold);\n\nvar _italic = __webpack_require__(68);\n\nvar _italic2 = _interopRequireDefault(_italic);\n\nvar _link = __webpack_require__(27);\n\nvar _link2 = _interopRequireDefault(_link);\n\nvar _script = __webpack_require__(69);\n\nvar _script2 = _interopRequireDefault(_script);\n\nvar _strike = __webpack_require__(70);\n\nvar _strike2 = _interopRequireDefault(_strike);\n\nvar _underline = __webpack_require__(71);\n\nvar _underline2 = _interopRequireDefault(_underline);\n\nvar _image = __webpack_require__(72);\n\nvar _image2 = _interopRequireDefault(_image);\n\nvar _video = __webpack_require__(73);\n\nvar _video2 = _interopRequireDefault(_video);\n\nvar _code = __webpack_require__(13);\n\nvar _code2 = _interopRequireDefault(_code);\n\nvar _formula = __webpack_require__(74);\n\nvar _formula2 = _interopRequireDefault(_formula);\n\nvar _syntax = __webpack_require__(75);\n\nvar _syntax2 = _interopRequireDefault(_syntax);\n\nvar _toolbar = __webpack_require__(57);\n\nvar _toolbar2 = _interopRequireDefault(_toolbar);\n\nvar _icons = __webpack_require__(41);\n\nvar _icons2 = _interopRequireDefault(_icons);\n\nvar _picker = __webpack_require__(28);\n\nvar _picker2 = _interopRequireDefault(_picker);\n\nvar _colorPicker = __webpack_require__(59);\n\nvar _colorPicker2 = _interopRequireDefault(_colorPicker);\n\nvar _iconPicker = __webpack_require__(60);\n\nvar _iconPicker2 = _interopRequireDefault(_iconPicker);\n\nvar _tooltip = __webpack_require__(61);\n\nvar _tooltip2 = _interopRequireDefault(_tooltip);\n\nvar _bubble = __webpack_require__(108);\n\nvar _bubble2 = _interopRequireDefault(_bubble);\n\nvar _snow = __webpack_require__(62);\n\nvar _snow2 = _interopRequireDefault(_snow);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n_core2.default.register({\n  'attributors/attribute/direction': _direction.DirectionAttribute,\n\n  'attributors/class/align': _align.AlignClass,\n  'attributors/class/background': _background.BackgroundClass,\n  'attributors/class/color': _color.ColorClass,\n  'attributors/class/direction': _direction.DirectionClass,\n  'attributors/class/font': _font.FontClass,\n  'attributors/class/size': _size.SizeClass,\n\n  'attributors/style/align': _align.AlignStyle,\n  'attributors/style/background': _background.BackgroundStyle,\n  'attributors/style/color': _color.ColorStyle,\n  'attributors/style/direction': _direction.DirectionStyle,\n  'attributors/style/font': _font.FontStyle,\n  'attributors/style/size': _size.SizeStyle\n}, true);\n\n_core2.default.register({\n  'formats/align': _align.AlignClass,\n  'formats/direction': _direction.DirectionClass,\n  'formats/indent': _indent.IndentClass,\n\n  'formats/background': _background.BackgroundStyle,\n  'formats/color': _color.ColorStyle,\n  'formats/font': _font.FontClass,\n  'formats/size': _size.SizeClass,\n\n  'formats/blockquote': _blockquote2.default,\n  'formats/code-block': _code2.default,\n  'formats/header': _header2.default,\n  'formats/list': _list2.default,\n\n  'formats/bold': _bold2.default,\n  'formats/code': _code.Code,\n  'formats/italic': _italic2.default,\n  'formats/link': _link2.default,\n  'formats/script': _script2.default,\n  'formats/strike': _strike2.default,\n  'formats/underline': _underline2.default,\n\n  'formats/image': _image2.default,\n  'formats/video': _video2.default,\n\n  'formats/list/item': _list.ListItem,\n\n  'modules/formula': _formula2.default,\n  'modules/syntax': _syntax2.default,\n  'modules/toolbar': _toolbar2.default,\n\n  'themes/bubble': _bubble2.default,\n  'themes/snow': _snow2.default,\n\n  'ui/icons': _icons2.default,\n  'ui/picker': _picker2.default,\n  'ui/icon-picker': _iconPicker2.default,\n  'ui/color-picker': _colorPicker2.default,\n  'ui/tooltip': _tooltip2.default\n}, true);\n\nexports.default = _core2.default;\n\n/***/ }),\n/* 64 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.IndentClass = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar IdentAttributor = function (_Parchment$Attributor) {\n  _inherits(IdentAttributor, _Parchment$Attributor);\n\n  function IdentAttributor() {\n    _classCallCheck(this, IdentAttributor);\n\n    return _possibleConstructorReturn(this, (IdentAttributor.__proto__ || Object.getPrototypeOf(IdentAttributor)).apply(this, arguments));\n  }\n\n  _createClass(IdentAttributor, [{\n    key: 'add',\n    value: function add(node, value) {\n      if (value === '+1' || value === '-1') {\n        var indent = this.value(node) || 0;\n        value = value === '+1' ? indent + 1 : indent - 1;\n      }\n      if (value === 0) {\n        this.remove(node);\n        return true;\n      } else {\n        return _get(IdentAttributor.prototype.__proto__ || Object.getPrototypeOf(IdentAttributor.prototype), 'add', this).call(this, node, value);\n      }\n    }\n  }, {\n    key: 'canAdd',\n    value: function canAdd(node, value) {\n      return _get(IdentAttributor.prototype.__proto__ || Object.getPrototypeOf(IdentAttributor.prototype), 'canAdd', this).call(this, node, value) || _get(IdentAttributor.prototype.__proto__ || Object.getPrototypeOf(IdentAttributor.prototype), 'canAdd', this).call(this, node, parseInt(value));\n    }\n  }, {\n    key: 'value',\n    value: function value(node) {\n      return parseInt(_get(IdentAttributor.prototype.__proto__ || Object.getPrototypeOf(IdentAttributor.prototype), 'value', this).call(this, node)) || undefined; // Don't return NaN\n    }\n  }]);\n\n  return IdentAttributor;\n}(_parchment2.default.Attributor.Class);\n\nvar IndentClass = new IdentAttributor('indent', 'ql-indent', {\n  scope: _parchment2.default.Scope.BLOCK,\n  whitelist: [1, 2, 3, 4, 5, 6, 7, 8]\n});\n\nexports.IndentClass = IndentClass;\n\n/***/ }),\n/* 65 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _block = __webpack_require__(4);\n\nvar _block2 = _interopRequireDefault(_block);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Blockquote = function (_Block) {\n  _inherits(Blockquote, _Block);\n\n  function Blockquote() {\n    _classCallCheck(this, Blockquote);\n\n    return _possibleConstructorReturn(this, (Blockquote.__proto__ || Object.getPrototypeOf(Blockquote)).apply(this, arguments));\n  }\n\n  return Blockquote;\n}(_block2.default);\n\nBlockquote.blotName = 'blockquote';\nBlockquote.tagName = 'blockquote';\n\nexports.default = Blockquote;\n\n/***/ }),\n/* 66 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _block = __webpack_require__(4);\n\nvar _block2 = _interopRequireDefault(_block);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Header = function (_Block) {\n  _inherits(Header, _Block);\n\n  function Header() {\n    _classCallCheck(this, Header);\n\n    return _possibleConstructorReturn(this, (Header.__proto__ || Object.getPrototypeOf(Header)).apply(this, arguments));\n  }\n\n  _createClass(Header, null, [{\n    key: 'formats',\n    value: function formats(domNode) {\n      return this.tagName.indexOf(domNode.tagName) + 1;\n    }\n  }]);\n\n  return Header;\n}(_block2.default);\n\nHeader.blotName = 'header';\nHeader.tagName = ['H1', 'H2', 'H3', 'H4', 'H5', 'H6'];\n\nexports.default = Header;\n\n/***/ }),\n/* 67 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.ListItem = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nvar _block = __webpack_require__(4);\n\nvar _block2 = _interopRequireDefault(_block);\n\nvar _container = __webpack_require__(25);\n\nvar _container2 = _interopRequireDefault(_container);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar ListItem = function (_Block) {\n  _inherits(ListItem, _Block);\n\n  function ListItem() {\n    _classCallCheck(this, ListItem);\n\n    return _possibleConstructorReturn(this, (ListItem.__proto__ || Object.getPrototypeOf(ListItem)).apply(this, arguments));\n  }\n\n  _createClass(ListItem, [{\n    key: 'format',\n    value: function format(name, value) {\n      if (name === List.blotName && !value) {\n        this.replaceWith(_parchment2.default.create(this.statics.scope));\n      } else {\n        _get(ListItem.prototype.__proto__ || Object.getPrototypeOf(ListItem.prototype), 'format', this).call(this, name, value);\n      }\n    }\n  }, {\n    key: 'remove',\n    value: function remove() {\n      if (this.prev == null && this.next == null) {\n        this.parent.remove();\n      } else {\n        _get(ListItem.prototype.__proto__ || Object.getPrototypeOf(ListItem.prototype), 'remove', this).call(this);\n      }\n    }\n  }, {\n    key: 'replaceWith',\n    value: function replaceWith(name, value) {\n      this.parent.isolate(this.offset(this.parent), this.length());\n      if (name === this.parent.statics.blotName) {\n        this.parent.replaceWith(name, value);\n        return this;\n      } else {\n        this.parent.unwrap();\n        return _get(ListItem.prototype.__proto__ || Object.getPrototypeOf(ListItem.prototype), 'replaceWith', this).call(this, name, value);\n      }\n    }\n  }], [{\n    key: 'formats',\n    value: function formats(domNode) {\n      return domNode.tagName === this.tagName ? undefined : _get(ListItem.__proto__ || Object.getPrototypeOf(ListItem), 'formats', this).call(this, domNode);\n    }\n  }]);\n\n  return ListItem;\n}(_block2.default);\n\nListItem.blotName = 'list-item';\nListItem.tagName = 'LI';\n\nvar List = function (_Container) {\n  _inherits(List, _Container);\n\n  _createClass(List, null, [{\n    key: 'create',\n    value: function create(value) {\n      var tagName = value === 'ordered' ? 'OL' : 'UL';\n      var node = _get(List.__proto__ || Object.getPrototypeOf(List), 'create', this).call(this, tagName);\n      if (value === 'checked' || value === 'unchecked') {\n        node.setAttribute('data-checked', value === 'checked');\n      }\n      return node;\n    }\n  }, {\n    key: 'formats',\n    value: function formats(domNode) {\n      if (domNode.tagName === 'OL') return 'ordered';\n      if (domNode.tagName === 'UL') {\n        if (domNode.hasAttribute('data-checked')) {\n          return domNode.getAttribute('data-checked') === 'true' ? 'checked' : 'unchecked';\n        } else {\n          return 'bullet';\n        }\n      }\n      return undefined;\n    }\n  }]);\n\n  function List(domNode) {\n    _classCallCheck(this, List);\n\n    var _this2 = _possibleConstructorReturn(this, (List.__proto__ || Object.getPrototypeOf(List)).call(this, domNode));\n\n    var listEventHandler = function listEventHandler(e) {\n      if (e.target.parentNode !== domNode) return;\n      var format = _this2.statics.formats(domNode);\n      var blot = _parchment2.default.find(e.target);\n      if (format === 'checked') {\n        blot.format('list', 'unchecked');\n      } else if (format === 'unchecked') {\n        blot.format('list', 'checked');\n      }\n    };\n\n    domNode.addEventListener('touchstart', listEventHandler);\n    domNode.addEventListener('mousedown', listEventHandler);\n    return _this2;\n  }\n\n  _createClass(List, [{\n    key: 'format',\n    value: function format(name, value) {\n      if (this.children.length > 0) {\n        this.children.tail.format(name, value);\n      }\n    }\n  }, {\n    key: 'formats',\n    value: function formats() {\n      // We don't inherit from FormatBlot\n      return _defineProperty({}, this.statics.blotName, this.statics.formats(this.domNode));\n    }\n  }, {\n    key: 'insertBefore',\n    value: function insertBefore(blot, ref) {\n      if (blot instanceof ListItem) {\n        _get(List.prototype.__proto__ || Object.getPrototypeOf(List.prototype), 'insertBefore', this).call(this, blot, ref);\n      } else {\n        var index = ref == null ? this.length() : ref.offset(this);\n        var after = this.split(index);\n        after.parent.insertBefore(blot, after);\n      }\n    }\n  }, {\n    key: 'optimize',\n    value: function optimize(context) {\n      _get(List.prototype.__proto__ || Object.getPrototypeOf(List.prototype), 'optimize', this).call(this, context);\n      var next = this.next;\n      if (next != null && next.prev === this && next.statics.blotName === this.statics.blotName && next.domNode.tagName === this.domNode.tagName && next.domNode.getAttribute('data-checked') === this.domNode.getAttribute('data-checked')) {\n        next.moveChildren(this);\n        next.remove();\n      }\n    }\n  }, {\n    key: 'replace',\n    value: function replace(target) {\n      if (target.statics.blotName !== this.statics.blotName) {\n        var item = _parchment2.default.create(this.statics.defaultChild);\n        target.moveChildren(item);\n        this.appendChild(item);\n      }\n      _get(List.prototype.__proto__ || Object.getPrototypeOf(List.prototype), 'replace', this).call(this, target);\n    }\n  }]);\n\n  return List;\n}(_container2.default);\n\nList.blotName = 'list';\nList.scope = _parchment2.default.Scope.BLOCK_BLOT;\nList.tagName = ['OL', 'UL'];\nList.defaultChild = 'list-item';\nList.allowedChildren = [ListItem];\n\nexports.ListItem = ListItem;\nexports.default = List;\n\n/***/ }),\n/* 68 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _bold = __webpack_require__(56);\n\nvar _bold2 = _interopRequireDefault(_bold);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Italic = function (_Bold) {\n  _inherits(Italic, _Bold);\n\n  function Italic() {\n    _classCallCheck(this, Italic);\n\n    return _possibleConstructorReturn(this, (Italic.__proto__ || Object.getPrototypeOf(Italic)).apply(this, arguments));\n  }\n\n  return Italic;\n}(_bold2.default);\n\nItalic.blotName = 'italic';\nItalic.tagName = ['EM', 'I'];\n\nexports.default = Italic;\n\n/***/ }),\n/* 69 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _inline = __webpack_require__(6);\n\nvar _inline2 = _interopRequireDefault(_inline);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Script = function (_Inline) {\n  _inherits(Script, _Inline);\n\n  function Script() {\n    _classCallCheck(this, Script);\n\n    return _possibleConstructorReturn(this, (Script.__proto__ || Object.getPrototypeOf(Script)).apply(this, arguments));\n  }\n\n  _createClass(Script, null, [{\n    key: 'create',\n    value: function create(value) {\n      if (value === 'super') {\n        return document.createElement('sup');\n      } else if (value === 'sub') {\n        return document.createElement('sub');\n      } else {\n        return _get(Script.__proto__ || Object.getPrototypeOf(Script), 'create', this).call(this, value);\n      }\n    }\n  }, {\n    key: 'formats',\n    value: function formats(domNode) {\n      if (domNode.tagName === 'SUB') return 'sub';\n      if (domNode.tagName === 'SUP') return 'super';\n      return undefined;\n    }\n  }]);\n\n  return Script;\n}(_inline2.default);\n\nScript.blotName = 'script';\nScript.tagName = ['SUB', 'SUP'];\n\nexports.default = Script;\n\n/***/ }),\n/* 70 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _inline = __webpack_require__(6);\n\nvar _inline2 = _interopRequireDefault(_inline);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Strike = function (_Inline) {\n  _inherits(Strike, _Inline);\n\n  function Strike() {\n    _classCallCheck(this, Strike);\n\n    return _possibleConstructorReturn(this, (Strike.__proto__ || Object.getPrototypeOf(Strike)).apply(this, arguments));\n  }\n\n  return Strike;\n}(_inline2.default);\n\nStrike.blotName = 'strike';\nStrike.tagName = 'S';\n\nexports.default = Strike;\n\n/***/ }),\n/* 71 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _inline = __webpack_require__(6);\n\nvar _inline2 = _interopRequireDefault(_inline);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Underline = function (_Inline) {\n  _inherits(Underline, _Inline);\n\n  function Underline() {\n    _classCallCheck(this, Underline);\n\n    return _possibleConstructorReturn(this, (Underline.__proto__ || Object.getPrototypeOf(Underline)).apply(this, arguments));\n  }\n\n  return Underline;\n}(_inline2.default);\n\nUnderline.blotName = 'underline';\nUnderline.tagName = 'U';\n\nexports.default = Underline;\n\n/***/ }),\n/* 72 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nvar _link = __webpack_require__(27);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar ATTRIBUTES = ['alt', 'height', 'width'];\n\nvar Image = function (_Parchment$Embed) {\n  _inherits(Image, _Parchment$Embed);\n\n  function Image() {\n    _classCallCheck(this, Image);\n\n    return _possibleConstructorReturn(this, (Image.__proto__ || Object.getPrototypeOf(Image)).apply(this, arguments));\n  }\n\n  _createClass(Image, [{\n    key: 'format',\n    value: function format(name, value) {\n      if (ATTRIBUTES.indexOf(name) > -1) {\n        if (value) {\n          this.domNode.setAttribute(name, value);\n        } else {\n          this.domNode.removeAttribute(name);\n        }\n      } else {\n        _get(Image.prototype.__proto__ || Object.getPrototypeOf(Image.prototype), 'format', this).call(this, name, value);\n      }\n    }\n  }], [{\n    key: 'create',\n    value: function create(value) {\n      var node = _get(Image.__proto__ || Object.getPrototypeOf(Image), 'create', this).call(this, value);\n      if (typeof value === 'string') {\n        node.setAttribute('src', this.sanitize(value));\n      }\n      return node;\n    }\n  }, {\n    key: 'formats',\n    value: function formats(domNode) {\n      return ATTRIBUTES.reduce(function (formats, attribute) {\n        if (domNode.hasAttribute(attribute)) {\n          formats[attribute] = domNode.getAttribute(attribute);\n        }\n        return formats;\n      }, {});\n    }\n  }, {\n    key: 'match',\n    value: function match(url) {\n      return (/\\.(jpe?g|gif|png)$/.test(url) || /^data:image\\/.+;base64/.test(url)\n      );\n    }\n  }, {\n    key: 'sanitize',\n    value: function sanitize(url) {\n      return (0, _link.sanitize)(url, ['http', 'https', 'data']) ? url : '//:0';\n    }\n  }, {\n    key: 'value',\n    value: function value(domNode) {\n      return domNode.getAttribute('src');\n    }\n  }]);\n\n  return Image;\n}(_parchment2.default.Embed);\n\nImage.blotName = 'image';\nImage.tagName = 'IMG';\n\nexports.default = Image;\n\n/***/ }),\n/* 73 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _block = __webpack_require__(4);\n\nvar _link = __webpack_require__(27);\n\nvar _link2 = _interopRequireDefault(_link);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar ATTRIBUTES = ['height', 'width'];\n\nvar Video = function (_BlockEmbed) {\n  _inherits(Video, _BlockEmbed);\n\n  function Video() {\n    _classCallCheck(this, Video);\n\n    return _possibleConstructorReturn(this, (Video.__proto__ || Object.getPrototypeOf(Video)).apply(this, arguments));\n  }\n\n  _createClass(Video, [{\n    key: 'format',\n    value: function format(name, value) {\n      if (ATTRIBUTES.indexOf(name) > -1) {\n        if (value) {\n          this.domNode.setAttribute(name, value);\n        } else {\n          this.domNode.removeAttribute(name);\n        }\n      } else {\n        _get(Video.prototype.__proto__ || Object.getPrototypeOf(Video.prototype), 'format', this).call(this, name, value);\n      }\n    }\n  }], [{\n    key: 'create',\n    value: function create(value) {\n      var node = _get(Video.__proto__ || Object.getPrototypeOf(Video), 'create', this).call(this, value);\n      node.setAttribute('frameborder', '0');\n      node.setAttribute('allowfullscreen', true);\n      node.setAttribute('src', this.sanitize(value));\n      return node;\n    }\n  }, {\n    key: 'formats',\n    value: function formats(domNode) {\n      return ATTRIBUTES.reduce(function (formats, attribute) {\n        if (domNode.hasAttribute(attribute)) {\n          formats[attribute] = domNode.getAttribute(attribute);\n        }\n        return formats;\n      }, {});\n    }\n  }, {\n    key: 'sanitize',\n    value: function sanitize(url) {\n      return _link2.default.sanitize(url);\n    }\n  }, {\n    key: 'value',\n    value: function value(domNode) {\n      return domNode.getAttribute('src');\n    }\n  }]);\n\n  return Video;\n}(_block.BlockEmbed);\n\nVideo.blotName = 'video';\nVideo.className = 'ql-video';\nVideo.tagName = 'IFRAME';\n\nexports.default = Video;\n\n/***/ }),\n/* 74 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.FormulaBlot = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _embed = __webpack_require__(35);\n\nvar _embed2 = _interopRequireDefault(_embed);\n\nvar _quill = __webpack_require__(5);\n\nvar _quill2 = _interopRequireDefault(_quill);\n\nvar _module = __webpack_require__(9);\n\nvar _module2 = _interopRequireDefault(_module);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar FormulaBlot = function (_Embed) {\n  _inherits(FormulaBlot, _Embed);\n\n  function FormulaBlot() {\n    _classCallCheck(this, FormulaBlot);\n\n    return _possibleConstructorReturn(this, (FormulaBlot.__proto__ || Object.getPrototypeOf(FormulaBlot)).apply(this, arguments));\n  }\n\n  _createClass(FormulaBlot, null, [{\n    key: 'create',\n    value: function create(value) {\n      var node = _get(FormulaBlot.__proto__ || Object.getPrototypeOf(FormulaBlot), 'create', this).call(this, value);\n      if (typeof value === 'string') {\n        window.katex.render(value, node, {\n          throwOnError: false,\n          errorColor: '#f00'\n        });\n        node.setAttribute('data-value', value);\n      }\n      return node;\n    }\n  }, {\n    key: 'value',\n    value: function value(domNode) {\n      return domNode.getAttribute('data-value');\n    }\n  }]);\n\n  return FormulaBlot;\n}(_embed2.default);\n\nFormulaBlot.blotName = 'formula';\nFormulaBlot.className = 'ql-formula';\nFormulaBlot.tagName = 'SPAN';\n\nvar Formula = function (_Module) {\n  _inherits(Formula, _Module);\n\n  _createClass(Formula, null, [{\n    key: 'register',\n    value: function register() {\n      _quill2.default.register(FormulaBlot, true);\n    }\n  }]);\n\n  function Formula() {\n    _classCallCheck(this, Formula);\n\n    var _this2 = _possibleConstructorReturn(this, (Formula.__proto__ || Object.getPrototypeOf(Formula)).call(this));\n\n    if (window.katex == null) {\n      throw new Error('Formula module requires KaTeX.');\n    }\n    return _this2;\n  }\n\n  return Formula;\n}(_module2.default);\n\nexports.FormulaBlot = FormulaBlot;\nexports.default = Formula;\n\n/***/ }),\n/* 75 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.CodeToken = exports.CodeBlock = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _parchment = __webpack_require__(0);\n\nvar _parchment2 = _interopRequireDefault(_parchment);\n\nvar _quill = __webpack_require__(5);\n\nvar _quill2 = _interopRequireDefault(_quill);\n\nvar _module = __webpack_require__(9);\n\nvar _module2 = _interopRequireDefault(_module);\n\nvar _code = __webpack_require__(13);\n\nvar _code2 = _interopRequireDefault(_code);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar SyntaxCodeBlock = function (_CodeBlock) {\n  _inherits(SyntaxCodeBlock, _CodeBlock);\n\n  function SyntaxCodeBlock() {\n    _classCallCheck(this, SyntaxCodeBlock);\n\n    return _possibleConstructorReturn(this, (SyntaxCodeBlock.__proto__ || Object.getPrototypeOf(SyntaxCodeBlock)).apply(this, arguments));\n  }\n\n  _createClass(SyntaxCodeBlock, [{\n    key: 'replaceWith',\n    value: function replaceWith(block) {\n      this.domNode.textContent = this.domNode.textContent;\n      this.attach();\n      _get(SyntaxCodeBlock.prototype.__proto__ || Object.getPrototypeOf(SyntaxCodeBlock.prototype), 'replaceWith', this).call(this, block);\n    }\n  }, {\n    key: 'highlight',\n    value: function highlight(_highlight) {\n      var text = this.domNode.textContent;\n      if (this.cachedText !== text) {\n        if (text.trim().length > 0 || this.cachedText == null) {\n          this.domNode.innerHTML = _highlight(text);\n          this.domNode.normalize();\n          this.attach();\n        }\n        this.cachedText = text;\n      }\n    }\n  }]);\n\n  return SyntaxCodeBlock;\n}(_code2.default);\n\nSyntaxCodeBlock.className = 'ql-syntax';\n\nvar CodeToken = new _parchment2.default.Attributor.Class('token', 'hljs', {\n  scope: _parchment2.default.Scope.INLINE\n});\n\nvar Syntax = function (_Module) {\n  _inherits(Syntax, _Module);\n\n  _createClass(Syntax, null, [{\n    key: 'register',\n    value: function register() {\n      _quill2.default.register(CodeToken, true);\n      _quill2.default.register(SyntaxCodeBlock, true);\n    }\n  }]);\n\n  function Syntax(quill, options) {\n    _classCallCheck(this, Syntax);\n\n    var _this2 = _possibleConstructorReturn(this, (Syntax.__proto__ || Object.getPrototypeOf(Syntax)).call(this, quill, options));\n\n    if (typeof _this2.options.highlight !== 'function') {\n      throw new Error('Syntax module requires highlight.js. Please include the library on the page before Quill.');\n    }\n    var timer = null;\n    _this2.quill.on(_quill2.default.events.SCROLL_OPTIMIZE, function () {\n      clearTimeout(timer);\n      timer = setTimeout(function () {\n        _this2.highlight();\n        timer = null;\n      }, _this2.options.interval);\n    });\n    _this2.highlight();\n    return _this2;\n  }\n\n  _createClass(Syntax, [{\n    key: 'highlight',\n    value: function highlight() {\n      var _this3 = this;\n\n      if (this.quill.selection.composing) return;\n      this.quill.update(_quill2.default.sources.USER);\n      var range = this.quill.getSelection();\n      this.quill.scroll.descendants(SyntaxCodeBlock).forEach(function (code) {\n        code.highlight(_this3.options.highlight);\n      });\n      this.quill.update(_quill2.default.sources.SILENT);\n      if (range != null) {\n        this.quill.setSelection(range, _quill2.default.sources.SILENT);\n      }\n    }\n  }]);\n\n  return Syntax;\n}(_module2.default);\n\nSyntax.DEFAULTS = {\n  highlight: function () {\n    if (window.hljs == null) return null;\n    return function (text) {\n      var result = window.hljs.highlightAuto(text);\n      return result.value;\n    };\n  }(),\n  interval: 1000\n};\n\nexports.CodeBlock = SyntaxCodeBlock;\nexports.CodeToken = CodeToken;\nexports.default = Syntax;\n\n/***/ }),\n/* 76 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>\";\n\n/***/ }),\n/* 77 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>\";\n\n/***/ }),\n/* 78 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>\";\n\n/***/ }),\n/* 79 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>\";\n\n/***/ }),\n/* 80 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <g class=\\\"ql-fill ql-color-label\\\"> <polygon points=\\\"6 6.868 6 6 5 6 5 7 5.942 7 6 6.868\\\"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points=\\\"6.817 5 6 5 6 6 6.38 6 6.817 5\\\"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points=\\\"4 11.439 4 11 3 11 3 12 3.755 12 4 11.439\\\"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points=\\\"4.63 10 4 10 4 11 4.192 11 4.63 10\\\"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points=\\\"13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174\\\"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points=\\\"12 6.868 12 6 11.62 6 12 6.868\\\"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points=\\\"12.933 9 13 9 13 8 12.495 8 12.933 9\\\"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points=\\\"5.5 13 9 5 12.5 13\\\"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>\";\n\n/***/ }),\n/* 81 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <rect class=\\\"ql-fill ql-stroke\\\" height=3 width=3 x=4 y=5></rect> <rect class=\\\"ql-fill ql-stroke\\\" height=3 width=3 x=11 y=5></rect> <path class=\\\"ql-even ql-fill ql-stroke\\\" d=M7,8c0,4.031-3,5-3,5></path> <path class=\\\"ql-even ql-fill ql-stroke\\\" d=M14,8c0,4.031-3,5-3,5></path> </svg>\";\n\n/***/ }),\n/* 82 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>\";\n\n/***/ }),\n/* 83 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg class=\\\"\\\" viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>\";\n\n/***/ }),\n/* 84 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=\\\"ql-color-label ql-stroke ql-transparent\\\" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points=\\\"5.5 11 9 3 12.5 11\\\"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>\";\n\n/***/ }),\n/* 85 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <polygon class=\\\"ql-stroke ql-fill\\\" points=\\\"3 11 5 9 3 7 3 11\\\"></polygon> <line class=\\\"ql-stroke ql-fill\\\" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>\";\n\n/***/ }),\n/* 86 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <polygon class=\\\"ql-stroke ql-fill\\\" points=\\\"15 12 13 10 15 8 15 12\\\"></polygon> <line class=\\\"ql-stroke ql-fill\\\" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>\";\n\n/***/ }),\n/* 87 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>\";\n\n/***/ }),\n/* 88 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>\";\n\n/***/ }),\n/* 89 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>\";\n\n/***/ }),\n/* 90 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform=\\\"translate(24 18) rotate(-180)\\\"/> </svg>\";\n\n/***/ }),\n/* 91 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>\";\n\n/***/ }),\n/* 92 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewBox=\\\"0 0 18 18\\\"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>\";\n\n/***/ }),\n/* 93 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewBox=\\\"0 0 18 18\\\"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>\";\n\n/***/ }),\n/* 94 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>\";\n\n/***/ }),\n/* 95 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class=\\\"ql-even ql-fill\\\" points=\\\"5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12\\\"></polyline> </svg>\";\n\n/***/ }),\n/* 96 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=\\\"ql-fill ql-stroke\\\" points=\\\"3 7 3 11 5 9 3 7\\\"></polyline> </svg>\";\n\n/***/ }),\n/* 97 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points=\\\"5 7 5 11 3 9 5 7\\\"></polyline> </svg>\";\n\n/***/ }),\n/* 98 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class=\\\"ql-even ql-stroke\\\" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class=\\\"ql-even ql-stroke\\\" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>\";\n\n/***/ }),\n/* 99 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class=\\\"ql-stroke ql-thin\\\" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class=\\\"ql-stroke ql-thin\\\" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class=\\\"ql-stroke ql-thin\\\" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>\";\n\n/***/ }),\n/* 100 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>\";\n\n/***/ }),\n/* 101 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg class=\\\"\\\" viewbox=\\\"0 0 18 18\\\"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points=\\\"3 4 4 5 6 3\\\"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points=\\\"3 14 4 15 6 13\\\"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points=\\\"3 9 4 10 6 8\\\"></polyline> </svg>\";\n\n/***/ }),\n/* 102 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>\";\n\n/***/ }),\n/* 103 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>\";\n\n/***/ }),\n/* 104 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <line class=\\\"ql-stroke ql-thin\\\" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>\";\n\n/***/ }),\n/* 105 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>\";\n\n/***/ }),\n/* 106 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>\";\n\n/***/ }),\n/* 107 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"<svg viewbox=\\\"0 0 18 18\\\"> <polygon class=ql-stroke points=\\\"7 11 9 13 11 11 7 11\\\"></polygon> <polygon class=ql-stroke points=\\\"7 7 9 5 11 7 7 7\\\"></polygon> </svg>\";\n\n/***/ }),\n/* 108 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.BubbleTooltip = undefined;\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _extend = __webpack_require__(3);\n\nvar _extend2 = _interopRequireDefault(_extend);\n\nvar _emitter = __webpack_require__(8);\n\nvar _emitter2 = _interopRequireDefault(_emitter);\n\nvar _base = __webpack_require__(43);\n\nvar _base2 = _interopRequireDefault(_base);\n\nvar _selection = __webpack_require__(15);\n\nvar _icons = __webpack_require__(41);\n\nvar _icons2 = _interopRequireDefault(_icons);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar TOOLBAR_CONFIG = [['bold', 'italic', 'link'], [{ header: 1 }, { header: 2 }, 'blockquote']];\n\nvar BubbleTheme = function (_BaseTheme) {\n  _inherits(BubbleTheme, _BaseTheme);\n\n  function BubbleTheme(quill, options) {\n    _classCallCheck(this, BubbleTheme);\n\n    if (options.modules.toolbar != null && options.modules.toolbar.container == null) {\n      options.modules.toolbar.container = TOOLBAR_CONFIG;\n    }\n\n    var _this = _possibleConstructorReturn(this, (BubbleTheme.__proto__ || Object.getPrototypeOf(BubbleTheme)).call(this, quill, options));\n\n    _this.quill.container.classList.add('ql-bubble');\n    return _this;\n  }\n\n  _createClass(BubbleTheme, [{\n    key: 'extendToolbar',\n    value: function extendToolbar(toolbar) {\n      this.tooltip = new BubbleTooltip(this.quill, this.options.bounds);\n      this.tooltip.root.appendChild(toolbar.container);\n      this.buildButtons([].slice.call(toolbar.container.querySelectorAll('button')), _icons2.default);\n      this.buildPickers([].slice.call(toolbar.container.querySelectorAll('select')), _icons2.default);\n    }\n  }]);\n\n  return BubbleTheme;\n}(_base2.default);\n\nBubbleTheme.DEFAULTS = (0, _extend2.default)(true, {}, _base2.default.DEFAULTS, {\n  modules: {\n    toolbar: {\n      handlers: {\n        link: function link(value) {\n          if (!value) {\n            this.quill.format('link', false);\n          } else {\n            this.quill.theme.tooltip.edit();\n          }\n        }\n      }\n    }\n  }\n});\n\nvar BubbleTooltip = function (_BaseTooltip) {\n  _inherits(BubbleTooltip, _BaseTooltip);\n\n  function BubbleTooltip(quill, bounds) {\n    _classCallCheck(this, BubbleTooltip);\n\n    var _this2 = _possibleConstructorReturn(this, (BubbleTooltip.__proto__ || Object.getPrototypeOf(BubbleTooltip)).call(this, quill, bounds));\n\n    _this2.quill.on(_emitter2.default.events.EDITOR_CHANGE, function (type, range, oldRange, source) {\n      if (type !== _emitter2.default.events.SELECTION_CHANGE) return;\n      if (range != null && range.length > 0 && source === _emitter2.default.sources.USER) {\n        _this2.show();\n        // Lock our width so we will expand beyond our offsetParent boundaries\n        _this2.root.style.left = '0px';\n        _this2.root.style.width = '';\n        _this2.root.style.width = _this2.root.offsetWidth + 'px';\n        var lines = _this2.quill.getLines(range.index, range.length);\n        if (lines.length === 1) {\n          _this2.position(_this2.quill.getBounds(range));\n        } else {\n          var lastLine = lines[lines.length - 1];\n          var index = _this2.quill.getIndex(lastLine);\n          var length = Math.min(lastLine.length() - 1, range.index + range.length - index);\n          var _bounds = _this2.quill.getBounds(new _selection.Range(index, length));\n          _this2.position(_bounds);\n        }\n      } else if (document.activeElement !== _this2.textbox && _this2.quill.hasFocus()) {\n        _this2.hide();\n      }\n    });\n    return _this2;\n  }\n\n  _createClass(BubbleTooltip, [{\n    key: 'listen',\n    value: function listen() {\n      var _this3 = this;\n\n      _get(BubbleTooltip.prototype.__proto__ || Object.getPrototypeOf(BubbleTooltip.prototype), 'listen', this).call(this);\n      this.root.querySelector('.ql-close').addEventListener('click', function () {\n        _this3.root.classList.remove('ql-editing');\n      });\n      this.quill.on(_emitter2.default.events.SCROLL_OPTIMIZE, function () {\n        // Let selection be restored by toolbar handlers before repositioning\n        setTimeout(function () {\n          if (_this3.root.classList.contains('ql-hidden')) return;\n          var range = _this3.quill.getSelection();\n          if (range != null) {\n            _this3.position(_this3.quill.getBounds(range));\n          }\n        }, 1);\n      });\n    }\n  }, {\n    key: 'cancel',\n    value: function cancel() {\n      this.show();\n    }\n  }, {\n    key: 'position',\n    value: function position(reference) {\n      var shift = _get(BubbleTooltip.prototype.__proto__ || Object.getPrototypeOf(BubbleTooltip.prototype), 'position', this).call(this, reference);\n      var arrow = this.root.querySelector('.ql-tooltip-arrow');\n      arrow.style.marginLeft = '';\n      if (shift === 0) return shift;\n      arrow.style.marginLeft = -1 * shift - arrow.offsetWidth / 2 + 'px';\n    }\n  }]);\n\n  return BubbleTooltip;\n}(_base.BaseTooltip);\n\nBubbleTooltip.TEMPLATE = ['<span class=\"ql-tooltip-arrow\"></span>', '<div class=\"ql-tooltip-editor\">', '<input type=\"text\" data-formula=\"e=mc^2\" data-link=\"https://quilljs.com\" data-video=\"Embed URL\">', '<a class=\"ql-close\"></a>', '</div>'].join('');\n\nexports.BubbleTooltip = BubbleTooltip;\nexports.default = BubbleTheme;\n\n/***/ }),\n/* 109 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__(63);\n\n\n/***/ })\n/******/ ])[\"default\"];\n});","var si = typeof setImmediate === 'function', tick;\nif (si) {\n  tick = function (fn) { setImmediate(fn); };\n} else {\n  tick = function (fn) { setTimeout(fn, 0); };\n}\n\nmodule.exports = tick;"]}